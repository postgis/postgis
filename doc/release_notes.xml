<!-- Converted by db4-upgrade version 1.1 -->
<appendix xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="release_notes">
  <title>Appendix</title>
    <subtitle>Release Notes</subtitle>

        <section>
            <title>PostGIS 3.5.4</title>
            <para>2025/10/16</para>
            <para>This version requires PostgreSQL 12-18beta1, GEOS 3.8 or higher, and Proj 6.1+. To take advantage of all features, GEOS 3.12+ is needed. To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</para>
            <simplesect>
                <title>Bug Fixes</title>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5977">5977</link>, Fix downgrade protection with standard conforming strings off (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5951">5951</link>, Fix crash in ST_GetFaceEdges with corrupted topology (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5947">5947</link>, [topology] Fix crash in ST_ModEdgeHeal (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5925">5925</link>, <link xlink:href="https://trac.osgeo.org/postgis/ticket/5946">5946</link>, [topology] Have GetFaceContainingPoint survive EMPTY edges (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5936">5936</link>, [topology] Do script-based upgrade in a single transaction (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5908">5908</link>, [topology] Fix crash in GetFaceContainingPoint (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5907">5907</link>, [topology] Fix crash in TopoGeo_AddPolygon with EMPTY input (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5922">5922</link>, [topology] Fix crash in TopoGeo_AddLinestring with EMPTY input (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5921">5921</link>, Crash freeing uninitialized pointer (Arsenii Mukhin)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5912">5912</link>, Crash on GML with xlink and no prefix (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5905">5905</link>, Crash on deeply nested geometries (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5909">5909</link>, ST_ValueCount crashes on empty table (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5917">5917</link>, ST_Relate becomes unresponsive (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5923">5923</link>, CG_ExtrudeStraightSkeleton crashes on empty polygon (Loïc Bartoletti)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5935">5935</link>, Require GDAL 2.4 for postgis_raster and switch to GDALGetDataTypeSizeBytes (Laurențiu Nicola)</para>
                <para>GT-257, fix issue with xsltproc with path has spaces (Laurențiu Nicola)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5938">5938</link>, incorrect parameter order in ST_Relate caching (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5927">5927</link>, ST_IsCollection throwing exception (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5902">5902</link>, ST_PointFromText cannot create geometries with M (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5943">5943</link>, Memory leak in handling GEOS GeometryFactory (Megan Ma)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5407">5407</link>, Use memset in place of bzero (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5082">5082</link>, LRS proportions clamped to [0,1] (Pawel Ostrowski)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5985">5985</link>, Fix configure issue with Debian 12 and 13 (Regina Obe, Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5991">5991</link>, CircularString distance error (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5994">5994</link>, Null pointer in ST_AsGeoJsonRow (Alexander Kukushkin)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5989">5989</link>, ST_Distance error on CurvePolygon (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5962">5962</link>, Consistent clipping of MULTI/POINT (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5754">5754</link>, ST_ForcePolygonCCW reverses lines (Paul Ramsey)</para>
            </simplesect>
        </section>

        <section>
            <title>PostGIS 3.5.3</title>
            <para>2025/05/17</para>
            <para>This version requires PostgreSQL 12-18beta1, GEOS 3.8 or higher, and Proj 6.1+.
            To take advantage of all features, GEOS 3.12+ is needed.
            To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</para>

            <simplesect>
                <title>Bug Fixes</title>
                    <para>Do not complain about illegal option when calling shp2pgsql -?
                    (Sandro Santilli, Giovanni Zezza)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5862">5862</link>, [topology] Prevent another topology corruption with
                            TopoGeo_addPoint near almost collinear edges (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5841">5841</link>, Change approach to interrupt handling to conform to PgSQL
                            recommended practice (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5855">5855</link>, Fix index binding in ST_DFullyWithin (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5819">5819</link>, Support longer names in estimated extent (Paul Ramsey)</para>
                    <para>Fix misassignment of result in _lwt_HealEdges (Maxim Korotkov)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5876">5876</link>, ST_AddPoint with empty argument adds garbage (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5874">5874</link>, Line substring returns wrong answer (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5829">5829</link>, geometry_columns with non-standard constraints (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5818">5818</link>, <link xlink:href="https://git.osgeo.org/gitea/postgis/postgis/pulls/244">GT-244</link> Fix CG_IsSolid function (Loïc Bartoletti)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5885">5885</link>, Fix documentation about grid-based overlay operations (Sandro Santilli)</para>
                    <para>For SFCGAL 2.1.0+ prevent using deprecated functions (Regina Obe)</para>
            </simplesect>
        </section>
        <section>
            <title>PostGIS 3.5.2</title>
            <para>2025/01/18</para>
            <para>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+.
            To take advantage of all features, GEOS 3.12+ is needed.
            To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</para>

            <simplesect>
                <title>Bug Fixes</title>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5677">#5677</link>, Retain SRID during unary union (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5833">#5833</link>, pg_upgrade fix for postgis_sfcgal (Regina Obe)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5564">#5564</link>, BRIN crash fix and support for parallel in PG17+ (Paul Ramsey, Regina Obe)</para>
            </simplesect>
        </section>
        <section>
            <title>PostGIS 3.5.1</title>
            <para>2024/12/22</para>
            <para>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+.
            To take advantage of all features, GEOS 3.12+ is needed.
            To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</para>

            <simplesect>
                <title>Breaking Changes</title>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5677">#5677</link>, Retain SRID during unary union (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5792">#5792</link>, [topology] Prevent topology corruption with TopoGeo_addPoint near almost
                        collinear edges (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5795">#5795</link>, [topology] Fix ST_NewEdgesSplit can cause invalid topology
                        (Björn Harrtell)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5794">#5794</link>, [topology] Fix crash in TopoGeo_addPoint (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5785">#5785</link>, [raster] ST_MapAlgebra segfaults when expression references
                        a supernumerary rast argument (Dian M Fay)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5787">#5787</link>, Check that ST_ChangeEdgeGeom doesn't change winding of rings
                        (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5791">#5791</link>, Add legacy stubs for old transaction functions
                        to allow pg_upgrade (Regina Obe)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5800">#5800</link>, PROJ compiled version reading the wrong minor and micro
                        (Regina Obe)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5790">#5790</link>, Non-schema qualified calls causing issue with
                        materialized views (Regina Obe)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5812">#5812</link>, Performance regression in ST_Within (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5815">#5815</link>, Remove hash/merge promise from &lt;&gt; operator (Paul Ramsey)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5823">#5823</link>, Build support for Pg18 (Paul Ramsey)</para>
            </simplesect>

            <simplesect>
                <title>Enhancements</title>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5782">#5782</link>, Improve robustness of min distance calculation (Sandro Santilli)</para>
                <para>[topology] Speedup topology building when closing large rings with many
                    holes (Björn Harrtell)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5810">#5810</link>, Update tiger geocoder to handle TIGER 2024 data (Regina Obe)</para>
            </simplesect>

            <simplesect>
                <title>Breaking Changes</title>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5799">#5799</link>, make ST_TileEnvelope clip envelopes to tile plane
           extent (Paul Ramsey)</para>
            </simplesect>
        </section>

        <section>
            <title>PostGIS 3.5.0</title>
            <para>2024/09/25</para>
            <para>This version requires PostgreSQL 12-17, GEOS 3.8 or higher, and Proj 6.1+.
            To take advantage of all features, GEOS 3.12+ is needed.
            To take advantage of all SFCGAL features, SFCGAL 1.5.0+ is needed.</para>

            <para>Many thanks to our translation teams, in particular:</para>
            <para>Dapeng Wang, Zuo Chenwei from HighGo (Chinese Team)</para>
            <para>Teramoto Ikuhiro (Japanese Team)</para>
            <para>Vincent Bre (French Team)</para>

            <simplesect>
                <title>Breaking Changes</title>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5546">#5546</link>, TopoGeometry &lt;&gt; TopoGeometry is now ambiguous, to get
           the old behaviour, assuming your TopoGeometry objects
           are named tg1 and tg2, use: (
              id(tg1) &lt;&gt; id(tg2) OR
              topology_id(tg1) &lt;&gt; topology_id(tg2) OR
              layer_id(tg1) &lt;&gt; layer_id(tg2) OR
              type(tg1) &lt;&gt; type(tg2)
           ) (Sandro Santilli)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5536">#5536</link>, comments are not anymore included in PostGIS extensions
           (Sandro Santilli)</para>
<para>xmllint is now required to build comments (Sandro Santilli)</para>
<para>DocBook5 XSL is now required to build html (Sandro Santilli)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5602">#5602</link>, Drop support for GEOS 3.6 and 3.7 (Regina Obe)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5571">#5571</link>, Improve ST_GeneratePoints performance, but old
           seeded pseudo random points will need to be regenerated.</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5596">#5596</link>, GH-749, Allow promoting column as an id
           in ST_AsGeoJson(record,..).
           Views and materialized views that use the ST_AsGeoJSON(record ..)
           will need rebuilding to upgrade to new signature
           (Jan Tojnar)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5496">#5496</link>, ST_Clip all variants replaced, will require
           rebuilding of materialized views that use them (funding from The National Institute for Agricultural
            and Food Research and Technology (INIA-CSIC)), 
            Regina Obe</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5659">#5659</link>, ST_DFullyWithin behaviour has changed to
           be ST_Contains(ST_Buffer(A, R), B) (Paul Ramsey)</para>
<para>Remove the WFS_locks extra package. (Paul Ramsey)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5747">5747</link>, <link xlink:href="https://github.com/postgis/postgis/pull/776">GH-776</link>, ST_Length: Return 0 for CurvePolygon (Dan Baston)</para>
<para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5770">5770</link>, support for GEOS 3.13 and RelateNG. Most functionality
           remains the same, but new GEOS predicate implementation
           has a few small changes.</para>
      <para>Boundary Node Rule relate matrices might be different when
        using the "multi-valent end point" rule.</para>
      <para>Relate matrices for situations with invalid MultiPolygons
        with shared boundaries might be different. Run ST_MakeValid
        to get valid inputs to feed to the calculation.</para>
      <para>Zero length LineStrings are treated as if they are the
        equivalent Point object.</para>
            </simplesect>

            <simplesect><title>Deprecated signatures</title>
                <para><link xlink:href="https://github.com/postgis/postgis/pull/761">GH-761</link>, ST_StraightSkeleton => CG_StraightSkeleton (Loïc Bartoletti)</para>
            <para><link xlink:href="https://git.osgeo.org/gitea/postgis/postgis/pulls/189">GH-189</link>, All SFCGAL functions now use the prefix CG_, with the old ones using
            ST_ being deprecated. (Loïc Bartoletti)</para>
            </simplesect>

            <simplesect>
                <title>New features</title>
                <para>Improvements in the 'postgis' script:
                    <itemizedlist>
                        <listitem><para>new command list-enabled</para></listitem>
                        <listitem><para>new command list-all</para></listitem>
                        <listitem><para>command upgrade upgrades all databases that need to be</para></listitem>
                        <listitem><para>command status reports status of all databases</para></listitem>
                    </itemizedlist>
                    (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5742">#5742</link>, expose version of PROJ at compile time (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5721">#5721</link>, postgis_topology: Allow sharing sequences between different topologies (Lars Opsahl)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5667">#5667</link>, postgis_topology: TopoGeo_LoadGeometry (Sandro Santilli)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5055">#5055</link>, add explicit &lt;&gt; geometry operator to prevent non-unique
                        error with &lt;&gt; and &#x21;= (Paul Ramsey)</para>
                <para>Add ST_HasZ/ST_HasM (Loïc Bartoletti)</para>
                <para><link xlink:href="https://git.osgeo.org/gitea/postgis/postgis/pulls/123">GT-123</link>, postgis_sfcgal: CG_YMonotonePartition, CG_ApproxConvexPartition,
                            CG_GreeneApproxConvexPartition and CG_OptimalConvexPartition
                            (Loïc Bartoletti)</para>
                <para><link xlink:href="https://git.osgeo.org/gitea/postgis/postgis/pulls/156">GT-156</link>, postgis_sfcgal: CG_Visibility (Loïc Bartoletti)</para>
                <para><link xlink:href="https://git.osgeo.org/gitea/postgis/postgis/pulls/157">GT-157</link>, postgis_sfcgal: Add ST_ExtrudeStraightSkeleton (Loïc Bartoletti)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5496">#5496</link>, postgis_raster: ST_Clip support for touched (Regina Obe)</para>
                <para><link xlink:href="https://github.com/postgis/postgis/pull/760">GH-760</link>, postgis_sfcgal: CG_Intersection, CG_3DIntersects, CG_Intersects,
                            CG_Difference, CG_Union (and aggregate), CG_Triangulate, CG_Area,
                            CG_3DDistance, CG_Distance (Loïc Bartoletti)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5687">#5687</link>, Don't rely on search_path to determine postgis schema
                        Fix for PG17 security change (Regina Obe)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5705">#5705</link>, <link xlink:href="https://github.com/postgis/postgis/pull/767">GH-767</link>, ST_RemoveIrrelevantPointsForView  (Sam Peters)</para>
                <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5706">#5706</link>, <link xlink:href="https://github.com/postgis/postgis/pull/768">GH-768</link>, ST_RemoveSmallParts (Sam Peters)</para>
            </simplesect>

            <simplesect>
                <title>Enhancements</title>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5550">5550</link>, Fix upgrades from 2.x in sandboxed systems (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/3587">#3587</link>, postgis_topology: faster load of big lines in topologies (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5670">#5670</link>, postgis_topology: faster ST_CreateTopoGeo (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5531">#5531</link>, documentation format upgraded to DocBook 5 (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5543">#5543</link>, allow building without documentation (Sandro Santilli)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5596">#5596</link>, <link xlink:href="https://github.com/postgis/postgis/pull/749">GH-749</link>, Allow promoting column as an id
                            in ST_AsGeoJson(record,..). (Jan Tojnar)</para>
                    <para><link xlink:href="https://github.com/postgis/postgis/pull/744">GH-744</link>, Don't create docbook.css for the HTML manual,
                                use style.css instead (Chris Mayo)</para>
                    <para>Faster implementation of point-in-poly cached index (Paul Ramsey)</para>
                    <para>Improve performance of ST_GeneratePoints (Paul Ramsey)</para>
                    <para><link xlink:href="https://trac.osgeo.org/postgis/ticket/5361">#5361</link>, ST_CurveN, ST_NumCurves and consistency in
                            accessors on curved geometry (Paul Ramsey)</para>
                    <para><link xlink:href="https://github.com/postgis/postgis/pull/761">GH-761</link>, postgis_sfcgal: Add an optional parameter to CG_StraightSkeleton
                                (was ST_StraightSkeleton) to use m as a distance in result (Hannes Janetzek, Loïc Bartoletti)</para>

            </simplesect>


    </section>

</appendix>
