# SOME DESCRIPTIVE TITLE.
#
# Translators:
msgid ""
msgstr ""
"Project-Id-Version: PostGIS\n"
"Report-Msgid-Bugs-To: https://bugs.kde.org\n"
"POT-Creation-Date: 2020-12-15 04:51+0000\n"
"PO-Revision-Date: 2018-07-23 18:02+0000\n"
"Last-Translator: Jakub Bobrowski <jbobrowski@geoinfor.pl>\n"
"Language-Team: Polish (http://www.transifex.com/postgis/postgis/language/"
"pl/)\n"
"Language: pl\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=4; plural=(n==1 ? 0 : (n%10>=2 && n%10<=4) && (n"
"%100<12 || n%100>14) ? 1 : n!=1 && (n%10>=0 && n%10<=1) || (n%10>=5 && n"
"%10<=9) || (n%100>=12 && n%100<=14) ? 2 : 3);\n"

#. Tag: title
#: reference_raster.xml:3
#, no-c-format
msgid "Raster Reference"
msgstr ""

#. Tag: para
#: reference_raster.xml:5
#, no-c-format
msgid ""
"The functions given below are the ones which a user of PostGIS Raster is "
"likely to need and which are currently available in PostGIS Raster. There "
"are other functions which are required support functions to the raster "
"objects which are not of use to a general user."
msgstr ""

#. Tag: para
#: reference_raster.xml:9
#, no-c-format
msgid ""
"<varname>raster</varname> is a new PostGIS type for storing and analyzing "
"raster data."
msgstr ""

#. Tag: para
#: reference_raster.xml:10
#, no-c-format
msgid ""
"For loading rasters from raster files please refer to <xref linkend="
"\"RT_Loading_Rasters\"/>"
msgstr ""

#. Tag: para
#: reference_raster.xml:12
#, no-c-format
msgid ""
"For the examples in this reference we will be using a raster table of dummy "
"rasters - Formed with the following code"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:13
#, no-c-format
msgid ""
"CREATE TABLE dummy_rast(rid integer, rast raster);\n"
"INSERT INTO dummy_rast(rid, rast)\n"
"VALUES (1,\n"
"('01' -- little endian (uint8 ndr)\n"
"||\n"
"'0000' -- version (uint16 0)\n"
"||\n"
"'0000' -- nBands (uint16 0)\n"
"||\n"
"'0000000000000040' -- scaleX (float64 2)\n"
"||\n"
"'0000000000000840' -- scaleY (float64 3)\n"
"||\n"
"'000000000000E03F' -- ipX (float64 0.5)\n"
"||\n"
"'000000000000E03F' -- ipY (float64 0.5)\n"
"||\n"
"'0000000000000000' -- skewX (float64 0)\n"
"||\n"
"'0000000000000000' -- skewY (float64 0)\n"
"||\n"
"'00000000' -- SRID (int32 0)\n"
"||\n"
"'0A00' -- width (uint16 10)\n"
"||\n"
"'1400' -- height (uint16 20)\n"
")::raster\n"
"),\n"
"-- Raster: 5 x 5 pixels, 3 bands, PT_8BUI pixel type, NODATA = 0\n"
"(2,  ('01000003009A9999999999A93F9A9999999999A9BF000000E02B274A' ||\n"
"'41000000007719564100000000000000000000000000000000FFFFFFFF050005000400FDFEFDFEFEFDFEFEFDF9FAFEF' "
"||\n"
"'EFCF9FBFDFEFEFDFCFAFEFEFE04004E627AADD16076B4F9FE6370A9F5FE59637AB0E54F58617087040046566487A1506CA2E3FA5A6CAFFBFE4D566DA4CB3E454C5665')::"
"raster);"
msgstr ""

#. Tag: para
#: reference_raster.xml:17
#, no-c-format
msgid ""
"This section lists the PostgreSQL data types specifically created to support "
"raster functionality."
msgstr ""

#. Tag: title
#: reference_raster.xml:20
#, no-c-format
msgid "Raster Support Data types"
msgstr ""

#. Tag: refname
#: reference_raster.xml:24
#, no-c-format
msgid "geomval"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:25
#, no-c-format
msgid ""
"A spatial datatype with two fields - geom (holding a geometry object) and "
"val (holding a double precision pixel value from a raster band)."
msgstr ""

#. Tag: title
#: reference_raster.xml:30 reference_raster.xml:49 reference_raster.xml:121
#: reference_raster.xml:171 reference_raster.xml:211 reference_raster.xml:257
#: reference_raster.xml:354 reference_raster.xml:535 reference_raster.xml:709
#: reference_raster.xml:776 reference_raster.xml:845 reference_raster.xml:888
#: reference_raster.xml:923 reference_raster.xml:960 reference_raster.xml:1003
#: reference_raster.xml:1064 reference_raster.xml:1109
#: reference_raster.xml:1224 reference_raster.xml:1433
#: reference_raster.xml:1520 reference_raster.xml:1606
#: reference_raster.xml:1663 reference_raster.xml:1730
#: reference_raster.xml:1795 reference_raster.xml:1837
#: reference_raster.xml:1887 reference_raster.xml:1926
#: reference_raster.xml:1960 reference_raster.xml:1997
#: reference_raster.xml:2040 reference_raster.xml:2075
#: reference_raster.xml:2109 reference_raster.xml:2159
#: reference_raster.xml:2213 reference_raster.xml:2250
#: reference_raster.xml:2290 reference_raster.xml:2345
#: reference_raster.xml:2400 reference_raster.xml:2446
#: reference_raster.xml:2481 reference_raster.xml:2517
#: reference_raster.xml:2553 reference_raster.xml:2588
#: reference_raster.xml:2627 reference_raster.xml:2661
#: reference_raster.xml:2695 reference_raster.xml:2739
#: reference_raster.xml:2801 reference_raster.xml:2856
#: reference_raster.xml:2902 reference_raster.xml:2964
#: reference_raster.xml:3006 reference_raster.xml:3057
#: reference_raster.xml:3092 reference_raster.xml:3128
#: reference_raster.xml:3162 reference_raster.xml:3236
#: reference_raster.xml:3270 reference_raster.xml:3313
#: reference_raster.xml:3359 reference_raster.xml:3421
#: reference_raster.xml:3464 reference_raster.xml:3519
#: reference_raster.xml:3562 reference_raster.xml:3638
#: reference_raster.xml:3725 reference_raster.xml:3812
#: reference_raster.xml:3900 reference_raster.xml:3985
#: reference_raster.xml:4111 reference_raster.xml:4208
#: reference_raster.xml:4260 reference_raster.xml:4308
#: reference_raster.xml:4351 reference_raster.xml:4398
#: reference_raster.xml:4442 reference_raster.xml:4480
#: reference_raster.xml:4555 reference_raster.xml:4624
#: reference_raster.xml:4692 reference_raster.xml:4769
#: reference_raster.xml:4841 reference_raster.xml:4920
#: reference_raster.xml:5061 reference_raster.xml:5096
#: reference_raster.xml:5143 reference_raster.xml:5196
#: reference_raster.xml:5258 reference_raster.xml:5317
#: reference_raster.xml:5390 reference_raster.xml:5495
#: reference_raster.xml:5545 reference_raster.xml:5619
#: reference_raster.xml:5765 reference_raster.xml:5807
#: reference_raster.xml:5850 reference_raster.xml:5904
#: reference_raster.xml:5957 reference_raster.xml:6009
#: reference_raster.xml:6104 reference_raster.xml:6195
#: reference_raster.xml:6283 reference_raster.xml:6391
#: reference_raster.xml:6584 reference_raster.xml:6823
#: reference_raster.xml:6966 reference_raster.xml:7116
#: reference_raster.xml:7446 reference_raster.xml:7652
#: reference_raster.xml:7776 reference_raster.xml:8102
#: reference_raster.xml:8220 reference_raster.xml:8333
#: reference_raster.xml:8475 reference_raster.xml:8557
#: reference_raster.xml:8629 reference_raster.xml:8693
#: reference_raster.xml:8764 reference_raster.xml:8839
#: reference_raster.xml:8922 reference_raster.xml:8993
#: reference_raster.xml:9049 reference_raster.xml:9124
#: reference_raster.xml:9195 reference_raster.xml:9279
#: reference_raster.xml:9371 reference_raster.xml:9453
#: reference_raster.xml:9507 reference_raster.xml:9581
#: reference_raster.xml:9629 reference_raster.xml:9681
#: reference_raster.xml:9723 reference_raster.xml:9771
#: reference_raster.xml:9822 reference_raster.xml:9870
#: reference_raster.xml:9912 reference_raster.xml:9984
#: reference_raster.xml:10029 reference_raster.xml:10073
#: reference_raster.xml:10118 reference_raster.xml:10187
#: reference_raster.xml:10234 reference_raster.xml:10307
#: reference_raster.xml:10375 reference_raster.xml:10464
#: reference_raster.xml:10549 reference_raster.xml:10630
#: reference_raster.xml:10711 reference_raster.xml:10840
#: reference_raster.xml:10924 reference_raster.xml:11004
#: reference_raster.xml:11123 reference_raster.xml:11170
#: reference_raster.xml:11242 reference_raster.xml:11339
#: reference_raster.xml:11432
#, no-c-format
msgid "Description"
msgstr "Opis"

#. Tag: para
#: reference_raster.xml:31
#, no-c-format
msgid ""
"geomval is a compound data type consisting of a geometry object referenced "
"by the .geom field and val, a double precision value that represents the "
"pixel value at a particular geometric location in a raster band. It is used "
"by the ST_DumpAsPolygon and Raster intersection family of functions as an "
"output type to explode a raster band into geometry polygons."
msgstr ""

#. Tag: title
#: reference_raster.xml:37 reference_raster.xml:107 reference_raster.xml:157
#: reference_raster.xml:200 reference_raster.xml:245 reference_raster.xml:340
#: reference_raster.xml:389 reference_raster.xml:583 reference_raster.xml:724
#: reference_raster.xml:802 reference_raster.xml:862 reference_raster.xml:898
#: reference_raster.xml:935 reference_raster.xml:973 reference_raster.xml:1028
#: reference_raster.xml:1079 reference_raster.xml:1138
#: reference_raster.xml:1268 reference_raster.xml:1485
#: reference_raster.xml:1575 reference_raster.xml:1620
#: reference_raster.xml:1683 reference_raster.xml:1759
#: reference_raster.xml:1810 reference_raster.xml:1858
#: reference_raster.xml:1905 reference_raster.xml:1939
#: reference_raster.xml:1975 reference_raster.xml:2018
#: reference_raster.xml:2054 reference_raster.xml:2088
#: reference_raster.xml:2132 reference_raster.xml:2192
#: reference_raster.xml:2229 reference_raster.xml:2267
#: reference_raster.xml:2312 reference_raster.xml:2371
#: reference_raster.xml:2425 reference_raster.xml:2460
#: reference_raster.xml:2496 reference_raster.xml:2532
#: reference_raster.xml:2567 reference_raster.xml:2601
#: reference_raster.xml:2640 reference_raster.xml:2674
#: reference_raster.xml:2709 reference_raster.xml:2759
#: reference_raster.xml:2816 reference_raster.xml:2871
#: reference_raster.xml:2942 reference_raster.xml:2977
#: reference_raster.xml:3032 reference_raster.xml:3070
#: reference_raster.xml:3215 reference_raster.xml:3248
#: reference_raster.xml:3285 reference_raster.xml:3327
#: reference_raster.xml:3389 reference_raster.xml:3432
#: reference_raster.xml:3487 reference_raster.xml:3530
#: reference_raster.xml:3585 reference_raster.xml:3660
#: reference_raster.xml:3750 reference_raster.xml:3844
#: reference_raster.xml:3915 reference_raster.xml:4064
#: reference_raster.xml:4130 reference_raster.xml:4286
#: reference_raster.xml:4321 reference_raster.xml:4370
#: reference_raster.xml:4415 reference_raster.xml:4455
#: reference_raster.xml:4493 reference_raster.xml:4585
#: reference_raster.xml:4650 reference_raster.xml:4719
#: reference_raster.xml:4797 reference_raster.xml:4871
#: reference_raster.xml:5026 reference_raster.xml:5074
#: reference_raster.xml:5115 reference_raster.xml:5168
#: reference_raster.xml:5221 reference_raster.xml:5273
#: reference_raster.xml:5334 reference_raster.xml:5426
#: reference_raster.xml:5511 reference_raster.xml:5576
#: reference_raster.xml:5636 reference_raster.xml:5783
#: reference_raster.xml:5824 reference_raster.xml:5867
#: reference_raster.xml:5932 reference_raster.xml:5980
#: reference_raster.xml:6058 reference_raster.xml:6149
#: reference_raster.xml:6240 reference_raster.xml:6320
#: reference_raster.xml:6547 reference_raster.xml:6781
#: reference_raster.xml:6890 reference_raster.xml:7025
#: reference_raster.xml:7377 reference_raster.xml:7613
#: reference_raster.xml:7726 reference_raster.xml:8018
#: reference_raster.xml:8177 reference_raster.xml:8300
#: reference_raster.xml:8433 reference_raster.xml:8504
#: reference_raster.xml:8588 reference_raster.xml:8661
#: reference_raster.xml:8731 reference_raster.xml:8800
#: reference_raster.xml:8882 reference_raster.xml:8961
#: reference_raster.xml:9016 reference_raster.xml:9085
#: reference_raster.xml:9156 reference_raster.xml:9231
#: reference_raster.xml:9324 reference_raster.xml:9421
#: reference_raster.xml:9464 reference_raster.xml:9549
#: reference_raster.xml:9597 reference_raster.xml:9648
#: reference_raster.xml:9698 reference_raster.xml:9743
#: reference_raster.xml:9796 reference_raster.xml:9842
#: reference_raster.xml:9885 reference_raster.xml:9924
#: reference_raster.xml:10132 reference_raster.xml:10200
#: reference_raster.xml:10253 reference_raster.xml:10319
#: reference_raster.xml:10410 reference_raster.xml:10495
#: reference_raster.xml:10576 reference_raster.xml:10657
#: reference_raster.xml:10741 reference_raster.xml:10870
#: reference_raster.xml:10951 reference_raster.xml:11031
#: reference_raster.xml:11144 reference_raster.xml:11188
#: reference_raster.xml:11275 reference_raster.xml:11370
#: reference_raster.xml:11463
#, no-c-format
msgid "See Also"
msgstr "Zobacz także"

#. Tag: refname
#: reference_raster.xml:44
#, no-c-format
msgid "addbandarg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:45
#, no-c-format
msgid ""
"<refpurpose>A composite type used as input into the ST_AddBand function "
"defining the attributes and initial value of the new band.</refpurpose>"
msgstr ""

#. Tag: para
#: reference_raster.xml:50
#, no-c-format
msgid ""
"<para>A composite type used as input into the ST_AddBand function defining "
"the attributes and initial value of the new band.</para>"
msgstr ""

#. Tag: term
#: reference_raster.xml:55
#, no-c-format
msgid "<parameter>index </parameter> <type>integer</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:60
#, no-c-format
msgid ""
"1-based value indicating the position where the new band will be added "
"amongst the raster's bands. If NULL, the new band will be added at the end "
"of the raster's bands."
msgstr ""

#. Tag: term
#: reference_raster.xml:67
#, no-c-format
msgid "<parameter>pixeltype </parameter> <type>text</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:72
#, no-c-format
msgid ""
"Pixel type of the new band. One of defined pixel types as described in <xref "
"linkend=\"RT_ST_BandPixelType\"/>."
msgstr ""

#. Tag: term
#: reference_raster.xml:79
#, no-c-format
msgid "<parameter>initialvalue </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:84
#, no-c-format
msgid "Initial value that all pixels of new band will be set to."
msgstr ""

#. Tag: term
#: reference_raster.xml:91
#, no-c-format
msgid "<parameter>nodataval </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:96
#, no-c-format
msgid ""
"NODATA value of the new band. If NULL, the new band will not have a NODATA "
"value assigned."
msgstr ""

#. Tag: refname
#: reference_raster.xml:116
#, no-c-format
msgid "rastbandarg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:117
#, no-c-format
msgid ""
"<refpurpose>A composite type for use when needing to express a raster and a "
"band index of that raster.</refpurpose>"
msgstr ""

#. Tag: para
#: reference_raster.xml:122
#, no-c-format
msgid ""
"<para>A composite type for use when needing to express a raster and a band "
"index of that raster.</para>"
msgstr ""

#. Tag: term
#: reference_raster.xml:128
#, no-c-format
msgid "<parameter>rast </parameter> <type>raster</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:133
#, no-c-format
msgid "The raster in question/"
msgstr ""

#. Tag: term
#: reference_raster.xml:140 reference_raster.xml:360
#, no-c-format
msgid "<parameter>nband </parameter> <type>integer</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:145
#, no-c-format
msgid "1-based value indicating the band of raster"
msgstr ""

#. Tag: refname
#: reference_raster.xml:166
#, no-c-format
msgid "raster"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:167
#, no-c-format
msgid "raster spatial data type."
msgstr ""

#. Tag: para
#: reference_raster.xml:172
#, no-c-format
msgid ""
"raster is a spatial data type used to represent raster data such as those "
"imported from JPEGs, TIFFs, PNGs, digital elevation models. Each raster has "
"1 or more bands each having a set of pixel values. Rasters can be "
"georeferenced."
msgstr ""

#. Tag: para
#: reference_raster.xml:175
#, no-c-format
msgid ""
"Requires PostGIS be compiled with GDAL support. Currently rasters can be "
"implicitly converted to geometry type, but the conversion returns the <xref "
"linkend=\"RT_ST_ConvexHull\"/> of the raster. This auto casting may be "
"removed in the near future so don't rely on it."
msgstr ""

#. Tag: title
#: reference_raster.xml:181
#, no-c-format
msgid "Casting Behavior"
msgstr ""

#. Tag: para
#: reference_raster.xml:182
#, no-c-format
msgid ""
"This section lists the automatic as well as explicit casts allowed for this "
"data type"
msgstr ""

#. Tag: entry
#: reference_raster.xml:187
#, no-c-format
msgid "Cast To"
msgstr ""

#. Tag: entry
#: reference_raster.xml:188
#, no-c-format
msgid "Behavior"
msgstr ""

#. Tag: entry
#: reference_raster.xml:191
#, no-c-format
msgid "geometry"
msgstr "geometry"

#. Tag: entry
#: reference_raster.xml:192
#, no-c-format
msgid "automatic"
msgstr ""

#. Tag: refname
#: reference_raster.xml:207
#, no-c-format
msgid "reclassarg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:208
#, no-c-format
msgid ""
"<refpurpose>A composite type used as input into the ST_Reclass function "
"defining the behavior of reclassification.</refpurpose>"
msgstr ""

#. Tag: para
#: reference_raster.xml:212
#, no-c-format
msgid ""
"<para>A composite type used as input into the ST_Reclass function defining "
"the behavior of reclassification.</para>"
msgstr ""

#. Tag: term
#: reference_raster.xml:215
#, no-c-format
msgid "<parameter>nband </parameter><type>integer</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:216
#, no-c-format
msgid "The band number of band to reclassify."
msgstr ""

#. Tag: term
#: reference_raster.xml:219
#, no-c-format
msgid "<parameter>reclassexpr </parameter><type>text</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:220
#, no-c-format
msgid ""
"range expression consisting of comma delimited range:map_range mappings. : "
"to define mapping that defines how to map old band values to new band "
"values. ( means &gt;, ) means less than, ] &lt; or equal, [ means &gt; or "
"equal"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:221
#, no-c-format
msgid ""
"1. [a-b] = a &lt;= x &lt;= b\n"
"\n"
"2. (a-b] = a &lt; x &lt;= b\n"
"\n"
"3. [a-b) = a &lt;= x &lt; b\n"
"\n"
"4. (a-b) = a &lt; x &lt; b"
msgstr ""

#. Tag: para
#: reference_raster.xml:222
#, no-c-format
msgid "( notation is optional so a-b means the same as (a-b)"
msgstr ""

#. Tag: term
#: reference_raster.xml:227
#, no-c-format
msgid "<parameter>pixeltype </parameter><type>text</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:228
#, no-c-format
msgid ""
"One of defined pixel types as described in <xref linkend="
"\"RT_ST_BandPixelType\"/>"
msgstr ""

#. Tag: term
#: reference_raster.xml:231
#, no-c-format
msgid "<parameter>nodataval </parameter><type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:232
#, no-c-format
msgid ""
"Value to treat as no data. For image outputs that support transparency, "
"these will be blank."
msgstr ""

#. Tag: title
#: reference_raster.xml:237
#, no-c-format
msgid "Example: Reclassify band 2 as an 8BUI where 255 is nodata value"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:238
#, no-c-format
msgid ""
"SELECT ROW(2, '0-100:1-10, 101-500:11-150,501 - 10000: 151-254', '8BUI', "
"255)::reclassarg;"
msgstr ""

#. Tag: title
#: reference_raster.xml:241
#, no-c-format
msgid "Example: Reclassify band 1 as an 1BB and no nodata value defined"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:242
#, no-c-format
msgid "SELECT ROW(1, '0-100]:0, (100-255:1', '1BB', NULL)::reclassarg;"
msgstr ""

#. Tag: refname
#: reference_raster.xml:252
#, no-c-format
msgid "summarystats"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:253
#, no-c-format
msgid ""
"A composite type returned by the ST_SummaryStats and ST_SummaryStatsAgg "
"functions."
msgstr ""

#. Tag: para
#: reference_raster.xml:258
#, no-c-format
msgid ""
"A composite type returned by the <xref linkend=\"RT_ST_SummaryStats\"/> and "
"<xref linkend=\"RT_ST_SummaryStatsAgg\"/> functions."
msgstr ""

#. Tag: term
#: reference_raster.xml:263
#, no-c-format
msgid "<parameter>count </parameter> <type>integer</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:268
#, no-c-format
msgid "Number of pixels counted for the summary statistics."
msgstr ""

#. Tag: term
#: reference_raster.xml:275
#, no-c-format
msgid "<parameter>sum </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:280
#, no-c-format
msgid "Sum of all counted pixel values."
msgstr ""

#. Tag: term
#: reference_raster.xml:287
#, no-c-format
msgid "<parameter>mean </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:292
#, no-c-format
msgid "Arithmetic mean of all counted pixel values."
msgstr ""

#. Tag: term
#: reference_raster.xml:299
#, no-c-format
msgid "<parameter>stddev </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:304
#, no-c-format
msgid "Standard deviation of all counted pixel values."
msgstr ""

#. Tag: term
#: reference_raster.xml:311
#, no-c-format
msgid "<parameter>min </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:316
#, no-c-format
msgid "Minimum value of counted pixel values."
msgstr ""

#. Tag: term
#: reference_raster.xml:323
#, no-c-format
msgid "<parameter>max </parameter> <type>double precision</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:328
#, no-c-format
msgid "Maximum value of counted pixel values."
msgstr ""

#. Tag: para
#: reference_raster.xml:341
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SummaryStatsAgg\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:349
#, no-c-format
msgid "unionarg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:350
#, no-c-format
msgid ""
"<refpurpose>A composite type used as input into the ST_Union function "
"defining the bands to be processed and behavior of the UNION operation.</"
"refpurpose>"
msgstr ""

#. Tag: para
#: reference_raster.xml:355
#, no-c-format
msgid ""
"<para>A composite type used as input into the ST_Union function defining the "
"bands to be processed and behavior of the UNION operation.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:365
#, no-c-format
msgid "1-based value indicating the band of each input raster to be processed."
msgstr ""

#. Tag: term
#: reference_raster.xml:372
#, no-c-format
msgid "<parameter>uniontype </parameter> <type>text</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:377
#, no-c-format
msgid ""
"Type of UNION operation. One of defined types as described in <xref linkend="
"\"RT_ST_Union\"/>."
msgstr ""

#. Tag: title
#: reference_raster.xml:399
#, no-c-format
msgid "Raster Management"
msgstr ""

#. Tag: refname
#: reference_raster.xml:402
#, no-c-format
msgid "AddRasterConstraints"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:404
#, no-c-format
msgid ""
"Adds raster constraints to a loaded raster table for a specific column that "
"constrains spatial ref, scaling, blocksize, alignment, bands, band type and "
"a flag to denote if raster column is regularly blocked. The table must be "
"loaded with data for the constraints to be inferred. Returns true if the "
"constraint setting was accomplished and issues a notice otherwise."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:408
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>AddRasterConstraints</function></"
"funcdef> <paramdef><type>name </type> <parameter>rasttable</parameter></"
"paramdef> <paramdef><type>name </type> <parameter>rastcolumn</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>srid=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>scale_x=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>scale_y=true</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>blocksize_x=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>blocksize_y=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>same_alignment=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>regular_blocking=false</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>num_bands=true</parameter> </paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>pixel_types=true</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>nodata_values=true</parameter> </paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>out_db=true</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>extent=true</"
"parameter> </paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>AddRasterConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>rasttable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rastcolumn</parameter></paramdef> <paramdef><type>text[] </"
"type> <parameter>VARIADIC constraints</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean "
"<function>AddRasterConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>rastschema</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rasttable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rastcolumn</parameter></paramdef> <paramdef><type>text[] </"
"type> <parameter>VARIADIC constraints</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean "
"<function>AddRasterConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>rastschema</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rasttable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rastcolumn</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>srid=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>scale_x=true</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>scale_y=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>blocksize_x=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>blocksize_y=true</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>same_alignment=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>regular_blocking=false</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>num_bands=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>pixel_types=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>nodata_values=true</parameter> </paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>out_db=true</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>extent=true</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:537
#, no-c-format
msgid ""
"Generates constraints on a raster column that are used to display "
"information in the <varname>raster_columns</varname> raster catalog. The "
"<varname>rastschema</varname> is the name of the table schema the table "
"resides in. The <varname>srid</varname> must be an integer value reference "
"to an entry in the SPATIAL_REF_SYS table."
msgstr ""

#. Tag: para
#: reference_raster.xml:542
#, no-c-format
msgid ""
"<varname>raster2pgsql</varname> loader uses this function to register raster "
"tables"
msgstr ""

#. Tag: para
#: reference_raster.xml:543
#, no-c-format
msgid ""
"Valid constraint names to pass in: refer to <xref linkend=\"RT_Raster_Columns"
"\"/> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:545
#, no-c-format
msgid "<varname>blocksize</varname> sets both X and Y blocksize"
msgstr ""

#. Tag: para
#: reference_raster.xml:546
#, no-c-format
msgid ""
"<varname>blocksize_x</varname> sets X tile (width in pixels of each tile)"
msgstr ""

#. Tag: para
#: reference_raster.xml:547
#, no-c-format
msgid ""
"<varname>blocksize_y</varname> sets Y tile (height in pixels of each tile)"
msgstr ""

#. Tag: para
#: reference_raster.xml:548
#, no-c-format
msgid ""
"<varname>extent</varname> computes extent of whole table and applys "
"constraint all rasters must be within that extent"
msgstr ""

#. Tag: para
#: reference_raster.xml:550
#, no-c-format
msgid "<varname>num_bands</varname> number of bands"
msgstr ""

#. Tag: para
#: reference_raster.xml:551
#, no-c-format
msgid ""
"<varname>pixel_types</varname> reads array of pixel types for each band "
"ensure all band n have same pixel type"
msgstr ""

#. Tag: para
#: reference_raster.xml:552
#, no-c-format
msgid ""
"<varname>regular_blocking</varname> sets spatially unique (no two rasters "
"can be spatially the same) and coverage tile (raster is aligned to a "
"coverage) constraints"
msgstr ""

#. Tag: para
#: reference_raster.xml:553
#, no-c-format
msgid ""
"<varname>same_alignment</varname> ensures they all have same alignment "
"meaning any two tiles you compare will return true for. Refer to <xref "
"linkend=\"RT_ST_SameAlignment\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:554
#, no-c-format
msgid "<varname>srid</varname> ensures all have same srid"
msgstr ""

#. Tag: para
#: reference_raster.xml:555
#, no-c-format
msgid "More -- any listed as inputs into the above functions"
msgstr ""

#. Tag: para
#: reference_raster.xml:558
#, no-c-format
msgid ""
"This function infers the constraints from the data already present in the "
"table. As such for it to work, you must create the raster column first and "
"then load it with data."
msgstr ""

#. Tag: para
#: reference_raster.xml:563
#, no-c-format
msgid ""
"If you need to load more data in your tables after you have already applied "
"constraints, you may want to run the DropRasterConstraints if the extent of "
"your data has changed."
msgstr ""

#. Tag: para
#: reference_raster.xml:567 reference_raster.xml:716 reference_raster.xml:792
#: reference_raster.xml:858 reference_raster.xml:1526 reference_raster.xml:1964
#: reference_raster.xml:3014 reference_raster.xml:3274
#: reference_raster.xml:3317 reference_raster.xml:3378
#: reference_raster.xml:5104 reference_raster.xml:5263
#: reference_raster.xml:5412 reference_raster.xml:5500
#: reference_raster.xml:5554 reference_raster.xml:5770
#: reference_raster.xml:6405 reference_raster.xml:7672
#: reference_raster.xml:7871 reference_raster.xml:8135
#: reference_raster.xml:8254 reference_raster.xml:8383
#: reference_raster.xml:8481 reference_raster.xml:8565
#: reference_raster.xml:8649 reference_raster.xml:8788
#: reference_raster.xml:8863 reference_raster.xml:8950
#: reference_raster.xml:9073 reference_raster.xml:9144
#: reference_raster.xml:9219 reference_raster.xml:9305
#: reference_raster.xml:9401 reference_raster.xml:9529
#: reference_raster.xml:9991 reference_raster.xml:10242
#: reference_raster.xml:10314 reference_raster.xml:11133
#, no-c-format
msgid "Availability: 2.0.0"
msgstr "Dostępność: 2.0.0"

#. Tag: title
#: reference_raster.xml:571
#, no-c-format
msgid "Examples: Apply all possible constraints on column based on data"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:573
#, no-c-format
msgid ""
"CREATE TABLE myrasters(rid SERIAL primary key, rast raster);\n"
"INSERT INTO myrasters(rast)\n"
"SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, "
"0,4326), 1, '8BSI'::text, -129, NULL);\n"
"\n"
"SELECT AddRasterConstraints('myrasters'::name, 'rast'::name);\n"
"\n"
"\n"
"-- verify if registered correctly in the raster_columns view --\n"
"SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, "
"pixel_types, nodata_values\n"
"        FROM raster_columns\n"
"        WHERE r_table_name = 'myrasters';\n"
"\n"
" srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | "
"pixel_types| nodata_values\n"
"------+---------+---------+-------------+-------------+-----------"
"+-------------+---------------\n"
" 4326 |       2 |       2 |        1000 |        1000 |         1 | "
"{8BSI}      | {0}"
msgstr ""

#. Tag: title
#: reference_raster.xml:577
#, no-c-format
msgid "Examples: Apply single constraint"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:579
#, no-c-format
msgid ""
"CREATE TABLE public.myrasters2(rid SERIAL primary key, rast raster);\n"
"INSERT INTO myrasters2(rast)\n"
"SELECT ST_AddBand(ST_MakeEmptyRaster(1000, 1000, 0.3, -0.3, 2, 2, 0, "
"0,4326), 1, '8BSI'::text, -129, NULL);\n"
"\n"
"SELECT AddRasterConstraints('public'::name, 'myrasters2'::name, 'rast'::"
"name,'regular_blocking', 'blocksize');\n"
"-- get notice--\n"
"NOTICE:  Adding regular blocking constraint\n"
"NOTICE:  Adding blocksize-X constraint\n"
"NOTICE:  Adding blocksize-Y constraint"
msgstr ""

#. Tag: para
#: reference_raster.xml:585
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_AddBand\"/>, <xref linkend=\"RT_ST_MakeEmptyRaster\"/"
">, <xref linkend=\"RT_DropRasterConstraints\"/>, <xref linkend="
"\"RT_ST_BandPixelType\"/>, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:591
#, no-c-format
msgid "DropRasterConstraints"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:593
#, no-c-format
msgid ""
"Drops PostGIS raster constraints that refer to a raster table column. Useful "
"if you need to reload data or update your raster column data."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:597
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>DropRasterConstraints</function></"
"funcdef> <paramdef><type>name </type> <parameter>rasttable</parameter></"
"paramdef> <paramdef><type>name </type> <parameter>rastcolumn</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>srid</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>scale_x</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>scale_y</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>blocksize_x</"
"parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>blocksize_y</parameter></paramdef> <paramdef><type>boolean </"
"type> <parameter>same_alignment</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>regular_blocking</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>num_bands=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>pixel_types=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>nodata_values=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>out_db=true</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>extent=true</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>DropRasterConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>rastschema</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rasttable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rastcolumn</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>srid=true</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>scale_x=true</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>scale_y=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>blocksize_x=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>blocksize_y=true</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>same_alignment=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>regular_blocking=false</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>num_bands=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>pixel_types=true</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>nodata_values=true</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>out_db=true</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>extent=true</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>DropRasterConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>rastschema</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rasttable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>rastcolumn</parameter></paramdef> <paramdef><type>text[] </"
"type> <parameter>constraints</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:710
#, no-c-format
msgid ""
"Drops PostGIS raster constraints that refer to a raster table column that "
"were added by <xref linkend=\"RT_AddRasterConstraints\"/>. Useful if you "
"need to load more data or update your raster column data. You do not need to "
"do this if you want to get rid of a raster table or a raster column."
msgstr ""

#. Tag: para
#: reference_raster.xml:712
#, no-c-format
msgid "To drop a raster table use the standard"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:712
#, no-c-format
msgid "DROP TABLE mytable"
msgstr ""

#. Tag: para
#: reference_raster.xml:713
#, no-c-format
msgid ""
"To drop just a raster column and leave the rest of the table, use standard "
"SQL"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:713
#, no-c-format
msgid "ALTER TABLE mytable DROP COLUMN rast"
msgstr ""

#. Tag: para
#: reference_raster.xml:714
#, no-c-format
msgid ""
"the table will disappear from the <varname>raster_columns</varname> catalog "
"if the column or table is dropped. However if only the constraints are "
"dropped, the raster column will still be listed in the "
"<varname>raster_columns</varname> catalog, but there will be no other "
"information about it aside from the column name and table."
msgstr ""

#. Tag: title
#: reference_raster.xml:719 reference_raster.xml:796 reference_raster.xml:893
#: reference_raster.xml:929 reference_raster.xml:967 reference_raster.xml:1530
#: reference_raster.xml:1676 reference_raster.xml:1750
#: reference_raster.xml:1851 reference_raster.xml:1899
#: reference_raster.xml:1932 reference_raster.xml:1968
#: reference_raster.xml:2011 reference_raster.xml:2047
#: reference_raster.xml:2081 reference_raster.xml:2221
#: reference_raster.xml:2259 reference_raster.xml:2302
#: reference_raster.xml:2361 reference_raster.xml:2415
#: reference_raster.xml:2453 reference_raster.xml:2488
#: reference_raster.xml:2524 reference_raster.xml:2560
#: reference_raster.xml:2596 reference_raster.xml:2633
#: reference_raster.xml:2667 reference_raster.xml:2701
#: reference_raster.xml:2752 reference_raster.xml:2809
#: reference_raster.xml:2864 reference_raster.xml:2970
#: reference_raster.xml:3025 reference_raster.xml:3063
#: reference_raster.xml:3103 reference_raster.xml:3138
#: reference_raster.xml:3208 reference_raster.xml:3241
#: reference_raster.xml:3278 reference_raster.xml:3322
#: reference_raster.xml:3384 reference_raster.xml:3427
#: reference_raster.xml:3482 reference_raster.xml:3525
#: reference_raster.xml:3580 reference_raster.xml:3647
#: reference_raster.xml:3741 reference_raster.xml:3833
#: reference_raster.xml:3908 reference_raster.xml:4121
#: reference_raster.xml:4217 reference_raster.xml:4280
#: reference_raster.xml:4314 reference_raster.xml:4362
#: reference_raster.xml:4405 reference_raster.xml:4486
#: reference_raster.xml:4579 reference_raster.xml:4643
#: reference_raster.xml:4711 reference_raster.xml:4789
#: reference_raster.xml:4866 reference_raster.xml:4951
#: reference_raster.xml:5067 reference_raster.xml:5108
#: reference_raster.xml:5163 reference_raster.xml:5216
#: reference_raster.xml:5267 reference_raster.xml:5329
#: reference_raster.xml:5504 reference_raster.xml:5631
#: reference_raster.xml:5774 reference_raster.xml:5817
#: reference_raster.xml:5860 reference_raster.xml:5925
#: reference_raster.xml:5973 reference_raster.xml:6232
#: reference_raster.xml:6670 reference_raster.xml:7676
#: reference_raster.xml:8139 reference_raster.xml:8387
#: reference_raster.xml:8654 reference_raster.xml:8726
#: reference_raster.xml:8793 reference_raster.xml:8955
#: reference_raster.xml:9011 reference_raster.xml:9078
#: reference_raster.xml:9149 reference_raster.xml:9224
#: reference_raster.xml:9459 reference_raster.xml:9592
#: reference_raster.xml:9643 reference_raster.xml:9692
#: reference_raster.xml:9735 reference_raster.xml:9791
#: reference_raster.xml:9836 reference_raster.xml:9880
#: reference_raster.xml:9919 reference_raster.xml:9995
#: reference_raster.xml:10039 reference_raster.xml:10084
#: reference_raster.xml:10247 reference_raster.xml:10403
#: reference_raster.xml:10490 reference_raster.xml:10571
#: reference_raster.xml:10652 reference_raster.xml:10733
#: reference_raster.xml:10865 reference_raster.xml:10946
#: reference_raster.xml:11026 reference_raster.xml:11183
#: reference_raster.xml:11270 reference_raster.xml:11365
#: reference_raster.xml:11458
#, no-c-format
msgid "Examples"
msgstr "Przykłady"

#. Tag: programlisting
#: reference_raster.xml:721
#, no-c-format
msgid ""
"SELECT DropRasterConstraints ('myrasters','rast');\n"
"----RESULT output ---\n"
"t\n"
"\n"
"-- verify change in raster_columns --\n"
"SELECT srid, scale_x, scale_y, blocksize_x, blocksize_y, num_bands, "
"pixel_types, nodata_values\n"
"        FROM raster_columns\n"
"        WHERE r_table_name = 'myrasters';\n"
"\n"
" srid | scale_x | scale_y | blocksize_x | blocksize_y | num_bands | "
"pixel_types| nodata_values\n"
"------+---------+---------+-------------+-------------+-----------"
"+-------------+---------------\n"
"    0 |         |         |             |             |           "
"|             |"
msgstr ""

#. Tag: refname
#: reference_raster.xml:732
#, no-c-format
msgid "AddOverviewConstraints"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:734
#, no-c-format
msgid "Tag a raster column as being an overview of another."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:738
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>AddOverviewConstraints</"
"function></funcdef> <paramdef><type>name </type> <parameter>ovschema</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>ovtable</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>ovcolumn</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>refschema</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>reftable</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>refcolumn</"
"parameter></paramdef> <paramdef><type>int </type> <parameter>ovfactor</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>AddOverviewConstraints</function></funcdef> <paramdef><type>name </"
"type> <parameter>ovtable</parameter></paramdef> <paramdef><type>name </type> "
"<parameter>ovcolumn</parameter></paramdef> <paramdef><type>name </type> "
"<parameter>reftable</parameter></paramdef> <paramdef><type>name </type> "
"<parameter>refcolumn</parameter></paramdef> <paramdef><type>int </type> "
"<parameter>ovfactor</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:778
#, no-c-format
msgid ""
"Adds constraints on a raster column that are used to display information in "
"the <varname>raster_overviews</varname> raster catalog."
msgstr ""

#. Tag: para
#: reference_raster.xml:782
#, no-c-format
msgid ""
"The <varname>ovfactor</varname> parameter represents the scale multiplier in "
"the overview column: higher overview factors have lower resolution."
msgstr ""

#. Tag: para
#: reference_raster.xml:786
#, no-c-format
msgid ""
"When the <varname>ovschema</varname> and <varname>refschema</varname> "
"parameters are omitted, the first table found scanning the "
"<varname>search_path</varname> will be used."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:798
#, no-c-format
msgid ""
"CREATE TABLE res1 AS SELECT\n"
"ST_AddBand(\n"
"  ST_MakeEmptyRaster(1000, 1000, 0, 0, 2),\n"
"  1, '8BSI'::text, -129, NULL\n"
") r1;\n"
"\n"
"CREATE TABLE res2 AS SELECT\n"
"ST_AddBand(\n"
"  ST_MakeEmptyRaster(500, 500, 0, 0, 4),\n"
"  1, '8BSI'::text, -129, NULL\n"
") r2;\n"
"\n"
"SELECT AddOverviewConstraints('res2', 'r2', 'res1', 'r1', 2);\n"
"\n"
"-- verify if registered correctly in the raster_overviews view --\n"
"SELECT o_table_name ot, o_raster_column oc,\n"
"       r_table_name rt, r_raster_column rc,\n"
"       overview_factor f\n"
"FROM raster_overviews WHERE o_table_name = 'res2';\n"
"  ot  | oc |  rt  | rc | f\n"
"------+----+------+----+---\n"
" res2 | r2 | res1 | r1 | 2\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:804
#, no-c-format
msgid ""
", <xref linkend=\"RT_DropOverviewConstraints\"/>, <xref linkend="
"\"RT_CreateOverview\"/>, <xref linkend=\"RT_AddRasterConstraints\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:815
#, no-c-format
msgid "DropOverviewConstraints"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:817
#, no-c-format
msgid "Untag a raster column from being an overview of another."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:821
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>DropOverviewConstraints</"
"function></funcdef> <paramdef><type>name </type> <parameter>ovschema</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>ovtable</"
"parameter></paramdef> <paramdef><type>name </type> <parameter>ovcolumn</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>DropOverviewConstraints</function></funcdef> <paramdef><type>name "
"</type> <parameter>ovtable</parameter></paramdef> <paramdef><type>name </"
"type> <parameter>ovcolumn</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:847
#, no-c-format
msgid ""
"Remove from a raster column the constraints used to show it as being an "
"overview of another in the <varname>raster_overviews</varname> raster "
"catalog."
msgstr ""

#. Tag: para
#: reference_raster.xml:852
#, no-c-format
msgid ""
"When the <varname>ovschema</varname> parameter is omitted, the first table "
"found scanning the <varname>search_path</varname> will be used."
msgstr ""

#. Tag: para
#: reference_raster.xml:864
#, no-c-format
msgid ""
", <xref linkend=\"RT_AddOverviewConstraints\"/>, <xref linkend="
"\"RT_DropRasterConstraints\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:874
#, no-c-format
msgid "PostGIS_GDAL_Version"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:875
#, no-c-format
msgid "Reports the version of the GDAL library in use by PostGIS."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:880
#, no-c-format
msgid ""
"<funcdef>text <function>PostGIS_GDAL_Version</function></funcdef> "
"<paramdef></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:889
#, no-c-format
msgid ""
"Reports the version of the GDAL library in use by PostGIS. Will also check "
"and report if GDAL can find its data files."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:894
#, no-c-format
msgid ""
"SELECT PostGIS_GDAL_Version();\n"
"       postgis_gdal_version\n"
"-----------------------------------\n"
" GDAL 1.11dev, released 2013/04/13"
msgstr ""

#. Tag: refname
#: reference_raster.xml:907
#, no-c-format
msgid "PostGIS_Raster_Lib_Build_Date"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:909
#, no-c-format
msgid "Reports full raster library build date."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:914
#, no-c-format
msgid ""
"<funcdef>text <function>PostGIS_Raster_Lib_Build_Date</function></funcdef> "
"<paramdef></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:925
#, no-c-format
msgid "Reports raster build date"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:931
#, no-c-format
msgid ""
"SELECT PostGIS_Raster_Lib_Build_Date();\n"
"postgis_raster_lib_build_date\n"
"-----------------------------\n"
"2010-04-28 21:15:10"
msgstr ""

#. Tag: refname
#: reference_raster.xml:943
#, no-c-format
msgid "PostGIS_Raster_Lib_Version"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:945
#, no-c-format
msgid ""
"<refpurpose>Reports full raster version and build configuration infos.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:951
#, no-c-format
msgid ""
"<funcdef>text <function>PostGIS_Raster_Lib_Version</function></funcdef> "
"<paramdef></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:962
#, no-c-format
msgid "<para>Reports full raster version and build configuration infos.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:969
#, no-c-format
msgid ""
"SELECT PostGIS_Raster_Lib_Version();\n"
"postgis_raster_lib_version\n"
"-----------------------------\n"
" 2.0.0"
msgstr ""

#. Tag: refname
#: reference_raster.xml:983
#, no-c-format
msgid "ST_GDALDrivers"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:985
#, no-c-format
msgid ""
"Returns a list of raster formats supported by PostGIS through GDAL. Only "
"those formats with can_write=True can be used by ST_AsGDALRaster"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:990
#, no-c-format
msgid ""
"<funcdef>setof record <function>ST_GDALDrivers</function></funcdef> "
"<paramdef><type>integer </type> <parameter>OUT idx</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>OUT short_name</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>OUT long_name</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>OUT can_read</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>OUT can_write</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>OUT create_options</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1005
#, no-c-format
msgid ""
"Returns a list of raster formats short_name,long_name and creator options of "
"each format supported by GDAL. Use the short_name as input in the "
"<varname>format</varname> parameter of <xref linkend=\"RT_ST_AsGDALRaster\"/"
">. Options vary depending on what drivers your libgdal was compiled with. "
"<varname>create_options</varname> returns an xml formatted set of "
"CreationOptionList/Option consisting of name and optional <varname>type</"
"varname>, <varname>description</varname> and set of <varname>VALUE</varname> "
"for each creator option for the specific driver."
msgstr ""

#. Tag: para
#: reference_raster.xml:1010
#, no-c-format
msgid "Changed: 2.5.0 - add can_read and can_write columns."
msgstr ""

#. Tag: para
#: reference_raster.xml:1011
#, no-c-format
msgid ""
"Changed: 2.0.6, 2.1.3 - by default no drivers are enabled, unless GUC or "
"Environment variable gdal_enabled_drivers is set."
msgstr ""

#. Tag: para
#: reference_raster.xml:1012 reference_raster.xml:1453
#: reference_raster.xml:6029 reference_raster.xml:6137
#: reference_raster.xml:6228 reference_raster.xml:6308
#, no-c-format
msgid "Availability: 2.0.0 - requires GDAL &gt;= 1.6.0."
msgstr ""

#. Tag: title
#: reference_raster.xml:1017
#, no-c-format
msgid "Examples: List of Drivers"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1019
#, no-c-format
msgid ""
"SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';\n"
"SELECT short_name, long_name, can_write\n"
"FROM st_gdaldrivers()\n"
"ORDER BY short_name;\n"
"\n"
"   short_name    |                          "
"long_name                          | can_write\n"
"-----------------"
"+-------------------------------------------------------------+-----------\n"
" AAIGrid         | Arc/Info ASCII "
"Grid                                         | t\n"
" ACE2            | "
"ACE2                                                        | f\n"
" ADRG            | ARC Digitized Raster "
"Graphics                               | f\n"
" AIG             | Arc/Info Binary "
"Grid                                        | f\n"
" AirSAR          | AirSAR Polarimetric "
"Image                                   | f\n"
" ARG             | Azavea Raster Grid "
"format                                   | t\n"
" BAG             | Bathymetry Attributed "
"Grid                                  | f\n"
" BIGGIF          | Graphics Interchange Format (."
"gif)                          | f\n"
" BLX             | Magellan topo (."
"blx)                                        | t\n"
" BMP             | MS Windows Device Independent "
"Bitmap                        | f\n"
" BSB             | Maptech BSB Nautical "
"Charts                                 | f\n"
" PAux            | PCI .aux "
"Labelled                                           | f\n"
" PCIDSK          | PCIDSK Database "
"File                                        | f\n"
" PCRaster        | PCRaster Raster "
"File                                        | f\n"
" PDF             | Geospatial "
"PDF                                              | f\n"
" PDS             | NASA Planetary Data "
"System                                  | f\n"
" PDS4            | NASA Planetary Data System "
"4                                | t\n"
" PLMOSAIC        | Planet Labs Mosaics "
"API                                     | f\n"
" PLSCENES        | Planet Labs Scenes "
"API                                      | f\n"
" PNG             | Portable Network "
"Graphics                                   | t\n"
" PNM             | Portable Pixmap Format "
"(netpbm)                             | f\n"
" PRF             | Racurs PHOTOMOD "
"PRF                                         | f\n"
" R               | R Object Data "
"Store                                         | t\n"
" Rasterlite      | "
"Rasterlite                                                  | t\n"
" RDA             | DigitalGlobe Raster Data Access "
"driver                      | f\n"
" RIK             | Swedish Grid RIK (."
"rik)                                     | f\n"
" RMF             | Raster Matrix "
"Format                                        | f\n"
" ROI_PAC         | ROI_PAC "
"raster                                              | f\n"
" RPFTOC          | Raster Product Format TOC "
"format                            | f\n"
" RRASTER         | R "
"Raster                                                    | f\n"
" RS2             | RadarSat 2 XML "
"Product                                      | f\n"
" RST             | Idrisi Raster "
"A.1                                           | t\n"
" SAFE            | Sentinel-1 SAR SAFE "
"Product                                 | f\n"
" SAGA            | SAGA GIS Binary Grid (.sdat, .sg-grd-"
"z)                     | t\n"
" SAR_CEOS        | CEOS SAR "
"Image                                              | f\n"
" SDTS            | SDTS "
"Raster                                                 | f\n"
" SENTINEL2       | Sentinel "
"2                                                  | f\n"
" SGI             | SGI Image File Format "
"1.0                                   | f\n"
" SNODAS          | Snow Data Assimilation "
"System                               | f\n"
" SRP             | Standard Raster Product (ASRP/"
"USRP)                         | f\n"
" SRTMHGT         | SRTMHGT File "
"Format                                         | t\n"
" Terragen        | Terragen "
"heightfield                                        | f\n"
" TIL             | EarthWatch ."
"TIL                                             | f\n"
" TSX             | TerraSAR-X "
"Product                                          | f\n"
" USGSDEM         | USGS Optional ASCII DEM (and "
"CDED)                          | t\n"
" VICAR           | MIPL VICAR "
"file                                             | f\n"
" VRT             | Virtual "
"Raster                                              | t\n"
" WCS             | OGC Web Coverage "
"Service                                    | f\n"
" WMS             | OGC Web Map "
"Service                                         | t\n"
" WMTS            | OGC Web Map Tile "
"Service                                    | t\n"
" XPM             | X11 PixMap "
"Format                                           | t\n"
" XYZ             | ASCII Gridded "
"XYZ                                           | t\n"
" ZMap            | ZMap Plus "
"Grid                                              | t"
msgstr ""

#. Tag: title
#: reference_raster.xml:1021
#, no-c-format
msgid "Example: List of options for each driver"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1022
#, no-c-format
msgid ""
"-- Output the create options XML column of JPEG as a table  --\n"
"-- Note you can use these creator options in ST_AsGDALRaster options "
"argument\n"
"SELECT (xpath('@name', g.opt))[1]::text As oname,\n"
"       (xpath('@type', g.opt))[1]::text As otype,\n"
"       (xpath('@description', g.opt))[1]::text As descrip\n"
"FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::"
"xml)) As opt\n"
"FROM  st_gdaldrivers()\n"
"WHERE short_name = 'JPEG') As g;\n"
"\n"
"       oname        |  otype  |      descrip\n"
"--------------------+---------"
"+-------------------------------------------------\n"
" PROGRESSIVE        | boolean | whether to generate a progressive JPEG\n"
" QUALITY            | int     | good=100, bad=0, default=75\n"
" WORLDFILE          | boolean | whether to geneate a worldfile\n"
" INTERNAL_MASK      | boolean | whether to generate a validity mask\n"
" COMMENT            | string  | Comment\n"
" SOURCE_ICC_PROFILE | string  | ICC profile encoded in Base64\n"
" EXIF_THUMBNAIL     | boolean | whether to generate an EXIF "
"thumbnail(overview).\n"
"                                By default its max dimension will be 128\n"
" THUMBNAIL_WIDTH    | int     | Forced thumbnail width\n"
" THUMBNAIL_HEIGHT   | int     | Forced thumbnail height\n"
"(9 rows)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1024
#, no-c-format
msgid ""
"-- raw xml output for creator options for GeoTiff --\n"
"SELECT create_options\n"
"FROM st_gdaldrivers()\n"
"WHERE short_name = 'GTiff';\n"
"\n"
"<![CDATA[<CreationOptionList>\n"
"    <Option name=\"COMPRESS\" type=\"string-select\">\n"
"        <Value>NONE</Value>\n"
"        <Value>LZW</Value>\n"
"        <Value>PACKBITS</Value>\n"
"        <Value>JPEG</Value>\n"
"        <Value>CCITTRLE</Value>\n"
"        <Value>CCITTFAX3</Value>\n"
"        <Value>CCITTFAX4</Value>\n"
"        <Value>DEFLATE</Value>\n"
"    </Option>\n"
"    <Option name=\"PREDICTOR\" type=\"int\" description=\"Predictor Type\"/"
">\n"
"    <Option name=\"JPEG_QUALITY\" type=\"int\" description=\"JPEG quality "
"1-100\" default=\"75\"/>\n"
"    <Option name=\"ZLEVEL\" type=\"int\" description=\"DEFLATE compression "
"level 1-9\" default=\"6\"/>\n"
"    <Option name=\"NBITS\" type=\"int\" description=\"BITS for sub-byte "
"files (1-7), sub-uint16 (9-15), sub-uint32 (17-31)\"/>\n"
"    <Option name=\"INTERLEAVE\" type=\"string-select\" default=\"PIXEL\">\n"
"        <Value>BAND</Value>\n"
"        <Value>PIXEL</Value>\n"
"    </Option>\n"
"    <Option name=\"TILED\" type=\"boolean\" description=\"Switch to tiled "
"format\"/>\n"
"    <Option name=\"TFW\" type=\"boolean\" description=\"Write out world file"
"\"/>\n"
"    <Option name=\"RPB\" type=\"boolean\" description=\"Write out .RPB (RPC) "
"file\"/>\n"
"    <Option name=\"BLOCKXSIZE\" type=\"int\" description=\"Tile Width\"/>\n"
"    <Option name=\"BLOCKYSIZE\" type=\"int\" description=\"Tile/Strip Height"
"\"/>\n"
"    <Option name=\"PHOTOMETRIC\" type=\"string-select\">\n"
"        <Value>MINISBLACK</Value>\n"
"        <Value>MINISWHITE</Value>\n"
"        <Value>PALETTE</Value>\n"
"        <Value>RGB</Value>\n"
"        <Value>CMYK</Value>\n"
"        <Value>YCBCR</Value>\n"
"        <Value>CIELAB</Value>\n"
"        <Value>ICCLAB</Value>\n"
"        <Value>ITULAB</Value>\n"
"    </Option>\n"
"    <Option name=\"SPARSE_OK\" type=\"boolean\" description=\"Can newly "
"created files have missing blocks?\" default=\"FALSE\"/>\n"
"    <Option name=\"ALPHA\" type=\"boolean\" description=\"Mark first "
"extrasample as being alpha\"/>\n"
"    <Option name=\"PROFILE\" type=\"string-select\" default=\"GDALGeoTIFF"
"\">\n"
"        <Value>GDALGeoTIFF</Value>\n"
"        <Value>GeoTIFF</Value>\n"
"        <Value>BASELINE</Value>\n"
"    </Option>\n"
"    <Option name=\"PIXELTYPE\" type=\"string-select\">\n"
"        <Value>DEFAULT</Value>\n"
"        <Value>SIGNEDBYTE</Value>\n"
"    </Option>\n"
"    <Option name=\"BIGTIFF\" type=\"string-select\" description=\"Force "
"creation of BigTIFF file\">\n"
"        <Value>YES</Value>\n"
"        <Value>NO</Value>\n"
"        <Value>IF_NEEDED</Value>\n"
"        <Value>IF_SAFER</Value>\n"
"    </Option>\n"
"    <Option name=\"ENDIANNESS\" type=\"string-select\" default=\"NATIVE\" "
"description=\"Force endianness of created file. For DEBUG purpose mostly\">\n"
"        <Value>NATIVE</Value>\n"
"        <Value>INVERTED</Value>\n"
"        <Value>LITTLE</Value>\n"
"        <Value>BIG</Value>\n"
"    </Option>\n"
"    <Option name=\"COPY_SRC_OVERVIEWS\" type=\"boolean\" default=\"NO\" "
"description=\"Force copy of overviews of source dataset (CreateCopy())\"/>\n"
"</CreationOptionList>]]>\n"
"\n"
"-- Output the create options XML column for GTiff as a table  --\n"
"SELECT (xpath('@name', g.opt))[1]::text As oname,\n"
"       (xpath('@type', g.opt))[1]::text As otype,\n"
"       (xpath('@description', g.opt))[1]::text As descrip,\n"
"       array_to_string(xpath('Value/text()', g.opt),', ') As vals\n"
"FROM (SELECT unnest(xpath('/CreationOptionList/Option', create_options::"
"xml)) As opt\n"
"FROM  st_gdaldrivers()\n"
"WHERE short_name = 'GTiff') As g;\n"
"\n"
"       oname        |     otype     |                               "
"descrip                                |                                   "
"vals\n"
"--------------------+---------------"
"+----------------------------------------------------------------------"
"+---------------------------------------------------------------------------\n"
" COMPRESS           | string-select "
"|                                                                      | "
"NONE, LZW, PACKBITS, JPEG, CCITTRLE, CCITTFAX3, CCITTFAX4, DEFLATE\n"
" PREDICTOR          | int           | Predictor "
"Type                                                       |\n"
" JPEG_QUALITY       | int           | JPEG quality "
"1-100                                                   |\n"
" ZLEVEL             | int           | DEFLATE compression level "
"1-9                                        |\n"
" NBITS              | int           | BITS for sub-byte files (1-7), sub-"
"uint16 (9-15), sub-uint32 (17-31) |\n"
" INTERLEAVE         | string-select "
"|                                                                      | "
"BAND, PIXEL\n"
" TILED              | boolean       | Switch to tiled "
"format                                               |\n"
" TFW                | boolean       | Write out world "
"file                                                 |\n"
" RPB                | boolean       | Write out .RPB (RPC) "
"file                                            |\n"
" BLOCKXSIZE         | int           | Tile "
"Width                                                           |\n"
" BLOCKYSIZE         | int           | Tile/Strip "
"Height                                                    |\n"
" PHOTOMETRIC        | string-select "
"|                                                                      | "
"MINISBLACK, MINISWHITE, PALETTE, RGB, CMYK, YCBCR, CIELAB, ICCLAB, ITULAB\n"
" SPARSE_OK          | boolean       | Can newly created files have missing "
"blocks?                         |\n"
" ALPHA              | boolean       | Mark first extrasample as being "
"alpha                                |\n"
" PROFILE            | string-select "
"|                                                                      | "
"GDALGeoTIFF, GeoTIFF, BASELINE\n"
" PIXELTYPE          | string-select "
"|                                                                      | "
"DEFAULT, SIGNEDBYTE\n"
" BIGTIFF            | string-select | Force creation of BigTIFF "
"file                                       | YES, NO, IF_NEEDED, IF_SAFER\n"
" ENDIANNESS         | string-select | Force endianness of created file. For "
"DEBUG purpose mostly           | NATIVE, INVERTED, LITTLE, BIG\n"
" COPY_SRC_OVERVIEWS | boolean       | Force copy of overviews of source "
"dataset (CreateCopy())             |\n"
"(19 rows)"
msgstr ""

#. Tag: para
#: reference_raster.xml:1030
#, no-c-format
msgid ""
", <xref linkend=\"ST_SRID\"/>, <xref linkend=\"postgis_gdal_enabled_drivers"
"\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1036
#, no-c-format
msgid "UpdateRasterSRID"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1037
#, no-c-format
msgid "Change the SRID of all rasters in the user-specified column and table."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1043
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>UpdateRasterSRID</function></"
"funcdef> <paramdef><type>name </type> <parameter>schema_name</parameter></"
"paramdef> <paramdef><type>name </type> <parameter>table_name</parameter></"
"paramdef> <paramdef><type>name </type> <parameter>column_name</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>new_srid</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>UpdateRasterSRID</function></funcdef> <paramdef><type>name </type> "
"<parameter>table_name</parameter></paramdef> <paramdef><type>name </type> "
"<parameter>column_name</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>new_srid</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1066
#, no-c-format
msgid ""
"Change the SRID of all rasters in the user-specified column and table. The "
"function will drop all appropriate column constraints (extent, alignment and "
"SRID) before changing the SRID of the specified column's rasters."
msgstr ""

#. Tag: para
#: reference_raster.xml:1071
#, no-c-format
msgid ""
"The data (band pixel values) of the rasters are not touched by this "
"function. Only the raster's metadata is changed."
msgstr ""

#. Tag: para
#: reference_raster.xml:1076 reference_raster.xml:1746
#: reference_raster.xml:1847 reference_raster.xml:2297
#: reference_raster.xml:2592 reference_raster.xml:2747
#: reference_raster.xml:3423 reference_raster.xml:3477
#: reference_raster.xml:3521 reference_raster.xml:3575
#: reference_raster.xml:3732 reference_raster.xml:3829
#: reference_raster.xml:4014 reference_raster.xml:4117
#: reference_raster.xml:4214 reference_raster.xml:6666
#: reference_raster.xml:7261 reference_raster.xml:7452
#: reference_raster.xml:8722 reference_raster.xml:9007
#: reference_raster.xml:9455 reference_raster.xml:9588
#: reference_raster.xml:9639 reference_raster.xml:9876
#: reference_raster.xml:10127 reference_raster.xml:10399
#: reference_raster.xml:10486 reference_raster.xml:10567
#: reference_raster.xml:10648 reference_raster.xml:10729
#: reference_raster.xml:10942 reference_raster.xml:11022
#: reference_raster.xml:11179 reference_raster.xml:11266
#: reference_raster.xml:11361 reference_raster.xml:11454
#, no-c-format
msgid "Availability: 2.1.0"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1088
#, no-c-format
msgid "ST_CreateOverview"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1089
#, no-c-format
msgid "Create an reduced resolution version of a given raster coverage."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1097
#, no-c-format
msgid ""
"<funcdef>regclass <function>ST_CreateOverview</function></funcdef> "
"<paramdef><type>regclass </type> <parameter>tab</parameter></paramdef> "
"<paramdef><type>name </type> <parameter>col</parameter></paramdef> "
"<paramdef><type>int </type> <parameter>factor</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algo='NearestNeighbor'</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1111
#, no-c-format
msgid ""
"Create an overview table with resampled tiles from the source table. Output "
"tiles will have the same size of input tiles and cover the same spatial "
"extent with a lower resolution (pixel size will be 1/<varname>factor</"
"varname> of the original in both directions)."
msgstr ""

#. Tag: para
#: reference_raster.xml:1118
#, no-c-format
msgid ""
"The overview table will be made available in the <varname>raster_overviews</"
"varname> catalog and will have raster constraints enforced."
msgstr ""

#. Tag: para
#: reference_raster.xml:1124 reference_raster.xml:1805
#: reference_raster.xml:4924
#, no-c-format
msgid ""
"Algorithm options are: 'NearestNeighbor', 'Bilinear', 'Cubic', "
"'CubicSpline', and 'Lanczos'. Refer to: <ulink url=\"http://www.gdal.org/"
"gdalwarp.html\">GDAL Warp resampling methods</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:1126 reference_raster.xml:1807
#: reference_raster.xml:2006 reference_raster.xml:5325
#: reference_raster.xml:5627
#, no-c-format
msgid "Availability: 2.2.0"
msgstr ""

#. Tag: title
#: reference_raster.xml:1129
#, no-c-format
msgid "Example"
msgstr ""

#. Tag: para
#: reference_raster.xml:1130
#, no-c-format
msgid "Output to generally better quality but slower to product format"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1131
#, no-c-format
msgid ""
"SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2, 'Lanczos');"
msgstr ""

#. Tag: para
#: reference_raster.xml:1133
#, no-c-format
msgid "Output to faster to process default nearest neighbor"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1134
#, no-c-format
msgid "SELECT ST_CreateOverview('mydata.mytable'::regclass, 'rast', 2);"
msgstr ""

#. Tag: para
#: reference_raster.xml:1139
#, no-c-format
msgid ""
", <xref linkend=\"RT_AddOverviewConstraints\"/>, <xref linkend="
"\"RT_AddRasterConstraints\"/>, <xref linkend=\"RT_Raster_Overviews\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:1150
#, no-c-format
msgid "Raster Constructors"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1154
#, no-c-format
msgid "ST_AddBand"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1155
#, no-c-format
msgid ""
"Returns a raster with the new band(s) of given type added with given initial "
"value in the given index location. If no index is specified, the band is "
"added to the end."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1161
#, no-c-format
msgid ""
"<funcprototype> <funcdef>(1) raster <function>ST_AddBand</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>addbandarg[] </type> <parameter>addbandargset</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>(2) raster "
"<function>ST_AddBand</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>index</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>pixeltype</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>initialvalue=0</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>(3) raster <function>ST_AddBand</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>pixeltype</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>initialvalue=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodataval=NULL</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>(4) raster "
"<function>ST_AddBand</function></funcdef> <paramdef><type>raster </type> "
"<parameter>torast</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>fromrast</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>fromband=1</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> "
"<parameter>torastindex=at_end</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>(5) raster <function>ST_AddBand</function></"
"funcdef> <paramdef><type>raster </type> <parameter>torast</parameter></"
"paramdef> <paramdef><type>raster[] </type> <parameter>fromrasts</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>fromband=1</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>torastindex=at_end</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>(6) raster "
"<function>ST_AddBand</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>index</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>outdbfile</parameter></paramdef> <paramdef><type>integer[] </"
"type> <parameter>outdbindex</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodataval=NULL</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>(7) raster "
"<function>ST_AddBand</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>outdbfile</parameter></paramdef> <paramdef><type>integer[] </"
"type> <parameter>outdbindex</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>index=at_end</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1226
#, no-c-format
msgid ""
"Returns a raster with a new band added in given position (index), of given "
"type, of given initial value, and of given nodata value. If no index is "
"specified, the band is added to the end. If no <varname>fromband</varname> "
"is specified, band 1 is assumed. Pixel type is a string representation of "
"one of the pixel types specified in <xref linkend=\"RT_ST_BandPixelType\"/>. "
"If an existing index is specified all subsequent bands >= that index are "
"incremented by 1. If an initial value greater than the max of the pixel type "
"is specified, then the initial value is set to the highest value allowed by "
"the pixel type."
msgstr ""

#. Tag: para
#: reference_raster.xml:1230
#, no-c-format
msgid ""
"For the variant that takes an array of <xref linkend=\"addbandarg\"/> "
"(Variant 1), a specific addbandarg's index value is relative to the raster "
"at the time when the band described by that addbandarg is being added to the "
"raster. See the Multiple New Bands example below."
msgstr ""

#. Tag: para
#: reference_raster.xml:1234
#, no-c-format
msgid ""
"For the variant that takes an array of rasters (Variant 5), if "
"<varname>torast</varname> is NULL then the <varname>fromband</varname> band "
"of each raster in the array is accumulated into a new raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:1238
#, no-c-format
msgid ""
"For the variants that take <varname>outdbfile</varname> (Variants 6 and 7), "
"the value must include the full path to the raster file. The file must also "
"be accessible to the postgres server process."
msgstr ""

#. Tag: para
#: reference_raster.xml:1242
#, no-c-format
msgid "Enhanced: 2.1.0 support for addbandarg added."
msgstr ""

#. Tag: para
#: reference_raster.xml:1243
#, no-c-format
msgid "Enhanced: 2.1.0 support for new out-db bands added."
msgstr ""

#. Tag: title
#: reference_raster.xml:1247
#, no-c-format
msgid "Examples: Single New Band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1249
#, no-c-format
msgid ""
"-- Add another band of type 8 bit unsigned integer with pixels initialized "
"to 200\n"
"UPDATE dummy_rast\n"
"    SET rast = ST_AddBand(rast,'8BUI'::text,200)\n"
"WHERE rid = 1;"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1251
#, no-c-format
msgid ""
"-- Create an empty raster 100x100 units, with upper left  right at 0, add 2 "
"bands (band 1 is 0/1 boolean bit switch, band2 allows values 0-15)\n"
"-- uses addbandargs\n"
"INSERT INTO dummy_rast(rid,rast)\n"
"    VALUES(10, ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 1, -1, 0, 0, "
"0),\n"
"        ARRAY[\n"
"                ROW(1, '1BB'::text, 0, NULL),\n"
"                ROW(2, '4BUI'::text, 0, NULL)\n"
"                        ]::addbandarg[]\n"
"     )\n"
"    );\n"
"\n"
"-- output meta data of raster bands to verify all is right --\n"
"SELECT  (bmd).*\n"
"FROM (SELECT ST_BandMetaData(rast,generate_series(1,2)) As bmd\n"
"    FROM dummy_rast WHERE rid = 10) AS foo;\n"
" --result --\n"
" pixeltype | nodatavalue | isoutdb | path\n"
"-----------+----------------+-------------+---------+------\n"
" 1BB       |             | f       |\n"
" 4BUI      |             | f       |\n"
"\n"
"\n"
"-- output meta data of raster -\n"
"SELECT  (rmd).width, (rmd).height, (rmd).numbands\n"
"FROM (SELECT ST_MetaData(rast) As rmd\n"
"    FROM dummy_rast WHERE rid = 10) AS foo;\n"
"-- result --\n"
" upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy "
"| srid | numbands\n"
"------------+------------+-------+--------+------------+------------+-------"
"+-------+------+----------\n"
"          0 |          0 |   100 |    100 |      1 |     -1 |     0 |     0 "
"|   0 |        2"
msgstr ""

#. Tag: title
#: reference_raster.xml:1255
#, no-c-format
msgid "Examples: Multiple New Bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1257
#, no-c-format
msgid ""
"SELECT\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        ST_AddBand(\n"
"                ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),\n"
"                ARRAY[\n"
"                        ROW(NULL, '8BUI', 255, 0),\n"
"                        ROW(NULL, '16BUI', 1, 2),\n"
"                        ROW(2, '32BUI', 100, 12),\n"
"                        ROW(2, '32BF', 3.14, -1)\n"
"                ]::addbandarg[]\n"
"        ),\n"
"        ARRAY[]::integer[]\n"
");\n"
"\n"
" bandnum | pixeltype | nodatavalue | isoutdb | path\n"
"---------+-----------+-------------+---------+------\n"
"       1 | 8BUI      |           0 | f       |\n"
"       2 | 32BF      |          -1 | f       |\n"
"       3 | 32BUI     |          12 | f       |\n"
"       4 | 16BUI     |           2 | f       |"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1259
#, no-c-format
msgid ""
"-- Aggregate the 1st band of a table of like rasters into a single raster\n"
"-- with as many bands as there are test_types and as many rows (new rasters) "
"as there are mice\n"
"-- NOTE: The ORDER BY test_type is only supported in PostgreSQL 9.0+\n"
"-- for 8.4 and below it usually works to order your data in a subselect (but "
"not guaranteed)\n"
"-- The resulting raster will have a band for each test_type alphabetical by "
"test_type\n"
"-- For mouse lovers: No mice were harmed in this exercise\n"
"SELECT\n"
"        mouse,\n"
"        ST_AddBand(NULL, array_agg(rast ORDER BY test_type), 1) As rast\n"
"FROM mice_studies\n"
"GROUP BY mouse;"
msgstr ""

#. Tag: title
#: reference_raster.xml:1263
#, no-c-format
msgid "Examples: New Out-db band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1264
#, no-c-format
msgid ""
"SELECT\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        ST_AddBand(\n"
"                ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, 0, 0),\n"
"                '/home/raster/mytestraster.tif'::text, NULL::int[]\n"
"        ),\n"
"        ARRAY[]::integer[]\n"
");\n"
"\n"
" bandnum | pixeltype | nodatavalue | isoutdb | path\n"
"---------+-----------+-------------+---------+------\n"
"       1 | 8BUI      |             | t       | /home/raster/mytestraster."
"tif\n"
"       2 | 8BUI      |             | t       | /home/raster/mytestraster."
"tif\n"
"       3 | 8BUI      |             | t       | /home/raster/mytestraster.tif"
msgstr ""

#. Tag: para
#: reference_raster.xml:1269
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_BandPixelType\"/>, <xref linkend="
"\"RT_ST_MakeEmptyRaster\"/>, <xref linkend=\"RT_ST_MetaData\"/>, <xref "
"linkend=\"RT_ST_NumBands\"/>, <xref linkend=\"RT_ST_Reclass\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1282
#, no-c-format
msgid "ST_AsRaster"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1283
#, no-c-format
msgid "Converts a PostGIS geometry to a PostGIS raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1287
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_AsRaster</function></funcdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>ref</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>value=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>nodataval=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>touched=false</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_AsRaster</"
"function></funcdef> <paramdef><type>geometry </type> <parameter>geom</"
"parameter></paramdef> <paramdef><type>raster </type> <parameter>ref</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text[] </type> "
"<parameter>pixeltype=ARRAY['8BUI']</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision[] </type> <parameter>value=ARRAY[1]</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision[] </"
"type> <parameter>nodataval=ARRAY[0]</parameter></paramdef> <paramdef choice="
"\"opt\"><type>boolean </type> <parameter>touched=false</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_AsRaster</function></funcdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scalex</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>scaley</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>gridx</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>gridy</"
"parameter></paramdef> <paramdef><type>text </type> <parameter>pixeltype</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>value=1</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodataval=0</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>touched=false</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_AsRaster</function></funcdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scalex</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>scaley</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>gridx=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>gridy=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text[] </type> <parameter>pixeltype=ARRAY['8BUI']</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision[] </type> "
"<parameter>value=ARRAY[1]</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision[] </type> <parameter>nodataval=ARRAY[0]</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>touched=false</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_AsRaster</function></funcdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scalex</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>scaley</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>value=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>nodataval=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>upperleftx=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>upperlefty=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewx=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>skewy=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>touched=false</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_AsRaster</function></funcdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>scalex</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>scaley</"
"parameter></paramdef> <paramdef><type>text[] </type> <parameter>pixeltype</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision[] </"
"type> <parameter>value=ARRAY[1]</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision[] </type> <parameter>nodataval=ARRAY[0]</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>upperleftx=NULL</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>upperlefty=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>touched=false</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_AsRaster</function></funcdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>width</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>height</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>gridx</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>gridy</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>value=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>nodataval=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewx=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>skewy=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>touched=false</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_AsRaster</function></funcdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>gridx=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>gridy=NULL</parameter></"
"paramdef> <paramdef><type>text[] </type> <parameter>pixeltype=ARRAY['8BUI']</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision[] </"
"type> <parameter>value=ARRAY[1]</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision[] </type> <parameter>nodataval=ARRAY[0]</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>touched=false</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_AsRaster</function></funcdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>width</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>height</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>pixeltype</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>value=1</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>upperleftx=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>upperlefty=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewx=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>skewy=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>touched=false</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_AsRaster</function></funcdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef><type>text[] </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef><type>double precision[] </type> <parameter>value=ARRAY[1]</"
"parameter></paramdef> <paramdef><type>double precision[] </type> "
"<parameter>nodataval=ARRAY[0]</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>upperleftx=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>upperlefty=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewx=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> <parameter>skewy=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>touched=false</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1435
#, no-c-format
msgid ""
"Converts a PostGIS geometry to a PostGIS raster. The many variants offers "
"three groups of possibilities for setting the alignment and pixelsize of the "
"resulting raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:1437
#, no-c-format
msgid ""
"The first group, composed of the two first variants, produce a raster having "
"the same alignment (<varname>scalex</varname>, <varname>scaley</varname>, "
"<varname>gridx</varname> and <varname>gridy</varname>), pixel type and "
"nodata value as the provided reference raster. You generally pass this "
"reference raster by joining the table containing the geometry with the table "
"containing the reference raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:1439
#, no-c-format
msgid ""
"The second group, composed of four variants, let you set the dimensions of "
"the raster by providing the parameters of a pixel size (<varname>scalex</"
"varname> &amp; <varname>scaley</varname> and <varname>skewx</varname> &amp; "
"<varname>skewy</varname>). The <varname>width</varname> &amp; "
"<varname>height</varname> of the resulting raster will be adjusted to fit "
"the extent of the geometry. In most cases, you must cast integer "
"<varname>scalex</varname> &amp; <varname>scaley</varname> arguments to "
"double precision so that PostgreSQL choose the right variant."
msgstr ""

#. Tag: para
#: reference_raster.xml:1441
#, no-c-format
msgid ""
"The third group, composed of four variants, let you fix the dimensions of "
"the raster by providing the dimensions of the raster (<varname>width</"
"varname> &amp; <varname>height</varname>). The parameters of the pixel size "
"(<varname>scalex</varname> &amp; <varname>scaley</varname> and "
"<varname>skewx</varname> &amp; <varname>skewy</varname>) of the resulting "
"raster will be adjusted to fit the extent of the geometry."
msgstr ""

#. Tag: para
#: reference_raster.xml:1443
#, no-c-format
msgid ""
"The two first variants of each of those two last groups let you specify the "
"alignment with an arbitrary corner of the alignment grid (<varname>gridx</"
"varname> &amp; <varname>gridy</varname>) and the two last variants takes the "
"upper left corner (<varname>upperleftx</varname> &amp; <varname>upperlefty</"
"varname>)."
msgstr ""

#. Tag: para
#: reference_raster.xml:1445
#, no-c-format
msgid ""
"Each group of variant allows producing a one band raster or a multiple bands "
"raster. To produce a multiple bands raster, you must provide an array of "
"pixel types (<varname>pixeltype[]</varname>), an array of initial values "
"(<varname>value</varname>) and an array of nodata values "
"(<varname>nodataval</varname>). If not provided pixeltyped defaults to 8BUI, "
"values to 1 and nodataval to 0."
msgstr ""

#. Tag: para
#: reference_raster.xml:1447
#, no-c-format
msgid ""
"The output raster will be in the same spatial reference as the source "
"geometry. The only exception is for variants with a reference raster. In "
"this case the resulting raster will get the same SRID as the reference "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:1449
#, no-c-format
msgid ""
"The optional <varname>touched</varname> parameter defaults to false and maps "
"to the GDAL ALL_TOUCHED rasterization option, which determines if pixels "
"touched by lines or polygons will be burned. Not just those on the line "
"render path, or whose center point is within the polygon."
msgstr ""

#. Tag: para
#: reference_raster.xml:1451
#, no-c-format
msgid ""
"This is particularly useful for rendering jpegs and pngs of geometries "
"directly from the database when using in combination with <xref linkend="
"\"RT_ST_AsPNG\"/> and other <xref linkend=\"RT_ST_AsGDALRaster\"/> family of "
"functions."
msgstr ""

#. Tag: para
#: reference_raster.xml:1455
#, no-c-format
msgid ""
"Not yet capable of rendering complex geometry types such as curves, TINS, "
"and PolyhedralSurfaces, but should be able too once GDAL can."
msgstr ""

#. Tag: title
#: reference_raster.xml:1460
#, no-c-format
msgid "Examples: Output geometries as PNG files"
msgstr ""

#. Tag: para
#: reference_raster.xml:1466
#, no-c-format
msgid "black circle"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1469
#, no-c-format
msgid ""
"-- this will output a black circle taking up 150 x 150 pixels --\n"
"SELECT ST_AsPNG(ST_AsRaster(ST_Buffer(ST_Point(1,5),10),150, 150));"
msgstr ""

#. Tag: para
#: reference_raster.xml:1476
#, no-c-format
msgid "example from buffer rendered with just PostGIS"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1480
#, no-c-format
msgid ""
"-- the bands map to RGB bands - the value (118,154,118) - teal  --\n"
"SELECT ST_AsPNG(\n"
"        ST_AsRaster(\n"
"                ST_Buffer(\n"
"                        ST_GeomFromText('LINESTRING(50 50,150 150,150 50)'), "
"10,'join=bevel'),\n"
"                        200,200,ARRAY['8BUI', '8BUI', '8BUI'], "
"ARRAY[118,154,118], ARRAY[0,0,0]));"
msgstr ""

#. Tag: para
#: reference_raster.xml:1486
#, no-c-format
msgid ""
", <xref linkend=\"ST_Buffer\"/>, <xref linkend=\"RT_ST_GDALDrivers\"/>, "
"<xref linkend=\"RT_ST_AsGDALRaster\"/>, <xref linkend=\"RT_ST_AsPNG\"/>, "
"<xref linkend=\"RT_ST_AsJPEG\"/>, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1492
#, no-c-format
msgid "ST_Band"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1493
#, no-c-format
msgid ""
"Returns one or more bands of an existing raster as a new raster. Useful for "
"building new rasters from existing rasters."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1497
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Band</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer[] </type> <parameter>nbands = "
"ARRAY[1]</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_Band</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Band</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>nbands</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>character </type> "
"<parameter>delimiter=,</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1522
#, no-c-format
msgid ""
"Returns one or more bands of an existing raster as a new raster. Useful for "
"building new rasters from existing rasters or export of only selected bands "
"of a raster or rearranging the order of bands in a raster. If no band is "
"specified or any of specified bands does not exist in the raster, then all "
"bands are returned. Used as a helper function in various functions such as "
"for deleting a band."
msgstr ""

#. Tag: para
#: reference_raster.xml:1524
#, no-c-format
msgid ""
"For the <code>nbands</code> as text variant of function, the default "
"delimiter is <code>,</code> which means you can ask for <code>'1,2,3'</code> "
"and if you wanted to use a different delimeter you would do "
"<code>ST_Band(rast, '1@2@3', '@')</code>. For asking for multiple bands, we "
"strongly suggest you use the array form of this function e.g. "
"<code>ST_Band(rast, '{1,2,3}'::int[]);</code> since the <code>text</code> "
"list of bands form may be removed in future versions of PostGIS."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1532
#, no-c-format
msgid ""
"-- Make 2 new rasters: 1 containing band 1 of dummy, second containing band "
"2 of dummy and then reclassified as a 2BUI\n"
"SELECT ST_NumBands(rast1) As numb1, ST_BandPixelType(rast1) As pix1,\n"
" ST_NumBands(rast2) As numb2,  ST_BandPixelType(rast2) As pix2\n"
"FROM (\n"
"    SELECT ST_Band(rast) As rast1, ST_Reclass(ST_Band(rast,3), '100-200):1, "
"[200-254:2', '2BUI') As rast2\n"
"        FROM dummy_rast\n"
"        WHERE rid = 2) As foo;\n"
"\n"
" numb1 | pix1 | numb2 | pix2\n"
"-------+------+-------+------\n"
"     1 | 8BUI |     1 | 2BUI"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1534
#, no-c-format
msgid ""
"-- Return bands 2 and 3. Using array cast syntax\n"
"SELECT ST_NumBands(ST_Band(rast, '{2,3}'::int[])) As num_bands\n"
"    FROM dummy_rast WHERE rid=2;\n"
"\n"
"num_bands\n"
"----------\n"
"2\n"
"\n"
"-- Return bands 2 and 3. Use array to define bands\n"
"SELECT ST_NumBands(ST_Band(rast, ARRAY[2,3])) As num_bands\n"
"    FROM dummy_rast\n"
"WHERE rid=2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:1544
#, no-c-format
msgid "original (column rast)"
msgstr ""

#. Tag: para
#: reference_raster.xml:1553
#, no-c-format
msgid "dupe_band"
msgstr ""

#. Tag: para
#: reference_raster.xml:1562
#, no-c-format
msgid "sing_band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1570
#, no-c-format
msgid ""
"--Make a new raster with 2nd band of original and 1st band repeated twice,\n"
"and another with just the third band\n"
"SELECT rast, ST_Band(rast, ARRAY[2,1,1]) As dupe_band,\n"
"        ST_Band(rast, 3) As sing_band\n"
"FROM samples.than_chunked\n"
"WHERE rid=35;"
msgstr ""

#. Tag: para
#: reference_raster.xml:1576
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_NumBands\"/>, <xref linkend=\"RT_ST_Reclass\"/>, "
"<xref linkend=\"RT_reference\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1582
#, no-c-format
msgid "ST_MakeEmptyCoverage"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1583
#, no-c-format
msgid "Cover georeferenced area with a grid of empty raster tiles."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1588
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_MakeEmptyCoverage</function></funcdef> "
"<paramdef><type>integer </type> <parameter>tilewidth</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>tileheight</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>upperleftx</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>upperlefty</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>scalex</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scaley</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>skewx</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>skewy</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>srid=unknown</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1608
#, no-c-format
msgid ""
"Create a set of raster tiles with <xref linkend=\"RT_ST_MakeEmptyRaster\"/>. "
"Grid dimension is <varname>width</varname> &amp; <varname>height</varname>. "
"Tile dimension is <varname>tilewidth</varname> &amp; <varname>tileheight</"
"varname>. The covered georeferenced area is from upper left corner "
"(<varname>upperleftx</varname>, <varname>upperlefty</varname>) to lower "
"right corner (<varname>upperleftx</varname> + <varname>width</varname> * "
"<varname>scalex</varname>, <varname>upperlefty</varname> + <varname>height</"
"varname> * <varname>scaley</varname>)."
msgstr ""

#. Tag: para
#: reference_raster.xml:1609
#, no-c-format
msgid ""
"Note that scaley is generally negative for rasters and scalex is generally "
"positive. So lower right corner will have a lower y value and higher x value "
"than the upper left corner."
msgstr ""

#. Tag: para
#: reference_raster.xml:1610
#, no-c-format
msgid "Availability: 2.4.0"
msgstr ""

#. Tag: title
#: reference_raster.xml:1614 reference_raster.xml:8485
#, no-c-format
msgid "Examples Basic"
msgstr ""

#. Tag: para
#: reference_raster.xml:1615
#, no-c-format
msgid ""
"Create 16 tiles in a 4x4 grid to cover the WGS84 area from upper left corner "
"(22, 77) to lower right corner (55, 33)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1616
#, no-c-format
msgid ""
"<![CDATA[SELECT (ST_MetaData(tile)).* FROM ST_MakeEmptyCoverage(1, 1, 4, 4, "
"22, 33, (55 - 22)/(4)::float, (33 - 77)/(4)::float, 0., 0., 4326) tile;\n"
"\n"
" upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy "
"| srid | numbands\n"
"-------------------------------------------------------------------------------------\n"
"         22 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      30.25 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"       38.5 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      46.75 |         33 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"         22 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      30.25 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"       38.5 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      46.75 |         22 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"         22 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      30.25 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"       38.5 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      46.75 |         11 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"         22 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      30.25 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"       38.5 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0\n"
"      46.75 |          0 |     1 |      1 |   8.25 |    -11 |     0 |     0 "
"| 4326 |        0]]>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1629
#, no-c-format
msgid "ST_MakeEmptyRaster"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1630
#, no-c-format
msgid ""
"Returns an empty raster (having no bands) of given dimensions (width &amp; "
"height), upperleft X and Y, pixel size and rotation (scalex, scaley, skewx "
"&amp; skewy) and reference system (srid). If a raster is passed in, returns "
"a new raster with the same size, alignment and SRID. If srid is left out, "
"the spatial ref is set to unknown (0)."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1634
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MakeEmptyRaster</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MakeEmptyRaster</function></funcdef> <paramdef><type>integer </"
"type> <parameter>width</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>height</parameter></paramdef> <paramdef><type>float8 </"
"type> <parameter>upperleftx</parameter></paramdef> <paramdef><type>float8 </"
"type> <parameter>upperlefty</parameter></paramdef> <paramdef><type>float8 </"
"type> <parameter>scalex</parameter></paramdef> <paramdef><type>float8 </"
"type> <parameter>scaley</parameter></paramdef> <paramdef><type>float8 </"
"type> <parameter>skewx</parameter></paramdef> <paramdef><type>float8 </type> "
"<parameter>skewy</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>srid=unknown</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_MakeEmptyRaster</"
"function></funcdef> <paramdef><type>integer </type> <parameter>width</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>height</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>upperleftx</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>upperlefty</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>pixelsize</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1664
#, no-c-format
msgid ""
"Returns an empty raster (having no band) of given dimensions (width &amp; "
"height) and georeferenced in spatial (or world) coordinates with upper left "
"X (upperleftx), upper left Y (upperlefty), pixel size and rotation (scalex, "
"scaley, skewx &amp; skewy) and reference system (srid)."
msgstr ""

#. Tag: para
#: reference_raster.xml:1667
#, no-c-format
msgid ""
"The last version use a single parameter to specify the pixel size "
"(pixelsize). scalex is set to this argument and scaley is set to the "
"negative value of this argument. skewx and skewy are set to 0."
msgstr ""

#. Tag: para
#: reference_raster.xml:1669
#, no-c-format
msgid ""
"If an existing raster is passed in, it returns a new raster with the same "
"meta data settings (without the bands)."
msgstr ""

#. Tag: para
#: reference_raster.xml:1671
#, no-c-format
msgid ""
"If no srid is specified it defaults to 0. After you create an empty raster "
"you probably want to add bands to it and maybe edit it. Refer to <xref "
"linkend=\"RT_ST_AddBand\"/> to define bands and <xref linkend="
"\"RT_ST_SetValue\"/> to set initial pixel values."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1678
#, no-c-format
msgid ""
"INSERT INTO dummy_rast(rid,rast)\n"
"VALUES(3, ST_MakeEmptyRaster( 100, 100, 0.0005, 0.0005, 1, 1, 0, 0, "
"4326) );\n"
"\n"
"--use an existing raster as template for new raster\n"
"INSERT INTO dummy_rast(rid,rast)\n"
"SELECT 4, ST_MakeEmptyRaster(rast)\n"
"FROM dummy_rast WHERE rid = 3;\n"
"\n"
"-- output meta data of rasters we just added\n"
"SELECT rid, (md).*\n"
"FROM (SELECT rid, ST_MetaData(rast) As md\n"
"        FROM dummy_rast\n"
"        WHERE rid IN(3,4)) As foo;\n"
"\n"
"-- output --\n"
" rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | "
"skewy | srid | numbands\n"
"-----+------------+------------+-------+--------+------------+------------"
"+-------+-------+------+----------\n"
"   3 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 "
"|    0  |     0 | 4326 |        0\n"
"   4 |     0.0005 |     0.0005 |   100 |    100 |          1 |          1 "
"|    0  |     0 | 4326 |        0"
msgstr ""

#. Tag: para
#: reference_raster.xml:1684
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MetaData\"/>, <xref linkend=\"RT_ST_ScaleX\"/>, "
"<xref linkend=\"RT_ST_ScaleY\"/>, <xref linkend=\"RT_ST_SetValue\"/>, <xref "
"linkend=\"RT_ST_SkewX\"/>, , <xref linkend=\"RT_ST_SkewY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1691
#, no-c-format
msgid "ST_Tile"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1692
#, no-c-format
msgid ""
"<refpurpose>Returns a set of rasters resulting from the split of the input "
"raster based upon the desired dimensions of the output rasters.</refpurpose>"
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:1696
#, no-c-format
msgid ""
"<funcprototype> <funcdef>setof raster <function>ST_Tile</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>int[] </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>padwithnodata=FALSE</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodataval=NULL</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>setof raster "
"<function>ST_Tile</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>width</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>height</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>padwithnodata=FALSE</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>setof raster <function>ST_Tile</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>padwithnodata=FALSE</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodataval=NULL</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1732
#, no-c-format
msgid ""
"<para>Returns a set of rasters resulting from the split of the input raster "
"based upon the desired dimensions of the output rasters.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1736
#, no-c-format
msgid ""
"If <varname>padwithnodata</varname> = FALSE, edge tiles on the right and "
"bottom sides of the raster may have different dimensions than the rest of "
"the tiles. If <varname>padwithnodata</varname> = TRUE, all tiles will have "
"the same dimensions with the possibility that edge tiles being padded with "
"NODATA values. If raster band(s) do not have NODATA value(s) specified, one "
"can be specified by setting <varname>nodataval</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:1741
#, no-c-format
msgid ""
"If a specified band of the input raster is out-of-db, the corresponding band "
"in the output rasters will also be out-of-db."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1752
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL\n"
"\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL\n"
"\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast\n"
"), bar AS (\n"
"        SELECT ST_Union(rast) AS rast FROM foo\n"
"), baz AS (\n"
"        SELECT ST_Tile(rast, 3, 3, TRUE) AS rast FROM bar\n"
")\n"
"SELECT\n"
"        ST_DumpValues(rast)\n"
"FROM baz;\n"
"\n"
"              st_dumpvalues\n"
"------------------------------------------\n"
" (1,\"{{1,1,1},{1,1,1},{1,1,1}}\")\n"
" (2,\"{{10,10,10},{10,10,10},{10,10,10}}\")\n"
" (1,\"{{2,2,2},{2,2,2},{2,2,2}}\")\n"
" (2,\"{{20,20,20},{20,20,20},{20,20,20}}\")\n"
" (1,\"{{3,3,3},{3,3,3},{3,3,3}}\")\n"
" (2,\"{{30,30,30},{30,30,30},{30,30,30}}\")\n"
" (1,\"{{4,4,4},{4,4,4},{4,4,4}}\")\n"
" (2,\"{{40,40,40},{40,40,40},{40,40,40}}\")\n"
" (1,\"{{5,5,5},{5,5,5},{5,5,5}}\")\n"
" (2,\"{{50,50,50},{50,50,50},{50,50,50}}\")\n"
" (1,\"{{6,6,6},{6,6,6},{6,6,6}}\")\n"
" (2,\"{{60,60,60},{60,60,60},{60,60,60}}\")\n"
" (1,\"{{7,7,7},{7,7,7},{7,7,7}}\")\n"
" (2,\"{{70,70,70},{70,70,70},{70,70,70}}\")\n"
" (1,\"{{8,8,8},{8,8,8},{8,8,8}}\")\n"
" (2,\"{{80,80,80},{80,80,80},{80,80,80}}\")\n"
" (1,\"{{9,9,9},{9,9,9},{9,9,9}}\")\n"
" (2,\"{{90,90,90},{90,90,90},{90,90,90}}\")\n"
"(18 rows)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1754
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 1, 0), 2, '8BUI', 10, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 2, 0), 2, '8BUI', 20, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 3, 0), 2, '8BUI', 30, 0) AS rast UNION ALL\n"
"\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 4, 0), 2, '8BUI', 40, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 5, 0), 2, '8BUI', 50, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -3, 1, -1, "
"0, 0, 0), 1, '8BUI', 6, 0), 2, '8BUI', 60, 0) AS rast UNION ALL\n"
"\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 7, 0), 2, '8BUI', 70, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 3, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 8, 0), 2, '8BUI', 80, 0) AS rast UNION ALL\n"
"        SELECT ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 6, -6, 1, -1, "
"0, 0, 0), 1, '8BUI', 9, 0), 2, '8BUI', 90, 0) AS rast\n"
"), bar AS (\n"
"        SELECT ST_Union(rast) AS rast FROM foo\n"
"), baz AS (\n"
"        SELECT ST_Tile(rast, 3, 3, 2) AS rast FROM bar\n"
")\n"
"SELECT\n"
"        ST_DumpValues(rast)\n"
"FROM baz;\n"
"\n"
"              st_dumpvalues\n"
"------------------------------------------\n"
" (1,\"{{10,10,10},{10,10,10},{10,10,10}}\")\n"
" (1,\"{{20,20,20},{20,20,20},{20,20,20}}\")\n"
" (1,\"{{30,30,30},{30,30,30},{30,30,30}}\")\n"
" (1,\"{{40,40,40},{40,40,40},{40,40,40}}\")\n"
" (1,\"{{50,50,50},{50,50,50},{50,50,50}}\")\n"
" (1,\"{{60,60,60},{60,60,60},{60,60,60}}\")\n"
" (1,\"{{70,70,70},{70,70,70},{70,70,70}}\")\n"
" (1,\"{{80,80,80},{80,80,80},{80,80,80}}\")\n"
" (1,\"{{90,90,90},{90,90,90},{90,90,90}}\")\n"
"(9 rows)"
msgstr ""

#. Tag: para
#: reference_raster.xml:1760
#, no-c-format
msgid ", <xref linkend=\"RT_Retile\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1770
#, no-c-format
msgid "ST_Retile"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1771
#, no-c-format
msgid ""
"Return a set of configured tiles from an arbitrarily tiled raster coverage."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1779
#, no-c-format
msgid ""
"<funcdef>SETOF raster <function>ST_Retile</function></funcdef> "
"<paramdef><type>regclass </type> <parameter>tab</parameter></paramdef> "
"<paramdef><type>name </type> <parameter>col</parameter></paramdef> "
"<paramdef><type>geometry </type> <parameter>ext</parameter></paramdef> "
"<paramdef><type>float8 </type> <parameter>sfx</parameter></paramdef> "
"<paramdef><type>float8 </type> <parameter>sfy</parameter></paramdef> "
"<paramdef><type>int </type> <parameter>tw</parameter></paramdef> "
"<paramdef><type>int </type> <parameter>th</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>text </type> <parameter>algo='NearestNeighbor'</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1797
#, no-c-format
msgid ""
"Return a set of tiles having the specified scale (<varname>sfx</varname>, "
"<varname>sfy</varname>) and max size (<varname>tw</varname>, <varname>th</"
"varname>) and covering the specified extent (<varname>ext</varname>) with "
"data coming from the specified raster coverage (<varname>tab</varname>, "
"<varname>col</varname>)."
msgstr ""

#. Tag: refname
#: reference_raster.xml:1821
#, no-c-format
msgid "ST_FromGDALRaster"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1822
#, no-c-format
msgid "Returns a raster from a supported GDAL raster file."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1827
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_FromGDALRaster</function></funcdef> "
"<paramdef><type>bytea </type> <parameter>gdaldata</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>srid=NULL</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1839
#, no-c-format
msgid ""
"Returns a raster from a supported GDAL raster file. <varname>gdaldata</"
"varname> is of type bytea and should be the contents of the GDAL raster file."
msgstr ""

#. Tag: para
#: reference_raster.xml:1843
#, no-c-format
msgid ""
"If <varname>srid</varname> is NULL, the function will try to automatically "
"assign the SRID from the GDAL raster. If <varname>srid</varname> is "
"provided, the value provided will override any automatically assigned SRID."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1853
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT "
"ST_AsPNG(ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, "
"0.1, -0.1, 0, 0, 4326), 1, '8BUI', 1, 0), 2, '8BUI', 2, 0), 3, '8BUI', 3, "
"0)) AS png\n"
"),\n"
"bar AS (\n"
"        SELECT 1 AS rid, ST_FromGDALRaster(png) AS rast FROM foo\n"
"        UNION ALL\n"
"        SELECT 2 AS rid, ST_FromGDALRaster(png, 3310) AS rast FROM foo\n"
")\n"
"SELECT\n"
"        rid,\n"
"        ST_Metadata(rast) AS metadata,\n"
"        ST_SummaryStats(rast, 1) AS stats1,\n"
"        ST_SummaryStats(rast, 2) AS stats2,\n"
"        ST_SummaryStats(rast, 3) AS stats3\n"
"FROM bar\n"
"ORDER BY rid;\n"
"\n"
" rid |         metadata          |    stats1     |    stats2     |     "
"stats3\n"
"-----+---------------------------+---------------+---------------"
"+----------------\n"
"   1 | (0,0,2,2,1,-1,0,0,0,3)    | (4,4,1,0,1,1) | (4,8,2,0,2,2) | "
"(4,12,3,0,3,3)\n"
"   2 | (0,0,2,2,1,-1,0,0,3310,3) | (4,4,1,0,1,1) | (4,8,2,0,2,2) | "
"(4,12,3,0,3,3)\n"
"(2 rows)"
msgstr ""

#. Tag: title
#: reference_raster.xml:1868
#, no-c-format
msgid "Raster Accessors"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1872
#, no-c-format
msgid "ST_GeoReference"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1873
#, no-c-format
msgid ""
"Returns the georeference meta data in GDAL or ESRI format as commonly seen "
"in a world file. Default is GDAL."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1878
#, no-c-format
msgid ""
"<funcdef>text <function>ST_GeoReference</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>format=GDAL</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1889
#, no-c-format
msgid ""
"Returns the georeference meta data including carriage return in GDAL or ESRI "
"format as commonly seen in a <ulink url=\"http://en.wikipedia.org/wiki/"
"World_file\">world file</ulink>. Default is GDAL if no type specified. type "
"is string 'GDAL' or 'ESRI'."
msgstr ""

#. Tag: para
#: reference_raster.xml:1891 reference_raster.xml:4263
#, no-c-format
msgid "Difference between format representations is as follows:"
msgstr ""

#. Tag: para
#: reference_raster.xml:1892 reference_raster.xml:4264
#, no-c-format
msgid "<varname>GDAL</varname>:"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1893
#, no-c-format
msgid ""
"scalex\n"
"skewy\n"
"skewx\n"
"scaley\n"
"upperleftx\n"
"upperlefty"
msgstr ""

#. Tag: para
#: reference_raster.xml:1894 reference_raster.xml:4266
#, no-c-format
msgid "<varname>ESRI</varname>:"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1895
#, no-c-format
msgid ""
"scalex\n"
"skewy\n"
"skewx\n"
"scaley\n"
"upperleftx + scalex*0.5\n"
"upperlefty + scaley*0.5"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1901
#, no-c-format
msgid ""
"SELECT ST_GeoReference(rast, 'ESRI') As esri_ref, ST_GeoReference(rast, "
"'GDAL') As gdal_ref\n"
" FROM dummy_rast WHERE rid=1;\n"
"\n"
"   esri_ref   |   gdal_ref\n"
"--------------+--------------\n"
" 2.0000000000 | 2.0000000000\n"
" 0.0000000000 : 0.0000000000\n"
" 0.0000000000 : 0.0000000000\n"
" 3.0000000000 : 3.0000000000\n"
" 1.5000000000 : 0.5000000000\n"
" 2.0000000000 : 0.5000000000"
msgstr ""

#. Tag: para
#: reference_raster.xml:1906
#, no-c-format
msgid ", <xref linkend=\"RT_ST_ScaleX\"/>, <xref linkend=\"RT_ST_ScaleY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1912
#, no-c-format
msgid "ST_Height"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1913
#, no-c-format
msgid "Returns the height of the raster in pixels."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1918
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_Height</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1928
#, no-c-format
msgid "Returns the height of the raster."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1934
#, no-c-format
msgid ""
"SELECT rid, ST_Height(rast) As rastheight\n"
"FROM dummy_rast;\n"
"\n"
" rid | rastheight\n"
"-----+------------\n"
"   1 |         20\n"
"   2 |          5"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1946
#, no-c-format
msgid "ST_IsEmpty"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1947
#, no-c-format
msgid ""
"<refpurpose>Returns true if the raster is empty (width = 0 and height = 0). "
"Otherwise, returns false.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1952
#, no-c-format
msgid ""
"<funcdef>boolean <function>ST_IsEmpty</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1962
#, no-c-format
msgid ""
"<para>Returns true if the raster is empty (width = 0 and height = 0). "
"Otherwise, returns false.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:1970
#, no-c-format
msgid ""
"SELECT ST_IsEmpty(ST_MakeEmptyRaster(100, 100, 0, 0, 0, 0, 0, 0))\n"
"st_isempty |\n"
"-----------+\n"
"f          |\n"
"\n"
"\n"
"SELECT ST_IsEmpty(ST_MakeEmptyRaster(0, 0, 0, 0, 0, 0, 0, 0))\n"
"st_isempty |\n"
"-----------+\n"
"t          |"
msgstr ""

#. Tag: refname
#: reference_raster.xml:1982
#, no-c-format
msgid "ST_MemSize"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:1984
#, no-c-format
msgid ""
"<refpurpose>Returns the amount of space (in bytes) the raster takes.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:1989
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_MemSize</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:1999
#, no-c-format
msgid "<para>Returns the amount of space (in bytes) the raster takes.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2000
#, no-c-format
msgid ""
"This is a nice compliment to PostgreSQL built in functions pg_column_size, "
"pg_size_pretty, pg_relation_size, pg_total_relation_size."
msgstr ""

#. Tag: para
#: reference_raster.xml:2001
#, no-c-format
msgid ""
"pg_relation_size which gives the byte size of a table may return byte size "
"lower than ST_MemSize. This is because pg_relation_size does not add toasted "
"table contribution and large geometries are stored in TOAST tables. "
"pg_column_size might return lower because it returns the compressed size."
msgstr ""

#. Tag: para
#: reference_raster.xml:2003
#, no-c-format
msgid ""
"pg_total_relation_size - includes, the table, the toasted tables, and the "
"indexes."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2013
#, no-c-format
msgid ""
"SELECT ST_MemSize(ST_AsRaster(ST_Buffer(ST_Point(1,5),10,1000),150, 150, "
"'8BUI')) As rast_mem;\n"
"\n"
"                rast_mem\n"
"                --------\n"
"                22568"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2026
#, no-c-format
msgid "ST_MetaData"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2027
#, no-c-format
msgid ""
"Returns basic meta data about a raster object such as pixel size, rotation "
"(skew), upper, lower left, etc."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2032
#, no-c-format
msgid ""
"<funcdef>record <function>ST_MetaData</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2042
#, no-c-format
msgid ""
"Returns basic meta data about a raster object such as pixel size, rotation "
"(skew), upper, lower left, etc. Columns returned: upperleftx | upperlefty | "
"width | height | scalex | scaley | skewx | skewy | srid | numbands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2049
#, no-c-format
msgid ""
"SELECT rid, (foo.md).*\n"
" FROM (SELECT rid, ST_MetaData(rast) As md\n"
"FROM dummy_rast) As foo;\n"
"\n"
" rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | "
"skewy | srid | numbands\n"
" ----+------------+------------+-------+--------+--------+-----------+-------"
"+-------+------+-------\n"
"   1 |        0.5 |        0.5 |    10 |     20 |      2 |      3 "
"|                0 |     0 |    0 |        0\n"
"   2 | 3427927.75 |    5793244 |     5 |      5 |   0.05 |  -0.05 "
"|                0 |     0 |    0 |        3"
msgstr ""

#. Tag: para
#: reference_raster.xml:2055 reference_raster.xml:5075
#, no-c-format
msgid ", <xref linkend=\"RT_ST_NumBands\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2061
#, no-c-format
msgid "ST_NumBands"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2062
#, no-c-format
msgid ""
"<refpurpose>Returns the number of bands in the raster object.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2067
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_NumBands</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2077
#, no-c-format
msgid "<para>Returns the number of bands in the raster object.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2083
#, no-c-format
msgid ""
"SELECT rid, ST_NumBands(rast) As numbands\n"
"FROM dummy_rast;\n"
"\n"
"rid | numbands\n"
"----+----------\n"
"  1 |        0\n"
"  2 |        3"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2095
#, no-c-format
msgid "ST_PixelHeight"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2096
#, no-c-format
msgid ""
"Returns the pixel height in geometric units of the spatial reference system."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2101
#, no-c-format
msgid ""
"<funcdef>double precision <function>ST_PixelHeight</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2111
#, no-c-format
msgid ""
"Returns the height of a pixel in geometric units of the spatial reference "
"system. In the common case where there is no skew, the pixel height is just "
"the scale ratio between geometric coordinates and raster pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:2113
#, no-c-format
msgid ""
"Refer to <xref linkend=\"RT_ST_PixelWidth\"/> for a diagrammatic "
"visualization of the relationship."
msgstr ""

#. Tag: title
#: reference_raster.xml:2117 reference_raster.xml:2177
#, no-c-format
msgid "Examples: Rasters with no skew"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2119
#, no-c-format
msgid ""
"SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,\n"
" ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As "
"skewx,\n"
"        ST_SkewY(rast) As skewy\n"
"FROM dummy_rast;\n"
"\n"
" rastheight | pixheight | scalex | scaley | skewx | skewy\n"
"------------+-----------+--------+--------+-------+----------\n"
"         20 |         3 |      2 |      3 |     0 |        0\n"
"          5 |      0.05 |   0.05 |  -0.05 |     0 |        0"
msgstr ""

#. Tag: title
#: reference_raster.xml:2124 reference_raster.xml:2184
#, no-c-format
msgid "Examples: Rasters with skew different than 0"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2126
#, no-c-format
msgid ""
"SELECT ST_Height(rast) As rastheight, ST_PixelHeight(rast) As pixheight,\n"
" ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) As "
"skewx,\n"
"        ST_SkewY(rast) As skewy\n"
"FROM (SELECT ST_SetSKew(rast,0.5,0.5) As rast\n"
"        FROM dummy_rast) As skewed;\n"
"\n"
"rastheight |     pixheight     | scalex | scaley | skewx | skewy\n"
"-----------+-------------------+--------+--------+-------+----------\n"
"        20 |  3.04138126514911 |      2 |      3 |   0.5 |      0.5\n"
"         5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5"
msgstr ""

#. Tag: para
#: reference_raster.xml:2133 reference_raster.xml:2193
#: reference_raster.xml:4322
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_ScaleX\"/>, <xref linkend=\"RT_ST_ScaleY\"/>, <xref "
"linkend=\"RT_ST_SkewX\"/>, <xref linkend=\"RT_ST_SkewY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2145
#, no-c-format
msgid "ST_PixelWidth"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2146
#, no-c-format
msgid ""
"Returns the pixel width in geometric units of the spatial reference system."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2151
#, no-c-format
msgid ""
"<funcdef>double precision <function>ST_PixelWidth</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2161
#, no-c-format
msgid ""
"Returns the width of a pixel in geometric units of the spatial reference "
"system. In the common case where there is no skew, the pixel width is just "
"the scale ratio between geometric coordinates and raster pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:2163
#, no-c-format
msgid "The following diagram demonstrates the relationship:"
msgstr ""

#. Tag: para
#: reference_raster.xml:2170
#, no-c-format
msgid "Pixel Width: Pixel size in the i direction"
msgstr ""

#. Tag: para
#: reference_raster.xml:2170
#, no-c-format
msgid "Pixel Height: Pixel size in the j direction"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2179
#, no-c-format
msgid ""
"SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,\n"
"        ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) "
"As skewx,\n"
"        ST_SkewY(rast) As skewy\n"
"        FROM dummy_rast;\n"
"\n"
"        rastwidth | pixwidth | scalex | scaley | skewx | skewy\n"
"        -----------+----------+--------+--------+-------+----------\n"
"        10 |        2 |      2 |      3 |     0 |        0\n"
"         5 |     0.05 |   0.05 |  -0.05 |     0 |        0"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2186
#, no-c-format
msgid ""
"SELECT ST_Width(rast) As rastwidth, ST_PixelWidth(rast) As pixwidth,\n"
"        ST_ScaleX(rast) As scalex, ST_ScaleY(rast) As scaley, ST_SkewX(rast) "
"As skewx,\n"
"        ST_SkewY(rast) As skewy\n"
"        FROM (SELECT ST_SetSkew(rast,0.5,0.5) As rast\n"
"        FROM dummy_rast) As skewed;\n"
"\n"
"        rastwidth |     pixwidth      | scalex | scaley | skewx | skewy\n"
"        -----------+-------------------+--------+--------+-------"
"+----------\n"
"        10 |  2.06155281280883 |      2 |      3 |   0.5 |      0.5\n"
"         5 | 0.502493781056044 |   0.05 |  -0.05 |   0.5 |      0.5"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2199
#, no-c-format
msgid "ST_ScaleX"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2200
#, no-c-format
msgid ""
"Returns the X component of the pixel width in units of coordinate reference "
"system."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2205
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_ScaleX</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2215
#, no-c-format
msgid ""
"Returns the X component of the pixel width in units of coordinate reference "
"system. Refer to <ulink url=\"http://en.wikipedia.org/wiki/World_file"
"\">World File</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:2217
#, no-c-format
msgid "Changed: 2.0.0. In WKTRaster versions this was called ST_PixelSizeX."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2223
#, no-c-format
msgid ""
"SELECT rid, ST_ScaleX(rast) As rastpixwidth\n"
"FROM dummy_rast;\n"
"\n"
" rid | rastpixwidth\n"
"-----+--------------\n"
"   1 |            2\n"
"   2 |         0.05"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2236
#, no-c-format
msgid "ST_ScaleY"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2237
#, no-c-format
msgid ""
"Returns the Y component of the pixel height in units of coordinate reference "
"system."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2242
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_ScaleY</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2252
#, no-c-format
msgid ""
"Returns the Y component of the pixel height in units of coordinate reference "
"system. May be negative. Refer to <ulink url=\"http://en.wikipedia.org/wiki/"
"World_file\">World File</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:2255
#, no-c-format
msgid "Changed: 2.0.0. In WKTRaster versions this was called ST_PixelSizeY."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2261
#, no-c-format
msgid ""
"SELECT rid, ST_ScaleY(rast) As rastpixheight\n"
"FROM dummy_rast;\n"
"\n"
" rid | rastpixheight\n"
"-----+---------------\n"
"   1 |             3\n"
"   2 |         -0.05"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2274
#, no-c-format
msgid "ST_RasterToWorldCoord"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2275
#, no-c-format
msgid ""
"Returns the raster's upper left corner as geometric X and Y (longitude and "
"latitude) given a column and row. Column and row starts at 1."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2280
#, no-c-format
msgid ""
"<funcdef>record <function>ST_RasterToWorldCoord</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>xcolumn</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>yrow</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2292
#, no-c-format
msgid ""
"Returns the upper left corner as geometric X and Y (longitude and latitude) "
"given a column and row. Returned X and Y are in geometric units of the "
"georeferenced raster. Numbering of column and row starts at 1 but if either "
"parameter is passed a zero, a negative number or a number greater than the "
"respective dimension of the raster, it will return coordinates outside of "
"the raster assuming the raster's grid is applicable outside the raster's "
"bounds."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2304
#, no-c-format
msgid ""
"-- non-skewed raster\n"
"SELECT\n"
"        rid,\n"
"        (ST_RasterToWorldCoord(rast,1, 1)).*,\n"
"        (ST_RasterToWorldCoord(rast,2, 2)).*\n"
"FROM dummy_rast\n"
"\n"
" rid | longitude  | latitude | longitude |  latitude\n"
"-----+------------+----------+-----------+------------\n"
"   1 |        0.5 |      0.5 |       2.5 |        3.5\n"
"   2 | 3427927.75 |  5793244 | 3427927.8 | 5793243.95"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2306
#, no-c-format
msgid ""
"-- skewed raster\n"
"SELECT\n"
"        rid,\n"
"        (ST_RasterToWorldCoord(rast, 1, 1)).*,\n"
"        (ST_RasterToWorldCoord(rast, 2, 3)).*\n"
"FROM (\n"
"        SELECT\n"
"                rid,\n"
"                ST_SetSkew(rast, 100.5, 0) As rast\n"
"        FROM dummy_rast\n"
") As foo\n"
"\n"
" rid | longitude  | latitude | longitude | latitude\n"
"-----+------------+----------+-----------+-----------\n"
"   1 |        0.5 |      0.5 |     203.5 |       6.5\n"
"   2 | 3427927.75 |  5793244 | 3428128.8 | 5793243.9"
msgstr ""

#. Tag: para
#: reference_raster.xml:2313
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RasterToWorldCoordY\"/>, <xref linkend="
"\"RT_ST_SetSkew\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2323
#, no-c-format
msgid "ST_RasterToWorldCoordX"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2324
#, no-c-format
msgid ""
"Returns the geometric X coordinate upper left of a raster, column and row. "
"Numbering of columns and rows starts at 1."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2329
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_RasterToWorldCoordX</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>xcolumn</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>float8 "
"<function>ST_RasterToWorldCoordX</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>xcolumn</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>yrow</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2347
#, no-c-format
msgid ""
"Returns the upper left X coordinate of a raster column row in geometric "
"units of the georeferenced raster. Numbering of columns and rows starts at 1 "
"but if you pass in a negative number or number higher than number of columns "
"in raster, it will give you coordinates outside of the raster file to left "
"or right with the assumption that the skew and pixel sizes are same as "
"selected raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:2352
#, no-c-format
msgid ""
"For non-skewed rasters, providing the X column is sufficient. For skewed "
"rasters, the georeferenced coordinate is a function of the ST_ScaleX and "
"ST_SkewX and row and column. An error will be raised if you give just the X "
"column for a skewed raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:2356
#, no-c-format
msgid "Changed: 2.1.0 In prior versions, this was called ST_Raster2WorldCoordX"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2363
#, no-c-format
msgid ""
"-- non-skewed raster providing column is sufficient\n"
"SELECT rid, ST_RasterToWorldCoordX(rast,1) As x1coord,\n"
"        ST_RasterToWorldCoordX(rast,2) As x2coord,\n"
"        ST_ScaleX(rast) As pixelx\n"
"FROM dummy_rast;\n"
"\n"
" rid |  x1coord   |  x2coord  | pixelx\n"
"-----+------------+-----------+--------\n"
"   1 |        0.5 |       2.5 |      2\n"
"   2 | 3427927.75 | 3427927.8 |   0.05"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2365
#, no-c-format
msgid ""
"-- for fun lets skew it\n"
"SELECT rid, ST_RasterToWorldCoordX(rast, 1, 1) As x1coord,\n"
"        ST_RasterToWorldCoordX(rast, 2, 3) As x2coord,\n"
"        ST_ScaleX(rast) As pixelx\n"
"FROM (SELECT rid, ST_SetSkew(rast, 100.5, 0) As rast FROM dummy_rast) As "
"foo;\n"
"\n"
" rid |  x1coord   |  x2coord  | pixelx\n"
"-----+------------+-----------+--------\n"
"   1 |        0.5 |     203.5 |      2\n"
"   2 | 3427927.75 | 3428128.8 |   0.05"
msgstr ""

#. Tag: para
#: reference_raster.xml:2372
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RasterToWorldCoordY\"/>, <xref linkend="
"\"RT_ST_SetSkew\"/>, <xref linkend=\"RT_ST_SkewX\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2378
#, no-c-format
msgid "ST_RasterToWorldCoordY"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2379
#, no-c-format
msgid ""
"Returns the geometric Y coordinate upper left corner of a raster, column and "
"row. Numbering of columns and rows starts at 1."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2384
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_RasterToWorldCoordY</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>yrow</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>float8 "
"<function>ST_RasterToWorldCoordY</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>xcolumn</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>yrow</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2402
#, no-c-format
msgid ""
"Returns the upper left Y coordinate of a raster column row in geometric "
"units of the georeferenced raster. Numbering of columns and rows starts at 1 "
"but if you pass in a negative number or number higher than number of columns/"
"rows in raster, it will give you coordinates outside of the raster file to "
"left or right with the assumption that the skew and pixel sizes are same as "
"selected raster tile."
msgstr ""

#. Tag: para
#: reference_raster.xml:2407
#, no-c-format
msgid ""
"For non-skewed rasters, providing the Y column is sufficient. For skewed "
"rasters, the georeferenced coordinate is a function of the ST_ScaleY and "
"ST_SkewY and row and column. An error will be raised if you give just the Y "
"row for a skewed raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:2411
#, no-c-format
msgid "Changed: 2.1.0 In prior versions, this was called ST_Raster2WorldCoordY"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2417
#, no-c-format
msgid ""
"-- non-skewed raster providing row is sufficient\n"
"SELECT rid, ST_RasterToWorldCoordY(rast,1) As y1coord,\n"
"        ST_RasterToWorldCoordY(rast,3) As y2coord,\n"
"        ST_ScaleY(rast) As pixely\n"
"FROM dummy_rast;\n"
"\n"
" rid | y1coord |  y2coord  | pixely\n"
"-----+---------+-----------+--------\n"
"   1 |     0.5 |       6.5 |      3\n"
"   2 | 5793244 | 5793243.9 |  -0.05"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2419
#, no-c-format
msgid ""
"-- for fun lets skew it\n"
"SELECT rid, ST_RasterToWorldCoordY(rast,1,1) As y1coord,\n"
"        ST_RasterToWorldCoordY(rast,2,3) As y2coord,\n"
"        ST_ScaleY(rast) As pixely\n"
"FROM (SELECT rid, ST_SetSkew(rast,0,100.5) As rast FROM dummy_rast) As foo;\n"
"\n"
" rid | y1coord |  y2coord  | pixely\n"
"-----+---------+-----------+--------\n"
"   1 |     0.5 |       107 |      3\n"
"   2 | 5793244 | 5793344.4 |  -0.05"
msgstr ""

#. Tag: para
#: reference_raster.xml:2426
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RasterToWorldCoordX\"/>, <xref linkend="
"\"RT_ST_SetSkew\"/>, <xref linkend=\"RT_ST_SkewY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2432
#, no-c-format
msgid "ST_Rotation"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2433
#, no-c-format
msgid "Returns the rotation of the raster in radian."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2438
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_Rotation</function></funcdef> "
"<paramdef><type>raster</type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2448
#, no-c-format
msgid ""
"Returns the uniform rotation of the raster in radian. If a raster does not "
"have uniform rotation, NaN is returned. Refer to <ulink url=\"http://en."
"wikipedia.org/wiki/World_file\">World File</ulink> for more details."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2455
#, no-c-format
msgid ""
"SELECT rid, ST_Rotation(ST_SetScale(ST_SetSkew(rast, sqrt(2)), sqrt(2))) as "
"rot FROM dummy_rast;\n"
"\n"
" rid |        rot\n"
"-----+-------------------\n"
"   1 | 0.785398163397448\n"
"   2 | 0.785398163397448"
msgstr ""

#. Tag: para
#: reference_raster.xml:2461
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SetScale\"/>, <xref linkend=\"RT_ST_SetSkew\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2467
#, no-c-format
msgid "ST_SkewX"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2468
#, no-c-format
msgid "Returns the georeference X skew (or rotation parameter)."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2473
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_SkewX</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2483
#, no-c-format
msgid ""
"Returns the georeference X skew (or rotation parameter). Refer to <ulink url="
"\"http://en.wikipedia.org/wiki/World_file\">World File</ulink> for more "
"details."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2490 reference_raster.xml:2526
#, no-c-format
msgid ""
"SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,\n"
"    ST_GeoReference(rast) as georef\n"
"FROM dummy_rast;\n"
"\n"
" rid | skewx | skewy |       georef\n"
"-----+-------+-------+--------------------\n"
"   1 |     0 |     0 | 2.0000000000\n"
"                     : 0.0000000000\n"
"                     : 0.0000000000\n"
"                     : 3.0000000000\n"
"                     : 0.5000000000\n"
"                     : 0.5000000000\n"
"                     :\n"
"   2 |     0 |     0 | 0.0500000000\n"
"                     : 0.0000000000\n"
"                     : 0.0000000000\n"
"                     : -0.0500000000\n"
"                     : 3427927.7500000000\n"
"                     : 5793244.0000000000"
msgstr ""

#. Tag: para
#: reference_raster.xml:2497
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SkewY\"/>, <xref linkend=\"RT_ST_SetSkew\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2503
#, no-c-format
msgid "ST_SkewY"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2504
#, no-c-format
msgid "Returns the georeference Y skew (or rotation parameter)."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2509
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_SkewY</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2519
#, no-c-format
msgid ""
"Returns the georeference Y skew (or rotation parameter). Refer to <ulink url="
"\"http://en.wikipedia.org/wiki/World_file\">World File</ulink> for more "
"details."
msgstr ""

#. Tag: para
#: reference_raster.xml:2533
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SkewX\"/>, <xref linkend=\"RT_ST_SetSkew\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2539
#, no-c-format
msgid "ST_SRID"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2540
#, no-c-format
msgid ""
"Returns the spatial reference identifier of the raster as defined in "
"spatial_ref_sys table."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2545
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_SRID</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2555
#, no-c-format
msgid ""
"Returns the spatial reference identifier of the raster object as defined in "
"the spatial_ref_sys table."
msgstr ""

#. Tag: para
#: reference_raster.xml:2556
#, no-c-format
msgid ""
"From PostGIS 2.0+ the srid of a non-georeferenced raster/geometry is 0 "
"instead of the prior -1."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2562
#, no-c-format
msgid ""
"SELECT ST_SRID(rast) As srid\n"
"FROM dummy_rast WHERE rid=1;\n"
"\n"
"srid\n"
"----------------\n"
"0"
msgstr ""

#. Tag: para
#: reference_raster.xml:2568
#, no-c-format
msgid ", <xref linkend=\"ST_SRID\"/>"
msgstr ", <xref linkend=\"ST_SRID\"/>"

#. Tag: refname
#: reference_raster.xml:2574
#, no-c-format
msgid "ST_Summary"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2575
#, no-c-format
msgid ""
"<refpurpose>Returns a text summary of the contents of the raster.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2580
#, no-c-format
msgid ""
"<funcdef>text <function>ST_Summary</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2590
#, no-c-format
msgid "<para>Returns a text summary of the contents of the raster.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2597
#, no-c-format
msgid ""
"SELECT ST_Summary(\n"
"        ST_AddBand(\n"
"                ST_AddBand(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(10, 10, 0, 0, 1, -1, 0, "
"0, 0)\n"
"                                , 1, '8BUI', 1, 0\n"
"                        )\n"
"                        , 2, '32BF', 0, -9999\n"
"                )\n"
"                , 3, '16BSI', 0, NULL\n"
"        )\n"
");\n"
"\n"
"                            st_summary\n"
"------------------------------------------------------------------\n"
" Raster of 10x10 pixels has 3 bands and extent of BOX(0 -10,10 0)+\n"
"     band 1 of pixtype 8BUI is in-db with NODATA value of 0      +\n"
"     band 2 of pixtype 32BF is in-db with NODATA value of -9999  +\n"
"     band 3 of pixtype 16BSI is in-db with no NODATA value\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:2602
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_BandMetaData\"/>, <xref linkend=\"ST_Summary\"/> "
"<xref linkend=\"ST_Extent\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2613
#, no-c-format
msgid "ST_UpperLeftX"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2614
#, no-c-format
msgid ""
"<refpurpose>Returns the upper left X coordinate of raster in projected "
"spatial ref.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2619
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_UpperLeftX</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2629
#, no-c-format
msgid ""
"<para>Returns the upper left X coordinate of raster in projected spatial ref."
"</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2635
#, no-c-format
msgid ""
"SELECt rid, ST_UpperLeftX(rast) As ulx\n"
"FROM dummy_rast;\n"
"\n"
" rid |    ulx\n"
"-----+------------\n"
"   1 |        0.5\n"
"   2 | 3427927.75"
msgstr ""

#. Tag: para
#: reference_raster.xml:2641 reference_raster.xml:2675
#, no-c-format
msgid ", <xref linkend=\"RT_ST_GeoReference\"/>, <xref linkend=\"RT_Box3D\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2647
#, no-c-format
msgid "ST_UpperLeftY"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2648
#, no-c-format
msgid ""
"<refpurpose>Returns the upper left Y coordinate of raster in projected "
"spatial ref.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2653
#, no-c-format
msgid ""
"<funcdef>float8 <function>ST_UpperLeftY</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2663
#, no-c-format
msgid ""
"<para>Returns the upper left Y coordinate of raster in projected spatial ref."
"</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2669
#, no-c-format
msgid ""
"SELECT rid, ST_UpperLeftY(rast) As uly\n"
"FROM dummy_rast;\n"
"\n"
" rid |   uly\n"
"-----+---------\n"
"   1 |     0.5\n"
"   2 | 5793244"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2681
#, no-c-format
msgid "ST_Width"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2682
#, no-c-format
msgid "<refpurpose>Returns the width of the raster in pixels.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2687
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_Width</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2697
#, no-c-format
msgid "<para>Returns the width of the raster in pixels.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2703
#, no-c-format
msgid ""
"SELECT ST_Width(rast) As rastwidth\n"
"FROM dummy_rast WHERE rid=1;\n"
"\n"
"rastwidth\n"
"----------------\n"
"10"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2717
#, no-c-format
msgid "ST_WorldToRasterCoord"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2718
#, no-c-format
msgid ""
"Returns the upper left corner as column and row given geometric X and Y "
"(longitude and latitude) or a point geometry expressed in the spatial "
"reference coordinate system of the raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2722
#, no-c-format
msgid ""
"<funcprototype> <funcdef>record <function>ST_WorldToRasterCoord</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>pt</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>record "
"<function>ST_WorldToRasterCoord</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>longitude</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>latitude</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2741
#, no-c-format
msgid ""
"Returns the upper left corner as column and row given geometric X and Y "
"(longitude and latitude) or a point geometry. This function works regardless "
"of whether or not the geometric X and Y or point geometry is outside the "
"extent of the raster. Geometric X and Y must be expressed in the spatial "
"reference coordinate system of the raster."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2754
#, no-c-format
msgid ""
"SELECT\n"
"        rid,\n"
"        (ST_WorldToRasterCoord(rast,3427927.8,20.5)).*,\n"
"        (ST_WorldToRasterCoord(rast,ST_GeomFromText('POINT(3427927.8 20.5)',"
"ST_SRID(rast)))).*\n"
"FROM dummy_rast;\n"
"\n"
" rid | columnx |   rowy    | columnx |   rowy\n"
"-----+---------+-----------+---------+-----------\n"
"   1 | 1713964 |         7 | 1713964 |         7\n"
"   2 |       2 | 115864471 |       2 | 115864471"
msgstr ""

#. Tag: para
#: reference_raster.xml:2760
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_WorldToRasterCoordY\"/>, <xref linkend="
"\"RT_ST_RasterToWorldCoordX\"/>, <xref linkend=\"RT_ST_RasterToWorldCoordY\"/"
">, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2772
#, no-c-format
msgid "ST_WorldToRasterCoordX"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2773
#, no-c-format
msgid ""
"Returns the column in the raster of the point geometry (pt) or a X and Y "
"world coordinate (xw, yw) represented in world spatial reference system of "
"raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2778
#, no-c-format
msgid ""
"<funcprototype> <funcdef>integer <function>ST_WorldToRasterCoordX</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>integer "
"<function>ST_WorldToRasterCoordX</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>xw</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>integer <function>ST_WorldToRasterCoordX</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>xw</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>yw</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2803
#, no-c-format
msgid ""
"Returns the column in the raster of the point geometry (pt) or a X and Y "
"world coordinate (xw, yw). A point, or (both xw and yw world coordinates are "
"required if a raster is skewed). If a raster is not skewed then xw is "
"sufficient. World coordinates are in the spatial reference coordinate system "
"of the raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:2805
#, no-c-format
msgid "Changed: 2.1.0 In prior versions, this was called ST_World2RasterCoordX"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2811
#, no-c-format
msgid ""
"SELECT rid, ST_WorldToRasterCoordX(rast,3427927.8) As xcoord,\n"
"                ST_WorldToRasterCoordX(rast,3427927.8,20.5) As xcoord_xwyw,\n"
"                ST_WorldToRasterCoordX(rast,ST_GeomFromText('POINT(3427927.8 "
"20.5)',ST_SRID(rast))) As ptxcoord\n"
"FROM dummy_rast;\n"
"\n"
" rid | xcoord  |  xcoord_xwyw   | ptxcoord\n"
"-----+---------+---------+----------\n"
"   1 | 1713964 | 1713964 |  1713964\n"
"   2 |       1 |       1 |        1"
msgstr ""

#. Tag: para
#: reference_raster.xml:2817 reference_raster.xml:2872
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RasterToWorldCoordY\"/>, <xref linkend=\"RT_ST_SRID"
"\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2827
#, no-c-format
msgid "ST_WorldToRasterCoordY"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2828
#, no-c-format
msgid ""
"Returns the row in the raster of the point geometry (pt) or a X and Y world "
"coordinate (xw, yw) represented in world spatial reference system of raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2833
#, no-c-format
msgid ""
"<funcprototype> <funcdef>integer <function>ST_WorldToRasterCoordY</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>integer "
"<function>ST_WorldToRasterCoordY</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>xw</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>integer <function>ST_WorldToRasterCoordY</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>xw</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>yw</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2858
#, no-c-format
msgid ""
"Returns the row in the raster of the point geometry (pt) or a X and Y world "
"coordinate (xw, yw). A point, or (both xw and yw world coordinates are "
"required if a raster is skewed). If a raster is not skewed then xw is "
"sufficient. World coordinates are in the spatial reference coordinate system "
"of the raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:2860
#, no-c-format
msgid "Changed: 2.1.0 In prior versions, this was called ST_World2RasterCoordY"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2866
#, no-c-format
msgid ""
"SELECT rid, ST_WorldToRasterCoordY(rast,20.5) As ycoord,\n"
"                ST_WorldToRasterCoordY(rast,3427927.8,20.5) As ycoord_xwyw,\n"
"                ST_WorldToRasterCoordY(rast,ST_GeomFromText('POINT(3427927.8 "
"20.5)',ST_SRID(rast))) As ptycoord\n"
"FROM dummy_rast;\n"
"\n"
" rid |  ycoord   | ycoord_xwyw | ptycoord\n"
"-----+-----------+-------------+-----------\n"
"   1 |         7 |           7 |         7\n"
"   2 | 115864471 |   115864471 | 115864471"
msgstr ""

#. Tag: title
#: reference_raster.xml:2879
#, no-c-format
msgid "Raster Band Accessors"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2882
#, no-c-format
msgid "ST_BandMetaData"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2883
#, no-c-format
msgid ""
"Returns basic meta data for a specific raster band. band num 1 is assumed if "
"none-specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2887
#, no-c-format
msgid ""
"<funcprototype> <funcdef>(1) record <function>ST_BandMetaData</function></"
"funcdef> <paramdef><type>raster </type><parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type><parameter>band=1</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>(2) record "
"<function>ST_BandMetaData</function></funcdef> <paramdef><type>raster </"
"type><parameter>rast</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer[] </type><parameter>band</parameter></paramdef> </"
"funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2904
#, no-c-format
msgid ""
"Returns basic meta data about a raster band. Columns returned: pixeltype, "
"nodatavalue, isoutdb, path, outdbbandnum, filesize, filetimestamp."
msgstr ""

#. Tag: para
#: reference_raster.xml:2907
#, no-c-format
msgid "If raster contains no bands then an error is thrown."
msgstr ""

#. Tag: para
#: reference_raster.xml:2913
#, no-c-format
msgid "If band has no NODATA value, nodatavalue are NULL."
msgstr ""

#. Tag: para
#: reference_raster.xml:2918
#, no-c-format
msgid ""
"If isoutdb is False, path, outdbbandnum, filesize and filetimestamp are "
"NULL. If outdb access is disabled, filesize and filetimestamp will also be "
"NULL."
msgstr ""

#. Tag: para
#: reference_raster.xml:2923
#, no-c-format
msgid ""
"Enhanced: 2.5.0 to include <emphasis>outdbbandnum</emphasis>, "
"<emphasis>filesize</emphasis> and <emphasis>filetimestamp</emphasis> for "
"outdb rasters."
msgstr ""

#. Tag: title
#: reference_raster.xml:2927 reference_raster.xml:4019
#: reference_raster.xml:6840 reference_raster.xml:7266
#: reference_raster.xml:8868 reference_raster.xml:9311
#: reference_raster.xml:9408 reference_raster.xml:9536
#, no-c-format
msgid "Examples: Variant 1"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2929
#, no-c-format
msgid ""
"SELECT\n"
"        rid,\n"
"        (foo.md).*\n"
"FROM (\n"
"        SELECT\n"
"                rid,\n"
"                ST_BandMetaData(rast, 1) AS md\n"
"        FROM dummy_rast\n"
"        WHERE rid=2\n"
") As foo;\n"
"\n"
" rid | pixeltype | nodatavalue | isoutdb | path | outdbbandnum\n"
"-----+-----------+---- --------+---------+------+--------------\n"
"   2 | 8BUI      |           0 | f       |      |"
msgstr ""

#. Tag: title
#: reference_raster.xml:2934 reference_raster.xml:4032
#: reference_raster.xml:6884 reference_raster.xml:8875
#: reference_raster.xml:9316 reference_raster.xml:9413
#: reference_raster.xml:9541
#, no-c-format
msgid "Examples: Variant 2"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2936
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/"
"raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast\n"
")\n"
"SELECT\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        (SELECT rast FROM foo),\n"
"         ARRAY[1,3,2]::int[]\n"
");\n"
"\n"
" bandnum | pixeltype | nodatavalue | isoutdb "
"|                                      "
"path                                      | outdbbandnum  | filesize | "
"filetimestamp |\n"
"---------+-----------+-------------+---------"
"+--------------------------------------------------------------------------------"
"+---------------+----------+---------------+-\n"
"       1 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-"
"git/raster/test/regress/loader/Projected.tif      |            1  |    12345 "
"|    1521807257 |\n"
"       3 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-"
"git/raster/test/regress/loader/Projected.tif      |            3  |    12345 "
"|    1521807257 |\n"
"       2 | 8BUI      |             | t       | /home/pele/devel/geo/postgis-"
"git/raster/test/regress/loader/Projected.tif      |            2  |    12345 "
"|    1521807257 |"
msgstr ""

#. Tag: para
#: reference_raster.xml:2943
#, no-c-format
msgid ", <xref linkend=\"RT_ST_BandPixelType\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2949
#, no-c-format
msgid "ST_BandNoDataValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2950
#, no-c-format
msgid ""
"Returns the value in a given band that represents no data. If no band num 1 "
"is assumed."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:2955
#, no-c-format
msgid ""
"<funcdef>double precision <function>ST_BandNoDataValue</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>bandnum=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:2966
#, no-c-format
msgid "Returns the value that represents no data for the band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:2972
#, no-c-format
msgid ""
"SELECT ST_BandNoDataValue(rast,1) As bnval1,\n"
"    ST_BandNoDataValue(rast,2) As bnval2, ST_BandNoDataValue(rast,3) As "
"bnval3\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
" bnval1 | bnval2 | bnval3\n"
"--------+--------+--------\n"
"      0 |      0 |      0"
msgstr ""

#. Tag: refname
#: reference_raster.xml:2985
#, no-c-format
msgid "ST_BandIsNoData"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:2986
#, no-c-format
msgid "Returns true if the band is filled with only nodata values."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:2990
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_BandIsNoData</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>forceChecking=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>ST_BandIsNoData</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>forceChecking=true</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3007
#, no-c-format
msgid ""
"Returns true if the band is filled with only nodata values. Band 1 is "
"assumed if not specified. If the last argument is TRUE, the entire band is "
"checked pixel by pixel. Otherwise, the function simply returns the value of "
"the isnodata flag for the band. The default value for this parameter is "
"FALSE, if not specified."
msgstr ""

#. Tag: para
#: reference_raster.xml:3017
#, no-c-format
msgid ""
"If the flag is dirty (this is, the result is different using TRUE as last "
"parameter and not using it) you should update the raster to set this flag to "
"true, by using ST_SetBandIsNodata(), or ST_SetBandNodataValue() with TRUE as "
"last argument. See <xref linkend=\"RT_ST_SetBandIsNoData\"/>."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3027
#, no-c-format
msgid ""
"-- Create dummy table with one raster column\n"
"create table dummy_rast (rid integer, rast raster);\n"
"\n"
"-- Add raster with two bands, one pixel/band. In the first band, nodatavalue "
"= pixel value = 3.\n"
"-- In the second band, nodatavalue = 13, pixel value = 4\n"
"insert into dummy_rast values(1,\n"
"(\n"
"'01' -- little endian (uint8 ndr)\n"
"||\n"
"'0000' -- version (uint16 0)\n"
"||\n"
"'0200' -- nBands (uint16 0)\n"
"||\n"
"'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)\n"
"||\n"
"'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)\n"
"||\n"
"'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)\n"
"||\n"
"'718F0E9A27A44840' -- ipY (float64 49.2824585505576)\n"
"||\n"
"'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)\n"
"||\n"
"'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)\n"
"||\n"
"'E6100000' -- SRID (int32 4326)\n"
"||\n"
"'0100' -- width (uint16 1)\n"
"||\n"
"'0100' -- height (uint16 1)\n"
"||\n"
"'6' -- hasnodatavalue and isnodata value set to true.\n"
"||\n"
"'2' -- first band type (4BUI)\n"
"||\n"
"'03' -- novalue==3\n"
"||\n"
"'03' -- pixel(0,0)==3 (same that nodata)\n"
"||\n"
"'0' -- hasnodatavalue set to false\n"
"||\n"
"'5' -- second band type (16BSI)\n"
"||\n"
"'0D00' -- novalue==13\n"
"||\n"
"'0400' -- pixel(0,0)==4\n"
")::raster\n"
");\n"
"\n"
"select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected "
"true\n"
"select st_bandisnodata(rast, 2) from dummy_rast where rid = 1; -- Expected "
"false"
msgstr ""

#. Tag: para
#: reference_raster.xml:3033
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_NumBands\"/>, <xref linkend="
"\"RT_ST_SetBandNoDataValue\"/>, <xref linkend=\"RT_ST_SetBandIsNoData\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3042
#, no-c-format
msgid "ST_BandPath"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3043
#, no-c-format
msgid ""
"Returns system file path to a band stored in file system. If no bandnum "
"specified, 1 is assumed."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3048
#, no-c-format
msgid ""
"<funcdef>text <function>ST_BandPath</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>bandnum=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3059
#, no-c-format
msgid ""
"Returns system file path to a band. Throws an error if called with an in db "
"band."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3065
#, no-c-format
msgid "<!-- TODO: -->"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3077
#, no-c-format
msgid "ST_BandFileSize"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3078
#, no-c-format
msgid ""
"Returns the file size of a band stored in file system. If no bandnum "
"specified, 1 is assumed."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3083
#, no-c-format
msgid ""
"<funcdef>bigint <function>ST_BandFileSize</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>bandnum=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3094
#, no-c-format
msgid ""
"Returns the file size of a band stored in file system. Throws an error if "
"called with an in db band, or if outdb access is not enabled."
msgstr ""

#. Tag: para
#: reference_raster.xml:3096
#, no-c-format
msgid ""
"This function is typically used in conjunction with ST_BandPath() and "
"ST_BandFileTimestamp() so a client can determine if the filename of a outdb "
"raster as seen by it is the same as the one seen by the server."
msgstr ""

#. Tag: para
#: reference_raster.xml:3098 reference_raster.xml:3134
#: reference_raster.xml:5159 reference_raster.xml:5212
#: reference_raster.xml:5813 reference_raster.xml:5856
#: reference_raster.xml:5969 reference_raster.xml:6835
#, no-c-format
msgid "Availability: 2.5.0"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3105
#, no-c-format
msgid ""
"SELECT ST_BandFileSize(rast,1) FROM dummy_rast WHERE rid = 1;\n"
"\n"
" st_bandfilesize\n"
"-----------------\n"
"          240574"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3113
#, no-c-format
msgid "ST_BandFileTimestamp"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3114
#, no-c-format
msgid ""
"Returns the file timestamp of a band stored in file system. If no bandnum "
"specified, 1 is assumed."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3119
#, no-c-format
msgid ""
"<funcdef>bigint <function>ST_BandFileTimestamp</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>bandnum=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3130
#, no-c-format
msgid ""
"Returns the file timestamp (number of seconds since Jan 1st 1970 00:00:00 "
"UTC) of a band stored in file system. Throws an error if called with an in "
"db band, or if outdb access is not enabled."
msgstr ""

#. Tag: para
#: reference_raster.xml:3132
#, no-c-format
msgid ""
"This function is typically used in conjunction with ST_BandPath() and "
"ST_BandFileSize() so a client can determine if the filename of a outdb "
"raster as seen by it is the same as the one seen by the server."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3140
#, no-c-format
msgid ""
"SELECT ST_BandFileTimestamp(rast,1) FROM dummy_rast WHERE rid = 1;\n"
"\n"
" st_bandfiletimestamp\n"
"----------------------\n"
"           1521807257"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3147
#, no-c-format
msgid "ST_BandPixelType"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3148
#, no-c-format
msgid ""
"Returns the type of pixel for given band. If no bandnum specified, 1 is "
"assumed."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3153
#, no-c-format
msgid ""
"<funcdef>text <function>ST_BandPixelType</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>bandnum=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3164
#, no-c-format
msgid ""
"Returns name describing data type and size of values stored in each cell of "
"given band."
msgstr ""

#. Tag: para
#: reference_raster.xml:3165
#, no-c-format
msgid "There are 11 pixel types. Pixel Types supported are as follows:"
msgstr ""

#. Tag: para
#: reference_raster.xml:3168
#, no-c-format
msgid "1BB - 1-bit boolean"
msgstr ""

#. Tag: para
#: reference_raster.xml:3172
#, no-c-format
msgid "2BUI - 2-bit unsigned integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3176
#, no-c-format
msgid "4BUI - 4-bit unsigned integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3180
#, no-c-format
msgid "8BSI - 8-bit signed integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3183
#, no-c-format
msgid "8BUI - 8-bit unsigned integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3186
#, no-c-format
msgid "16BSI - 16-bit signed integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3189
#, no-c-format
msgid "16BUI - 16-bit unsigned integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3192
#, no-c-format
msgid "32BSI - 32-bit signed integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3195
#, no-c-format
msgid "32BUI - 32-bit unsigned integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:3198
#, no-c-format
msgid "32BF - 32-bit float"
msgstr ""

#. Tag: para
#: reference_raster.xml:3201
#, no-c-format
msgid "64BF - 64-bit float"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3210
#, no-c-format
msgid ""
"SELECT ST_BandPixelType(rast,1) As btype1,\n"
"    ST_BandPixelType(rast,2) As btype2, ST_BandPixelType(rast,3) As btype3\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
" btype1 | btype2 | btype3\n"
"--------+--------+--------\n"
" 8BUI   | 8BUI   | 8BUI"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3222
#, no-c-format
msgid "ST_MinPossibleValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3223
#, no-c-format
msgid ""
"<refpurpose>Returns the minimum value this pixeltype can store.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3228
#, no-c-format
msgid ""
"<funcdef>integer <function>ST_MinPossibleValue</function></funcdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3237
#, no-c-format
msgid "<para>Returns the minimum value this pixeltype can store.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3243
#, no-c-format
msgid ""
"SELECT ST_MinPossibleValue('16BSI');\n"
"\n"
" st_minpossiblevalue\n"
"---------------------\n"
"              -32768\n"
"\n"
"\n"
"SELECT ST_MinPossibleValue('8BUI');\n"
"\n"
" st_minpossiblevalue\n"
"---------------------\n"
"                   0"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3255
#, no-c-format
msgid "ST_HasNoBand"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3256
#, no-c-format
msgid ""
"<refpurpose>Returns true if there is no band with given band number. If no "
"band number is specified, then band number 1 is assumed.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3261
#, no-c-format
msgid ""
"<funcdef>boolean <function>ST_HasNoBand</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>bandnum=1</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3272
#, no-c-format
msgid ""
"<para>Returns true if there is no band with given band number. If no band "
"number is specified, then band number 1 is assumed.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3280
#, no-c-format
msgid ""
"SELECT rid, ST_HasNoBand(rast) As hb1, ST_HasNoBand(rast,2) as hb2,\n"
"ST_HasNoBand(rast,4) as hb4, ST_NumBands(rast) As numbands\n"
"FROM dummy_rast;\n"
"\n"
"rid | hb1 | hb2 | hb4 | numbands\n"
"-----+-----+-----+-----+----------\n"
"1 | t   | t   | t   |        0\n"
"2 | f   | f   | t   |        3"
msgstr ""

#. Tag: title
#: reference_raster.xml:3293
#, no-c-format
msgid "Raster Pixel Accessors and Setters"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3297
#, no-c-format
msgid "ST_PixelAsPolygon"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3298
#, no-c-format
msgid ""
"<refpurpose>Returns the polygon geometry that bounds the pixel for a "
"particular row and column.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3303
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_PixelAsPolygon</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3315
#, no-c-format
msgid ""
"<para>Returns the polygon geometry that bounds the pixel for a particular "
"row and column.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3323
#, no-c-format
msgid ""
"-- get raster pixel polygon\n"
"SELECT i,j, ST_AsText(ST_PixelAsPolygon(foo.rast, i,j)) As b1pgeom\n"
"FROM dummy_rast As foo\n"
"        CROSS JOIN generate_series(1,2) As i\n"
"        CROSS JOIN generate_series(1,1) As j\n"
"WHERE rid=2;\n"
"\n"
" i | j |                                                    b1pgeom\n"
"---+---"
"+-----------------------------------------------------------------------------\n"
" 1 | 1 | POLYGON((3427927.75 5793244,3427927.8 5793244,3427927.8 "
"5793243.95,...\n"
" 2 | 1 | POLYGON((3427927.8 5793244,3427927.85 5793244,3427927.85 "
"5793243.95, .."
msgstr ""

#. Tag: para
#: reference_raster.xml:3328
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygons\"/>, <xref linkend="
"\"RT_ST_PixelAsPoint\"/>, <xref linkend=\"RT_ST_PixelAsPoints\"/>, <xref "
"linkend=\"RT_ST_PixelAsCentroid\"/>, <xref linkend=\"RT_ST_PixelAsCentroids"
"\"/>, <xref linkend=\"RT_ST_Intersection\"/>, <xref linkend=\"ST_AsText\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3343
#, no-c-format
msgid "ST_PixelAsPolygons"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3344
#, no-c-format
msgid ""
"Returns the polygon geometry that bounds every pixel of a raster band along "
"with the value, the X and the Y raster coordinates of each pixel."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3349
#, no-c-format
msgid ""
"<funcdef>setof record <function>ST_PixelAsPolygons</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=TRUE</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3361
#, no-c-format
msgid ""
"Returns the polygon geometry that bounds every pixel of a raster band along "
"with the value (double precision), the X and the Y raster coordinates "
"(integers) of each pixel."
msgstr ""

#. Tag: para
#: reference_raster.xml:3363 reference_raster.xml:3469
#: reference_raster.xml:3566
#, no-c-format
msgid ""
"Return record format: <parameter>geom</parameter> <xref linkend=\"geometry\"/"
">, <parameter>val</parameter> double precision, <parameter>x</parameter> "
"integer, <parameter>y</parameter> integers."
msgstr ""

#. Tag: para
#: reference_raster.xml:3367 reference_raster.xml:3473
#: reference_raster.xml:3570
#, no-c-format
msgid ""
"When <parameter>exclude_nodata_value</parameter> = TRUE, only those pixels "
"whose values are not NODATA are returned as points."
msgstr ""

#. Tag: para
#: reference_raster.xml:3373
#, no-c-format
msgid ""
"ST_PixelAsPolygons returns one polygon geometry for every pixel. This is "
"different than ST_DumpAsPolygons where each geometry represents one or more "
"pixels with the same pixel value."
msgstr ""

#. Tag: para
#: reference_raster.xml:3379
#, no-c-format
msgid "Enhanced: 2.1.0 exclude_nodata_value optional argument was added."
msgstr ""

#. Tag: para
#: reference_raster.xml:3380 reference_raster.xml:3478
#: reference_raster.xml:3576
#, no-c-format
msgid "Changed: 2.1.1 Changed behavior of exclude_nodata_value."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3385
#, no-c-format
msgid ""
"-- get raster pixel polygon\n"
"SELECT (gv).x, (gv).y, (gv).val, ST_AsText((gv).geom) geom\n"
"FROM (SELECT ST_PixelAsPolygons(\n"
"                 ST_SetValue(ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(2, 2, "
"0, 0, 0.001, -0.001, 0.001, 0.001, 4269),\n"
"                                                    '8BUI'::text, 1, 0),\n"
"                                         2, 2, 10),\n"
"                             1, 1, NULL)\n"
") gv\n"
") foo;\n"
"\n"
" x | y | val |                geom\n"
"---+---"
"+-----------------------------------------------------------------------------\n"
" 1 | 1 |     | POLYGON((0 0,0.001 0.001,0.002 0,0.001 -0.001,0 0))\n"
" 1 | 2 |   1 | POLYGON((0.001 -0.001,0.002 0,0.003 -0.001,0.002 -0.002,0.001 "
"-0.001))\n"
" 2 | 1 |   1 | POLYGON((0.001 0.001,0.002 0.002,0.003 0.001,0.002 0,0.001 "
"0.001))\n"
" 2 | 2 |  10 | POLYGON((0.002 0,0.003 0.001,0.004 0,0.003 -0.001,0.002 0))"
msgstr ""

#. Tag: para
#: reference_raster.xml:3390
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend="
"\"RT_ST_PixelAsPoint\"/>, <xref linkend=\"RT_ST_PixelAsPoints\"/>, <xref "
"linkend=\"RT_ST_PixelAsCentroid\"/>, <xref linkend=\"RT_ST_PixelAsCentroids"
"\"/>, <xref linkend=\"ST_AsText\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3404
#, no-c-format
msgid "ST_PixelAsPoint"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3405
#, no-c-format
msgid ""
"<refpurpose>Returns a point geometry of the pixel's upper-left corner.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3411
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_PixelAsPoint</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3422
#, no-c-format
msgid "<para>Returns a point geometry of the pixel's upper-left corner.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3428
#, no-c-format
msgid ""
"SELECT ST_AsText(ST_PixelAsPoint(rast, 1, 1)) FROM dummy_rast WHERE rid = "
"1;\n"
"\n"
"   st_astext\n"
"----------------\n"
" POINT(0.5 0.5)"
msgstr ""

#. Tag: para
#: reference_raster.xml:3433
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend="
"\"RT_ST_PixelAsPolygons\"/>, <xref linkend=\"RT_ST_PixelAsPoints\"/>, <xref "
"linkend=\"RT_ST_PixelAsCentroid\"/>, <xref linkend=\"RT_ST_PixelAsCentroids"
"\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3447
#, no-c-format
msgid "ST_PixelAsPoints"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3448
#, no-c-format
msgid ""
"<refpurpose>Returns a point geometry for each pixel of a raster band along "
"with the value, the X and the Y raster coordinates of each pixel. The "
"coordinates of the point geometry are of the pixel's upper-left corner.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3454
#, no-c-format
msgid ""
"<funcdef>setof record <function>ST_PixelAsPoints</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=TRUE</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3465
#, no-c-format
msgid ""
"<para>Returns a point geometry for each pixel of a raster band along with "
"the value, the X and the Y raster coordinates of each pixel. The coordinates "
"of the point geometry are of the pixel's upper-left corner.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3483
#, no-c-format
msgid ""
"SELECT x, y, val, ST_AsText(geom) FROM (SELECT (ST_PixelAsPoints(rast, 1)).* "
"FROM dummy_rast WHERE rid = 2) foo;\n"
"\n"
" x | y | val |          st_astext\n"
"---+---+-----+------------------------------\n"
" 1 | 1 | 253 | POINT(3427927.75 5793244)\n"
" 2 | 1 | 254 | POINT(3427927.8 5793244)\n"
" 3 | 1 | 253 | POINT(3427927.85 5793244)\n"
" 4 | 1 | 254 | POINT(3427927.9 5793244)\n"
" 5 | 1 | 254 | POINT(3427927.95 5793244)\n"
" 1 | 2 | 253 | POINT(3427927.75 5793243.95)\n"
" 2 | 2 | 254 | POINT(3427927.8 5793243.95)\n"
" 3 | 2 | 254 | POINT(3427927.85 5793243.95)\n"
" 4 | 2 | 253 | POINT(3427927.9 5793243.95)\n"
" 5 | 2 | 249 | POINT(3427927.95 5793243.95)\n"
" 1 | 3 | 250 | POINT(3427927.75 5793243.9)\n"
" 2 | 3 | 254 | POINT(3427927.8 5793243.9)\n"
" 3 | 3 | 254 | POINT(3427927.85 5793243.9)\n"
" 4 | 3 | 252 | POINT(3427927.9 5793243.9)\n"
" 5 | 3 | 249 | POINT(3427927.95 5793243.9)\n"
" 1 | 4 | 251 | POINT(3427927.75 5793243.85)\n"
" 2 | 4 | 253 | POINT(3427927.8 5793243.85)\n"
" 3 | 4 | 254 | POINT(3427927.85 5793243.85)\n"
" 4 | 4 | 254 | POINT(3427927.9 5793243.85)\n"
" 5 | 4 | 253 | POINT(3427927.95 5793243.85)\n"
" 1 | 5 | 252 | POINT(3427927.75 5793243.8)\n"
" 2 | 5 | 250 | POINT(3427927.8 5793243.8)\n"
" 3 | 5 | 254 | POINT(3427927.85 5793243.8)\n"
" 4 | 5 | 254 | POINT(3427927.9 5793243.8)\n"
" 5 | 5 | 254 | POINT(3427927.95 5793243.8)"
msgstr ""

#. Tag: para
#: reference_raster.xml:3488
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend="
"\"RT_ST_PixelAsPolygons\"/>, <xref linkend=\"RT_ST_PixelAsPoint\"/>, <xref "
"linkend=\"RT_ST_PixelAsCentroid\"/>, <xref linkend=\"RT_ST_PixelAsCentroids"
"\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3502
#, no-c-format
msgid "ST_PixelAsCentroid"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3503
#, no-c-format
msgid ""
"<refpurpose>Returns the centroid (point geometry) of the area represented by "
"a pixel.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3509
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_PixelAsCentroid</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>x</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>y</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3520
#, no-c-format
msgid ""
"<para>Returns the centroid (point geometry) of the area represented by a "
"pixel.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3526
#, no-c-format
msgid ""
"SELECT ST_AsText(ST_PixelAsCentroid(rast, 1, 1)) FROM dummy_rast WHERE rid = "
"1;\n"
"\n"
"  st_astext\n"
"--------------\n"
" POINT(1.5 2)"
msgstr ""

#. Tag: para
#: reference_raster.xml:3531
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend="
"\"RT_ST_PixelAsPolygons\"/>, <xref linkend=\"RT_ST_PixelAsPoint\"/>, <xref "
"linkend=\"RT_ST_PixelAsPoints\"/>, <xref linkend=\"RT_ST_PixelAsCentroids\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3545
#, no-c-format
msgid "ST_PixelAsCentroids"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3546
#, no-c-format
msgid ""
"<refpurpose>Returns the centroid (point geometry) for each pixel of a raster "
"band along with the value, the X and the Y raster coordinates of each pixel. "
"The point geometry is the centroid of the area represented by a pixel.</"
"refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:3552
#, no-c-format
msgid ""
"<funcdef>setof record <function>ST_PixelAsCentroids</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=TRUE</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3563
#, no-c-format
msgid ""
"<para>Returns the centroid (point geometry) for each pixel of a raster band "
"along with the value, the X and the Y raster coordinates of each pixel. The "
"point geometry is the centroid of the area represented by a pixel.</para>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3581
#, no-c-format
msgid ""
"--LATERAL syntax requires PostgreSQL 9.3+\n"
"SELECT x, y, val, ST_AsText(geom)\n"
"        FROM (SELECT dp.* FROM dummy_rast, LATERAL ST_PixelAsCentroids(rast, "
"1) AS dp WHERE rid = 2) foo;\n"
" x | y | val |           st_astext\n"
"---+---+-----+--------------------------------\n"
" 1 | 1 | 253 | POINT(3427927.775 5793243.975)\n"
" 2 | 1 | 254 | POINT(3427927.825 5793243.975)\n"
" 3 | 1 | 253 | POINT(3427927.875 5793243.975)\n"
" 4 | 1 | 254 | POINT(3427927.925 5793243.975)\n"
" 5 | 1 | 254 | POINT(3427927.975 5793243.975)\n"
" 1 | 2 | 253 | POINT(3427927.775 5793243.925)\n"
" 2 | 2 | 254 | POINT(3427927.825 5793243.925)\n"
" 3 | 2 | 254 | POINT(3427927.875 5793243.925)\n"
" 4 | 2 | 253 | POINT(3427927.925 5793243.925)\n"
" 5 | 2 | 249 | POINT(3427927.975 5793243.925)\n"
" 1 | 3 | 250 | POINT(3427927.775 5793243.875)\n"
" 2 | 3 | 254 | POINT(3427927.825 5793243.875)\n"
" 3 | 3 | 254 | POINT(3427927.875 5793243.875)\n"
" 4 | 3 | 252 | POINT(3427927.925 5793243.875)\n"
" 5 | 3 | 249 | POINT(3427927.975 5793243.875)\n"
" 1 | 4 | 251 | POINT(3427927.775 5793243.825)\n"
" 2 | 4 | 253 | POINT(3427927.825 5793243.825)\n"
" 3 | 4 | 254 | POINT(3427927.875 5793243.825)\n"
" 4 | 4 | 254 | POINT(3427927.925 5793243.825)\n"
" 5 | 4 | 253 | POINT(3427927.975 5793243.825)\n"
" 1 | 5 | 252 | POINT(3427927.775 5793243.775)\n"
" 2 | 5 | 250 | POINT(3427927.825 5793243.775)\n"
" 3 | 5 | 254 | POINT(3427927.875 5793243.775)\n"
" 4 | 5 | 254 | POINT(3427927.925 5793243.775)\n"
" 5 | 5 | 254 | POINT(3427927.975 5793243.775)"
msgstr ""

#. Tag: para
#: reference_raster.xml:3586
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend="
"\"RT_ST_PixelAsPolygons\"/>, <xref linkend=\"RT_ST_PixelAsPoint\"/>, <xref "
"linkend=\"RT_ST_PixelAsPoints\"/>, <xref linkend=\"RT_ST_PixelAsCentroid\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3600
#, no-c-format
msgid "ST_Value"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3601
#, no-c-format
msgid ""
"Returns the value of a given band in a given columnx, rowy pixel or at a "
"particular geometric point. Band numbers start at 1 and assumed to be 1 if "
"not specified. If <varname>exclude_nodata_value</varname> is set to false, "
"then all pixels include <varname>nodata</varname> pixels are considered to "
"intersect and return value. If <varname>exclude_nodata_value</varname> is "
"not passed in then reads it from metadata of raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:3605
#, no-c-format
msgid ""
"<funcprototype> <funcdef>double precision <function>ST_Value</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>pt</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_Value</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>pt</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_Value</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>x</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>y</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_Value</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>x</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>y</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3640
#, no-c-format
msgid ""
"Returns the value of a given band in a given columnx, rowy pixel or at a "
"given geometry point. Band numbers start at 1 and band is assumed to be 1 if "
"not specified. If <varname>exclude_nodata_value</varname> is set to true, "
"then only non <varname>nodata</varname> pixels are considered. If "
"<varname>exclude_nodata_value</varname> is set to false, then all pixels are "
"considered."
msgstr ""

#. Tag: para
#: reference_raster.xml:3643
#, no-c-format
msgid "Enhanced: 2.0.0 exclude_nodata_value optional argument was added."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3648
#, no-c-format
msgid ""
"-- get raster values at particular postgis geometry points\n"
"-- the srid of your geometry should be same as for your raster\n"
"SELECT rid, ST_Value(rast, foo.pt_geom) As b1pval, ST_Value(rast, 2, foo."
"pt_geom) As b2pval\n"
"FROM dummy_rast CROSS JOIN (SELECT ST_SetSRID(ST_Point(3427927.77, "
"5793243.76), 0) As pt_geom) As foo\n"
"WHERE rid=2;\n"
"\n"
" rid | b1pval | b2pval\n"
"-----+--------+--------\n"
"   2 |    252 |     79\n"
"\n"
"\n"
"-- general fictitious example using a real table\n"
"SELECT rid, ST_Value(rast, 3, sometable.geom) As b3pval\n"
"FROM sometable\n"
"WHERE ST_Intersects(rast,sometable.geom);"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3649
#, no-c-format
msgid ""
"SELECT rid, ST_Value(rast, 1, 1, 1) As b1pval,\n"
"    ST_Value(rast, 2, 1, 1) As b2pval, ST_Value(rast, 3, 1, 1) As b3pval\n"
"FROM dummy_rast\n"
"WHERE rid=2;\n"
"\n"
" rid | b1pval | b2pval | b3pval\n"
"-----+--------+--------+--------\n"
"   2 |    253 |     78 |     70"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3651
#, no-c-format
msgid ""
"--- Get all values in bands 1,2,3 of each pixel --\n"
"SELECT x, y, ST_Value(rast, 1, x, y) As b1val,\n"
"        ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val\n"
"FROM dummy_rast CROSS JOIN\n"
"generate_series(1, 1000) As x CROSS JOIN generate_series(1, 1000) As y\n"
"WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);\n"
"\n"
" x | y | b1val | b2val | b3val\n"
"---+---+-------+-------+-------\n"
" 1 | 1 |   253 |    78 |    70\n"
" 1 | 2 |   253 |    96 |    80\n"
" 1 | 3 |   250 |    99 |    90\n"
" 1 | 4 |   251 |    89 |    77\n"
" 1 | 5 |   252 |    79 |    62\n"
" 2 | 1 |   254 |    98 |    86\n"
" 2 | 2 |   254 |   118 |   108\n"
" :\n"
" :"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3653
#, no-c-format
msgid ""
"--- Get all values in bands 1,2,3 of each pixel same as above but returning "
"the upper left point point of each pixel --\n"
"SELECT ST_AsText(ST_SetSRID(\n"
"        ST_Point(ST_UpperLeftX(rast) + ST_ScaleX(rast)*x,\n"
"                ST_UpperLeftY(rast) + ST_ScaleY(rast)*y),\n"
"                ST_SRID(rast))) As uplpt\n"
"    , ST_Value(rast, 1, x, y) As b1val,\n"
"        ST_Value(rast, 2, x, y) As b2val, ST_Value(rast, 3, x, y) As b3val\n"
"FROM dummy_rast CROSS JOIN\n"
"generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y\n"
"WHERE rid =  2 AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast);\n"
"\n"
"            uplpt            | b1val | b2val | b3val\n"
"-----------------------------+-------+-------+-------\n"
" POINT(3427929.25 5793245.5) |   253 |    78 |    70\n"
" POINT(3427929.25 5793247)   |   253 |    96 |    80\n"
" POINT(3427929.25 5793248.5) |   250 |    99 |    90\n"
":"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3654
#, no-c-format
msgid ""
"--- Get a polygon formed by union of all pixels\n"
"        that fall in a particular value range and intersect particular "
"polygon --\n"
"SELECT ST_AsText(ST_Union(pixpolyg)) As shadow\n"
"FROM (SELECT ST_Translate(ST_MakeEnvelope(\n"
"                ST_UpperLeftX(rast), ST_UpperLeftY(rast),\n"
"                        ST_UpperLeftX(rast) + ST_ScaleX(rast),\n"
"                        ST_UpperLeftY(rast) + ST_ScaleY(rast), 0\n"
"                        ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y\n"
"                ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val\n"
"        FROM dummy_rast CROSS JOIN\n"
"generate_series(1,1000) As x CROSS JOIN generate_series(1,1000) As y\n"
"WHERE rid =  2\n"
"        AND x &lt;= ST_Width(rast) AND y &lt;= ST_Height(rast)) As foo\n"
"WHERE\n"
"        ST_Intersects(\n"
"                pixpolyg,\n"
"                ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 "
"5793243.75,3427928 5793243.75,3427928 5793244))',0)\n"
"                ) AND b2val != 254;\n"
"\n"
"\n"
"                shadow\n"
"------------------------------------------------------------------------------------\n"
" MULTIPOLYGON(((3427928 5793243.9,3427928 5793243.85,3427927.95 "
"5793243.85,3427927.95 5793243.9,\n"
" 3427927.95 5793243.95,3427928 5793243.95,3427928.05 5793243.95,3427928.05 "
"5793243.9,3427928 5793243.9)),((3427927.95 5793243.9,3427927.95 579324\n"
"3.85,3427927.9 5793243.85,3427927.85 5793243.85,3427927.85 "
"5793243.9,3427927.9 5793243.9,3427927.9 5793243.95,\n"
"3427927.95 5793243.95,3427927.95 5793243.9)),((3427927.85 "
"5793243.75,3427927.85 5793243.7,3427927.8 5793243.7,3427927.8 5793243.75\n"
",3427927.8 5793243.8,3427927.8 5793243.85,3427927.85 5793243.85,3427927.85 "
"5793243.8,3427927.85 5793243.75)),\n"
"((3427928.05 5793243.75,3427928.05 5793243.7,3427928 5793243.7,3427927.95 "
"5793243.7,3427927.95 5793243.75,3427927.95 5793243.8,3427\n"
"927.95 5793243.85,3427928 5793243.85,3427928 5793243.8,3427928.05 "
"5793243.8,\n"
"3427928.05 5793243.75)),((3427927.95 5793243.75,3427927.95 "
"5793243.7,3427927.9 5793243.7,3427927.85 5793243.7,\n"
"3427927.85 5793243.75,3427927.85 5793243.8,3427927.85 5793243.85,3427927.9 "
"5793243.85,\n"
"3427927.95 5793243.85,3427927.95 5793243.8,3427927.95 5793243.75)))"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3656
#, no-c-format
msgid ""
"--- Checking all the pixels of a large raster tile can take a long time.\n"
"--- You can dramatically improve speed at some lose of precision by orders "
"of magnitude\n"
"--  by sampling pixels using the step optional parameter of "
"generate_series.\n"
"--  This next example does the same as previous but by checking 1 for every "
"4 (2x2) pixels and putting in the last checked\n"
"--  putting in the checked pixel as the value for subsequent 4\n"
"\n"
"SELECT ST_AsText(ST_Union(pixpolyg)) As shadow\n"
"FROM (SELECT ST_Translate(ST_MakeEnvelope(\n"
"                ST_UpperLeftX(rast), ST_UpperLeftY(rast),\n"
"                        ST_UpperLeftX(rast) + ST_ScaleX(rast)*2,\n"
"                        ST_UpperLeftY(rast) + ST_ScaleY(rast)*2, 0\n"
"                        ), ST_ScaleX(rast)*x, ST_ScaleY(rast)*y\n"
"                ) As pixpolyg, ST_Value(rast, 2, x, y) As b2val\n"
"        FROM dummy_rast CROSS JOIN\n"
"generate_series(1,1000,2) As x CROSS JOIN generate_series(1,1000,2) As y\n"
"WHERE rid =  2\n"
"        AND x &lt;= ST_Width(rast)  AND y &lt;= ST_Height(rast)  ) As foo\n"
"WHERE\n"
"        ST_Intersects(\n"
"                pixpolyg,\n"
"                ST_GeomFromText('POLYGON((3427928 5793244,3427927.75 "
"5793243.75,3427928 5793243.75,3427928 5793244))',0)\n"
"                ) AND b2val != 254;\n"
"\n"
"                shadow\n"
"------------------------------------------------------------------------------------\n"
" MULTIPOLYGON(((3427927.9 5793243.85,3427927.8 5793243.85,3427927.8 "
"5793243.95,\n"
" 3427927.9 5793243.95,3427928 5793243.95,3427928.1 5793243.95,3427928.1 "
"5793243.85,3427928 5793243.85,3427927.9 5793243.85)),\n"
" ((3427927.9 5793243.65,3427927.8 5793243.65,3427927.8 5793243.75,3427927.8 "
"5793243.85,3427927.9 5793243.85,\n"
" 3427928 5793243.85,3427928 5793243.75,3427928.1 5793243.75,3427928.1 "
"5793243.65,3427928 5793243.65,3427927.9 5793243.65)))"
msgstr ""

#. Tag: para
#: reference_raster.xml:3661
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_DumpAsPolygons\"/>, <xref linkend=\"RT_ST_NumBands\"/"
">, <xref linkend=\"RT_ST_PixelAsPolygon\"/>, <xref linkend=\"RT_ST_ScaleX\"/"
">, <xref linkend=\"RT_ST_ScaleY\"/>, <xref linkend=\"RT_ST_UpperLeftX\"/>, "
"<xref linkend=\"RT_ST_UpperLeftY\"/>, <xref linkend=\"RT_ST_SRID\"/>, <xref "
"linkend=\"ST_AsText\"/>, <xref linkend=\"ST_Point\"/>, <xref linkend="
"\"ST_MakeEnvelope\"/>, <xref linkend=\"ST_Intersects\"/>, <xref linkend="
"\"ST_Intersection\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3682
#, no-c-format
msgid "ST_NearestValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3683
#, no-c-format
msgid ""
"Returns the nearest non-<varname>NODATA</varname> value of a given band's "
"pixel specified by a columnx and rowy or a geometric point expressed in the "
"same spatial reference coordinate system as the raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:3689
#, no-c-format
msgid ""
"<funcprototype> <funcdef>double precision <function>ST_NearestValue</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bandnum</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_NearestValue</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_NearestValue</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bandnum</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>columnx</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>rowy</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_NearestValue</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>columnx</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>rowy</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3726
#, no-c-format
msgid ""
"Returns the nearest non-<varname>NODATA</varname> value of a given band in a "
"given columnx, rowy pixel or at a specific geometric point. If the columnx, "
"rowy pixel or the pixel at the specified geometric point is <varname>NODATA</"
"varname>, the function will find the nearest pixel to the columnx, rowy "
"pixel or geometric point whose value is not <varname>NODATA</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:3729 reference_raster.xml:3816
#, no-c-format
msgid ""
"Band numbers start at 1 and <varname>bandnum</varname> is assumed to be 1 if "
"not specified. If <varname>exclude_nodata_value</varname> is set to false, "
"then all pixels include <varname>nodata</varname> pixels are considered to "
"intersect and return value. If <varname>exclude_nodata_value</varname> is "
"not passed in then reads it from metadata of raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:3734
#, no-c-format
msgid "ST_NearestValue is a drop-in replacement for ST_Value."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3743
#, no-c-format
msgid ""
"-- pixel 2x2 has value\n"
"SELECT\n"
"        ST_Value(rast, 2, 2) AS value,\n"
"        ST_NearestValue(rast, 2, 2) AS nearestvalue\n"
"FROM (\n"
"        SELECT\n"
"                ST_SetValue(\n"
"                        ST_SetValue(\n"
"                                ST_SetValue(\n"
"                                        ST_SetValue(\n"
"                                                ST_SetValue(\n"
"                                                        ST_AddBand(\n"
"                                                                ST_MakeEmptyRaster(5, "
"5, -2, 2, 1, -1, 0, 0, 0),\n"
"                                                                '8BUI'::"
"text, 1, 0\n"
"                                                        ),\n"
"                                                        1, 1, 0.\n"
"                                                ),\n"
"                                                2, 3, 0.\n"
"                                        ),\n"
"                                        3, 5, 0.\n"
"                                ),\n"
"                                4, 2, 0.\n"
"                        ),\n"
"                        5, 4, 0.\n"
"                ) AS rast\n"
") AS foo\n"
"\n"
" value | nearestvalue\n"
"-------+--------------\n"
"     1 |            1"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3745
#, no-c-format
msgid ""
"-- pixel 2x3 is NODATA\n"
"SELECT\n"
"        ST_Value(rast, 2, 3) AS value,\n"
"        ST_NearestValue(rast, 2, 3) AS nearestvalue\n"
"FROM (\n"
"        SELECT\n"
"                ST_SetValue(\n"
"                        ST_SetValue(\n"
"                                ST_SetValue(\n"
"                                        ST_SetValue(\n"
"                                                ST_SetValue(\n"
"                                                        ST_AddBand(\n"
"                                                                ST_MakeEmptyRaster(5, "
"5, -2, 2, 1, -1, 0, 0, 0),\n"
"                                                                '8BUI'::"
"text, 1, 0\n"
"                                                        ),\n"
"                                                        1, 1, 0.\n"
"                                                ),\n"
"                                                2, 3, 0.\n"
"                                        ),\n"
"                                        3, 5, 0.\n"
"                                ),\n"
"                                4, 2, 0.\n"
"                        ),\n"
"                        5, 4, 0.\n"
"                ) AS rast\n"
") AS foo\n"
"\n"
" value | nearestvalue\n"
"-------+--------------\n"
"       |            1"
msgstr ""

#. Tag: para
#: reference_raster.xml:3751
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Value\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3761
#, no-c-format
msgid "ST_Neighborhood"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3762
#, no-c-format
msgid ""
"Returns a 2-D double precision array of the non-<varname>NODATA</varname> "
"values around a given band's pixel specified by either a columnX and rowY or "
"a geometric point expressed in the same spatial reference coordinate system "
"as the raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:3768
#, no-c-format
msgid ""
"<funcprototype> <funcdef>double precision[][] <function>ST_Neighborhood</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bandnum</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>columnX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>rowY</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceY</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision[][] <function>ST_Neighborhood</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>columnX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>rowY</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceY</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision[][] <function>ST_Neighborhood</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bandnum</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceY</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision[][] <function>ST_Neighborhood</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>geometry </type> <parameter>pt</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceX</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>distanceY</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3813
#, no-c-format
msgid ""
"Returns a 2-D double precision array of the non-<varname>NODATA</varname> "
"values around a given band's pixel specified by either a columnX and rowY or "
"a geometric point expressed in the same spatial reference coordinate system "
"as the raster. The <varname>distanceX</varname> and <varname>distanceY</"
"varname> parameters define the number of pixels around the specified pixel "
"in the X and Y axes, e.g. I want all values within 3 pixel distance along "
"the X axis and 2 pixel distance along the Y axis around my pixel of "
"interest. The center value of the 2-D array will be the value at the pixel "
"specified by the columnX and rowY or the geometric point."
msgstr ""

#. Tag: para
#: reference_raster.xml:3820
#, no-c-format
msgid ""
"The number of elements along each axis of the returning 2-D array is 2 * "
"(<varname>distanceX</varname>|<varname>distanceY</varname>) + 1. So for a "
"<varname>distanceX</varname> and <varname>distanceY</varname> of 1, the "
"returning array will be 3x3."
msgstr ""

#. Tag: para
#: reference_raster.xml:3825
#, no-c-format
msgid ""
"The 2-D array output can be passed to any of the raster processing builtin "
"functions, e.g. ST_Min4ma, ST_Sum4ma, ST_Mean4ma."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3835
#, no-c-format
msgid ""
"-- pixel 2x2 has value\n"
"SELECT\n"
"        ST_Neighborhood(rast, 2, 2, 1, 1)\n"
"FROM (\n"
"        SELECT\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, "
"0),\n"
"                                '8BUI'::text, 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [0, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 0, 1],\n"
"                                [1, 0, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 0],\n"
"                                [1, 1, 0, 1, 1]\n"
"                        ]::double precision[],\n"
"                        1\n"
"                ) AS rast\n"
") AS foo\n"
"\n"
"         st_neighborhood\n"
"---------------------------------\n"
"{{NULL,1,1},{1,1,1},{1,NULL,1}}"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3837
#, no-c-format
msgid ""
"-- pixel 2x3 is NODATA\n"
"SELECT\n"
"        ST_Neighborhood(rast, 2, 3, 1, 1)\n"
"FROM (\n"
"        SELECT\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, "
"0),\n"
"                                '8BUI'::text, 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [0, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 0, 1],\n"
"                                [1, 0, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 0],\n"
"                                [1, 1, 0, 1, 1]\n"
"                        ]::double precision[],\n"
"                        1\n"
"                ) AS rast\n"
") AS foo\n"
"\n"
"       st_neighborhood\n"
"------------------------------\n"
" {{1,1,1},{1,NULL,1},{1,1,1}}"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3839
#, no-c-format
msgid ""
"-- pixel 3x3 has value\n"
"-- exclude_nodata_value = FALSE\n"
"SELECT\n"
"        ST_Neighborhood(rast, 3, 3, 1, 1, false)\n"
"FROM ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(5, 5, -2, 2, 1, -1, 0, 0, "
"0),\n"
"                                '8BUI'::text, 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [0, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 0, 1],\n"
"                                [1, 0, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 0],\n"
"                                [1, 1, 0, 1, 1]\n"
"                        ]::double precision[],\n"
"                        1\n"
"                ) AS rast\n"
"\n"
"      st_neighborhood\n"
"---------------------------\n"
"{{1,1,0},{0,1,1},{1,1,1}}"
msgstr ""

#. Tag: para
#: reference_raster.xml:3845
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Min4ma\"/>, <xref linkend=\"RT_ST_Max4ma\"/>, <xref "
"linkend=\"RT_ST_Sum4ma\"/>, <xref linkend=\"RT_ST_Mean4ma\"/>, <xref linkend="
"\"RT_ST_Range4ma\"/>, <xref linkend=\"RT_ST_Distinct4ma\"/>, <xref linkend="
"\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3862
#, no-c-format
msgid "ST_SetValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3863
#, no-c-format
msgid ""
"Returns modified raster resulting from setting the value of a given band in "
"a given columnx, rowy pixel or the pixels that intersect a particular "
"geometry. Band numbers start at 1 and assumed to be 1 if not specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:3867
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetValue</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>bandnum</parameter></paramdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>newvalue</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SetValue</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>geometry </type> "
"<parameter>geom</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>newvalue</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_SetValue</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>bandnum</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>newvalue</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SetValue</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>columnx</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>rowy</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>newvalue</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3901
#, no-c-format
msgid ""
"Returns modified raster resulting from setting the specified pixels' values "
"to new value for the designated band given the raster's row and column or a "
"geometry. If no band is specified, then band 1 is assumed."
msgstr ""

#. Tag: para
#: reference_raster.xml:3904
#, no-c-format
msgid ""
"Enhanced: 2.1.0 Geometry variant of ST_SetValue() now supports any geometry "
"type, not just point. The geometry variant is a wrapper around the geomval[] "
"variant of ST_SetValues()"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3910
#, no-c-format
msgid ""
"-- Geometry example\n"
"SELECT (foo.geomval).val, ST_AsText(ST_Union((foo.geomval).geom))\n"
"FROM (SELECT ST_DumpAsPolygons(\n"
"                ST_SetValue(rast,1,\n"
"                                ST_Point(3427927.75, 5793243.95),\n"
"                                50)\n"
"                        ) As geomval\n"
"FROM dummy_rast\n"
"where rid = 2) As foo\n"
"WHERE (foo.geomval).val &lt; 250\n"
"GROUP BY (foo.geomval).val;\n"
"\n"
" val |                                                     st_astext\n"
"-----+-------------------------------------------------------------------\n"
"  50 | POLYGON((3427927.75 5793244,3427927.75 5793243.95,3427927.8 "
"579324 ...\n"
" 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 57932 ..."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:3912
#, no-c-format
msgid ""
"-- Store the changed raster --\n"
"        UPDATE dummy_rast SET rast = ST_SetValue(rast,1, "
"ST_Point(3427927.75, 5793243.95),100)\n"
"                WHERE rid = 2   ;"
msgstr ""

#. Tag: para
#: reference_raster.xml:3916 reference_raster.xml:9925
#, no-c-format
msgid ", <xref linkend=\"RT_ST_DumpAsPolygons\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:3922
#, no-c-format
msgid "ST_SetValues"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:3923
#, no-c-format
msgid ""
"Returns modified raster resulting from setting the values of a given band."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:3927
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetValues</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef> "
"<paramdef><type>double precision[][] </type> <parameter>newvalueset</"
"parameter></paramdef> <paramdef><type>boolean[][] </type> "
"<parameter>noset=NULL</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>keepnodata=FALSE</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_SetValues</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef> "
"<paramdef><type>double precision[][] </type> <parameter>newvalueset</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>nosetvalue</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>keepnodata=FALSE</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_SetValues</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>columnx</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>rowy</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>newvalue</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>keepnodata=FALSE</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SetValues</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>columnx</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>rowy</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>width</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>height</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>newvalue</parameter></paramdef> <paramdef><type>boolean </"
"type> <parameter>keepnodata=FALSE</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_SetValues</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>geomval[] </type> <parameter>geomvalset</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>keepnodata=FALSE</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:3986
#, no-c-format
msgid ""
"Returns modified raster resulting from setting specified pixels to new "
"value(s) for the designated band. <varname>columnx</varname> and "
"<varname>rowy</varname> are 1-indexed."
msgstr ""

#. Tag: para
#: reference_raster.xml:3990
#, no-c-format
msgid ""
"If <varname>keepnodata</varname> is TRUE, those pixels whose values are "
"NODATA will not be set with the corresponding value in <varname>newvalueset</"
"varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:3994
#, no-c-format
msgid ""
"For Variant 1, the specific pixels to be set are determined by the "
"<varname>columnx</varname>, <varname>rowy</varname> pixel coordinates and "
"the dimensions of the <varname>newvalueset</varname> array. <varname>noset</"
"varname> can be used to prevent pixels with values present in "
"<varname>newvalueset</varname> from being set (due to PostgreSQL not "
"permitting ragged/jagged arrays). See example Variant 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:3998
#, no-c-format
msgid ""
"Variant 2 is like Variant 1 but with a simple double precision "
"<varname>nosetvalue</varname> instead of a boolean <varname>noset</varname> "
"array. Elements in <varname>newvalueset</varname> with the "
"<varname>nosetvalue</varname> value with be skipped. See example Variant 2."
msgstr ""

#. Tag: para
#: reference_raster.xml:4002
#, no-c-format
msgid ""
"For Variant 3, the specific pixels to be set are determined by the "
"<varname>columnx</varname>, <varname>rowy</varname> pixel coordinates, "
"<varname>width</varname> and <varname>height</varname>. See example Variant "
"3."
msgstr ""

#. Tag: para
#: reference_raster.xml:4006
#, no-c-format
msgid ""
"Variant 4 is the same as Variant 3 with the exception that it assumes that "
"the first band's pixels of <varname>rast</varname> will be set."
msgstr ""

#. Tag: para
#: reference_raster.xml:4010
#, no-c-format
msgid ""
"For Variant 5, an array of <xref linkend=\"geomval\"/> is used to determine "
"the specific pixels to be set. If all the geometries in the array are of "
"type POINT or MULTIPOINT, the function uses a shortcut where the longitude "
"and latitude of each point is used to set a pixel directly. Otherwise, the "
"geometries are converted to rasters and then iterated through in one pass. "
"See example Variant 5."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4021
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 1 | 1 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 2, 2, ARRAY[[9, 9], [9, 9]]::double precision[]"
"[]\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   1\n"
" 1 | 2 |   1\n"
" 1 | 3 |   1\n"
" 2 | 1 |   1\n"
" 2 | 2 |   9\n"
" 2 | 3 |   9\n"
" 3 | 1 |   1\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4023
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 9 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 9 |   | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 9 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::"
"double precision[][]\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   9\n"
" 1 | 2 |   9\n"
" 1 | 3 |   9\n"
" 2 | 1 |   9\n"
" 2 | 2 |\n"
" 2 | 3 |   9\n"
" 3 | 1 |   9\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4025
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 9 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 |   | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 9 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 1, 1,\n"
"                                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::"
"double precision[][],\n"
"                                ARRAY[[false], [true]]::boolean[][]\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   9\n"
" 1 | 2 |   1\n"
" 1 | 3 |   9\n"
" 2 | 1 |   9\n"
" 2 | 2 |\n"
" 2 | 3 |   9\n"
" 3 | 1 |   9\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4027
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"|   | 1 | 1 |          |   | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 |   | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 9 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_SetValue(\n"
"                                ST_AddBand(\n"
"                                        ST_MakeEmptyRaster(3, 3, 0, 0, 1, "
"-1, 0, 0, 0),\n"
"                                        1, '8BUI', 1, 0\n"
"                                ),\n"
"                                1, 1, 1, NULL\n"
"                        ),\n"
"                        1, 1, 1,\n"
"                                ARRAY[[9, 9, 9], [9, NULL, 9], [9, 9, 9]]::"
"double precision[][],\n"
"                                ARRAY[[false], [true]]::boolean[][],\n"
"                                TRUE\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |\n"
" 1 | 2 |   1\n"
" 1 | 3 |   9\n"
" 2 | 1 |   9\n"
" 2 | 2 |\n"
" 2 | 3 |   9\n"
" 3 | 1 |   9\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4034
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 1 | 1 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[[-1, -1, -1], [-1, 9, 9], [-1, 9, "
"9]]::double precision[][], -1\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   1\n"
" 1 | 2 |   1\n"
" 1 | 3 |   1\n"
" 2 | 1 |   1\n"
" 2 | 2 |   9\n"
" 2 | 3 |   9\n"
" 3 | 1 |   1\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4036
#, no-c-format
msgid ""
"/*\n"
"This example is like the previous one.  Instead of nosetvalue = -1, "
"nosetvalue = NULL\n"
"\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 1 | 1 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[[NULL, NULL, NULL], [NULL, 9, 9], "
"[NULL, 9, 9]]::double precision[][], NULL::double precision\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   1\n"
" 1 | 2 |   1\n"
" 1 | 3 |   1\n"
" 2 | 1 |   1\n"
" 2 | 2 |   9\n"
" 2 | 3 |   9\n"
" 3 | 1 |   1\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: title
#: reference_raster.xml:4041 reference_raster.xml:4992
#, no-c-format
msgid "Examples: Variant 3"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4043
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 1 | 1 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |    =>    | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '8BUI', 1, 0\n"
"                        ),\n"
"                        1, 2, 2, 2, 2, 9\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   1\n"
" 1 | 2 |   1\n"
" 1 | 3 |   1\n"
" 2 | 1 |   1\n"
" 2 | 2 |   9\n"
" 2 | 3 |   9\n"
" 3 | 1 |   1\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4045
#, no-c-format
msgid ""
"/*\n"
"The ST_SetValues() does the following...\n"
"\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 1 | 1 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 |   | 1 |    =>    | 1 |   | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"| 1 | 1 | 1 |          | 1 | 9 | 9 |\n"
"+ - + - + - +          + - + - + - +\n"
"*/\n"
"SELECT\n"
"        (poly).x,\n"
"        (poly).y,\n"
"        (poly).val\n"
"FROM (\n"
"SELECT\n"
"        ST_PixelAsPolygons(\n"
"                ST_SetValues(\n"
"                        ST_SetValue(\n"
"                                ST_AddBand(\n"
"                                        ST_MakeEmptyRaster(3, 3, 0, 0, 1, "
"-1, 0, 0, 0),\n"
"                                        1, '8BUI', 1, 0\n"
"                                ),\n"
"                                1, 2, 2, NULL\n"
"                        ),\n"
"                        1, 2, 2, 2, 2, 9, TRUE\n"
"                )\n"
"        ) AS poly\n"
") foo\n"
"ORDER BY 1, 2;\n"
"\n"
" x | y | val\n"
"---+---+-----\n"
" 1 | 1 |   1\n"
" 1 | 2 |   1\n"
" 1 | 3 |   1\n"
" 2 | 1 |   1\n"
" 2 | 2 |\n"
" 2 | 3 |   9\n"
" 3 | 1 |   1\n"
" 3 | 2 |   9\n"
" 3 | 3 |   9"
msgstr ""

#. Tag: title
#: reference_raster.xml:4050
#, no-c-format
msgid "Examples: Variant 5"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4052
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, "
"0, 0), 1, '8BUI', 0, 0) AS rast\n"
"), bar AS (\n"
"        SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL\n"
"        SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::"
"geometry geom UNION ALL\n"
"        SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, "
"0 0))'::geometry geom UNION ALL\n"
"        SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry\n"
")\n"
"SELECT\n"
"        rid, gid, ST_DumpValues(ST_SetValue(rast, 1, geom, gid))\n"
"FROM foo t1\n"
"CROSS JOIN bar t2\n"
"ORDER BY rid, gid;\n"
"\n"
" rid | gid |                                                                "
"st_dumpvalues\n"
"-----+-----"
"+---------------------------------------------------------------------------------------------------------------------------------------------\n"
"   1 |   1 | (1,\"{{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},"
"{NULL,NULL,1,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,"
"NULL}}\")\n"
"   1 |   2 | (1,\"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},{NULL,2,2,2,"
"NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}\")\n"
"   1 |   3 | (1,\"{{3,3,3,3,3},{3,NULL,NULL,NULL,NULL},{3,NULL,NULL,NULL,"
"NULL},{3,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL}}\")\n"
"   1 |   4 | (1,\"{{4,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,"
"NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,NULL},{NULL,NULL,NULL,NULL,4}}\")\n"
"(4 rows)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4054
#, no-c-format
msgid ""
"The following shows that geomvals later in the array can overwrite prior "
"geomvals"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4055
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, "
"0, 0), 1, '8BUI', 0, 0) AS rast\n"
"), bar AS (\n"
"        SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL\n"
"        SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::"
"geometry geom UNION ALL\n"
"        SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, "
"0 0))'::geometry geom UNION ALL\n"
"        SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry\n"
")\n"
"SELECT\n"
"        t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, "
"ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))\n"
"FROM foo t1\n"
"CROSS JOIN bar t2\n"
"CROSS JOIN bar t3\n"
"WHERE t2.gid = 1\n"
"        AND t3.gid = 2\n"
"ORDER BY t1.rid, t2.gid, t3.gid;\n"
"\n"
" rid | gid | gid |                                                    "
"st_dumpvalues\n"
"-----+-----+-----"
"+---------------------------------------------------------------------------------------------------------------------\n"
"   1 |   1 |   2 | (1,\"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},"
"{NULL,2,2,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}\")\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4057
#, no-c-format
msgid "This example is the opposite of the prior example"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4058
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, "
"0, 0), 1, '8BUI', 0, 0) AS rast\n"
"), bar AS (\n"
"        SELECT 1 AS gid, 'SRID=0;POINT(2.5 -2.5)'::geometry geom UNION ALL\n"
"        SELECT 2 AS gid, 'SRID=0;POLYGON((1 -1, 4 -1, 4 -4, 1 -4, 1 -1))'::"
"geometry geom UNION ALL\n"
"        SELECT 3 AS gid, 'SRID=0;POLYGON((0 0, 5 0, 5 -1, 1 -1, 1 -4, 0 -4, "
"0 0))'::geometry geom UNION ALL\n"
"        SELECT 4 AS gid, 'SRID=0;MULTIPOINT(0 0, 4 4, 4 -4)'::geometry\n"
")\n"
"SELECT\n"
"        t1.rid, t2.gid, t3.gid, ST_DumpValues(ST_SetValues(rast, 1, "
"ARRAY[ROW(t2.geom, t2.gid), ROW(t3.geom, t3.gid)]::geomval[]))\n"
"FROM foo t1\n"
"CROSS JOIN bar t2\n"
"CROSS JOIN bar t3\n"
"WHERE t2.gid = 2\n"
"        AND t3.gid = 1\n"
"ORDER BY t1.rid, t2.gid, t3.gid;\n"
"\n"
" rid | gid | gid |                                                    "
"st_dumpvalues\n"
"-----+-----+-----"
"+---------------------------------------------------------------------------------------------------------------------\n"
"   1 |   2 |   1 | (1,\"{{NULL,NULL,NULL,NULL,NULL},{NULL,2,2,2,NULL},"
"{NULL,2,1,2,NULL},{NULL,2,2,2,NULL},{NULL,NULL,NULL,NULL,NULL}}\")\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4065
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SetValue\"/>, <xref linkend=\"RT_ST_PixelAsPolygons"
"\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4075
#, no-c-format
msgid "ST_DumpValues"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4076
#, no-c-format
msgid "Get the values of the specified band as a 2-dimension array."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4082
#, no-c-format
msgid ""
"<funcprototype> <funcdef>setof record <function>ST_DumpValues</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rast</parameter> </"
"paramdef> <paramdef> <type>integer[] </type> <parameter>nband=NULL</"
"parameter> </paramdef> <paramdef> <type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>double precision[][] "
"<function>ST_DumpValues</function></funcdef> <paramdef> <type>raster </type> "
"<parameter>rast</parameter> </paramdef> <paramdef> <type>integer </type> "
"<parameter>nband</parameter> </paramdef> <paramdef> <type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4113
#, no-c-format
msgid ""
"Get the values of the specified band as a 2-dimension array (first index is "
"row, second is column). If <varname>nband</varname> is NULL or not provided, "
"all raster bands are processed."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4123
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, "
"0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, "
"'16BSI', 0, 0) AS rast\n"
")\n"
"SELECT\n"
"        (ST_DumpValues(rast)).*\n"
"FROM foo;\n"
"\n"
" nband |                       valarray\n"
"-------+------------------------------------------------------\n"
"     1 | {{1,1,1},{1,1,1},{1,1,1}}\n"
"     2 | {{3,3,3},{3,3,3},{3,3,3}}\n"
"     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}\n"
"(3 rows)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4125
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, "
"0, 1, -1, 0, 0, 0), 1, '8BUI'::text, 1, 0), 2, '32BF'::text, 3, -9999), 3, "
"'16BSI', 0, 0) AS rast\n"
")\n"
"SELECT\n"
"        (ST_DumpValues(rast, ARRAY[3, 1])).*\n"
"FROM foo;\n"
"\n"
" nband |                       valarray\n"
"-------+------------------------------------------------------\n"
"     3 | {{NULL,NULL,NULL},{NULL,NULL,NULL},{NULL,NULL,NULL}}\n"
"     1 | {{1,1,1},{1,1,1},{1,1,1}}\n"
"(2 rows)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4126
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_SetValue(ST_AddBand(ST_MakeEmptyRaster(3, 3, 0, 0, 1, -1, "
"0, 0, 0), 1, '8BUI', 1, 0), 1, 2, 5) AS rast\n"
")\n"
"SELECT\n"
"        (ST_DumpValues(rast, 1))[2][1]\n"
"FROM foo;\n"
"\n"
" st_dumpvalues\n"
"---------------\n"
"             5\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4131
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SetValue\"/>, <xref linkend=\"RT_ST_SetValues\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4142
#, no-c-format
msgid "ST_PixelOfValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4143
#, no-c-format
msgid ""
"Get the columnx, rowy coordinates of the pixel whose value equals the search "
"value."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4149
#, no-c-format
msgid ""
"<funcprototype> <funcdef>setof record <function>ST_PixelOfValue</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rast</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nband</parameter> </"
"paramdef> <paramdef> <type>double precision[] </type> <parameter>search</"
"parameter> </paramdef> <paramdef> <type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>setof record "
"<function>ST_PixelOfValue</function></funcdef> <paramdef> <type>raster </"
"type> <parameter>rast</parameter> </paramdef> <paramdef> <type>double "
"precision[] </type> <parameter>search</parameter> </paramdef> <paramdef> "
"<type>boolean </type> <parameter>exclude_nodata_value=true</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>setof record "
"<function>ST_PixelOfValue</function></funcdef> <paramdef> <type>raster </"
"type> <parameter>rast</parameter> </paramdef> <paramdef> <type>integer </"
"type> <parameter>nband</parameter> </paramdef> <paramdef> <type>double "
"precision </type> <parameter>search</parameter> </paramdef> <paramdef> "
"<type>boolean </type> <parameter>exclude_nodata_value=true</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>setof record "
"<function>ST_PixelOfValue</function></funcdef> <paramdef> <type>raster </"
"type> <parameter>rast</parameter> </paramdef> <paramdef> <type>double "
"precision </type> <parameter>search</parameter> </paramdef> <paramdef> "
"<type>boolean </type> <parameter>exclude_nodata_value=true</parameter> </"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4210
#, no-c-format
msgid ""
"Get the columnx, rowy coordinates of the pixel whose value equals the search "
"value. If no band is specified, then band 1 is assumed."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4219
#, no-c-format
msgid ""
"SELECT\n"
"        (pixels).*\n"
"FROM (\n"
"        SELECT\n"
"                ST_PixelOfValue(\n"
"                        ST_SetValue(\n"
"                                ST_SetValue(\n"
"                                        ST_SetValue(\n"
"                                                ST_SetValue(\n"
"                                                        ST_SetValue(\n"
"                                                                ST_AddBand(\n"
"                                                                        ST_MakeEmptyRaster(5, "
"5, -2, 2, 1, -1, 0, 0, 0),\n"
"                                                                        '8BUI'::"
"text, 1, 0\n"
"                                                                ),\n"
"                                                                1, 1, 0\n"
"                                                        ),\n"
"                                                        2, 3, 0\n"
"                                                ),\n"
"                                                3, 5, 0\n"
"                                        ),\n"
"                                        4, 2, 0\n"
"                                ),\n"
"                                5, 4, 255\n"
"                        )\n"
"                , 1, ARRAY[1, 255]) AS pixels\n"
") AS foo\n"
"\n"
" val | x | y\n"
"-----+---+---\n"
"   1 | 1 | 2\n"
"   1 | 1 | 3\n"
"   1 | 1 | 4\n"
"   1 | 1 | 5\n"
"   1 | 2 | 1\n"
"   1 | 2 | 2\n"
"   1 | 2 | 4\n"
"   1 | 2 | 5\n"
"   1 | 3 | 1\n"
"   1 | 3 | 2\n"
"   1 | 3 | 3\n"
"   1 | 3 | 4\n"
"   1 | 4 | 1\n"
"   1 | 4 | 3\n"
"   1 | 4 | 4\n"
"   1 | 4 | 5\n"
"   1 | 5 | 1\n"
"   1 | 5 | 2\n"
"   1 | 5 | 3\n"
" 255 | 5 | 4\n"
"   1 | 5 | 5"
msgstr ""

#. Tag: title
#: reference_raster.xml:4227
#, no-c-format
msgid "Raster Editors"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4231
#, no-c-format
msgid "ST_SetGeoReference"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4232
#, no-c-format
msgid ""
"Set Georeference 6 georeference parameters in a single call. Numbers should "
"be separated by white space. Accepts inputs in GDAL or ESRI format. Default "
"is GDAL."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4236
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetGeoReference</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>georefcoords</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>format=GDAL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_SetGeoReference</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>upperleftx</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>upperlefty</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>scalex</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>scaley</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>skewx</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>skewy</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4262
#, no-c-format
msgid ""
"Set Georeference 6 georeference parameters in a single call. Accepts inputs "
"in 'GDAL' or 'ESRI' format. Default is GDAL. If 6 coordinates are not "
"provided will return null."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4265
#, no-c-format
msgid "scalex skewy skewx scaley upperleftx upperlefty"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4267
#, no-c-format
msgid ""
"scalex skewy skewx scaley upperleftx + scalex*0.5 upperlefty + scaley*0.5"
msgstr ""

#. Tag: para
#: reference_raster.xml:4270
#, no-c-format
msgid ""
"If the raster has out-db bands, changing the georeference may result in "
"incorrect access of the band's externally stored data."
msgstr ""

#. Tag: para
#: reference_raster.xml:4275
#, no-c-format
msgid ""
"Enhanced: 2.1.0 Addition of ST_SetGeoReference(raster, double "
"precision, ...) variant"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4282
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0) AS rast\n"
")\n"
"SELECT\n"
"        0 AS rid, (ST_Metadata(rast)).*\n"
"FROM foo\n"
"UNION ALL\n"
"SELECT\n"
"        1, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 0.1 0.1', "
"'GDAL'))).*\n"
"FROM foo\n"
"UNION ALL\n"
"SELECT\n"
"        2, (ST_Metadata(ST_SetGeoReference(rast, '10 0 0 -10 5.1 -4.9', "
"'ESRI'))).*\n"
"FROM foo\n"
"UNION ALL\n"
"SELECT\n"
"        3, (ST_Metadata(ST_SetGeoReference(rast, 1, 1, 10, -10, 0.001, "
"0.001))).*\n"
"FROM foo\n"
"\n"
" rid |     upperleftx     |     upperlefty     | width | height | scalex | "
"scaley | skewx | skewy | srid | numbands\n"
"-----+--------------------+--------------------+-------+--------+--------"
"+--------+-------+-------+------+----------\n"
"   0 |                  0 |                  0 |     5 |      5 |      1 "
"|     -1 |     0 |     0 |    0 |        0\n"
"   1 |                0.1 |                0.1 |     5 |      5 |     10 "
"|    -10 |     0 |     0 |    0 |        0\n"
"   2 | 0.0999999999999996 | 0.0999999999999996 |     5 |      5 |     10 "
"|    -10 |     0 |     0 |    0 |        0\n"
"   3 |                  1 |                  1 |     5 |      5 |     10 "
"|    -10 | 0.001 | 0.001 |    0 |        0"
msgstr ""

#. Tag: para
#: reference_raster.xml:4287
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_ScaleX\"/>, <xref linkend=\"RT_ST_ScaleY\"/>, <xref "
"linkend=\"RT_ST_UpperLeftX\"/>, <xref linkend=\"RT_ST_UpperLeftY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4293
#, no-c-format
msgid "ST_SetRotation"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4294
#, no-c-format
msgid "Set the rotation of the raster in radian."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:4299
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetRotation</function></funcdef> "
"<paramdef><type>raster</type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>float8</type> <parameter>rotation</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4310
#, no-c-format
msgid ""
"Uniformly rotate the raster. Rotation is in radian. Refer to <ulink url="
"\"http://en.wikipedia.org/wiki/World_file\">World File</ulink> for more "
"details."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4316
#, no-c-format
msgid ""
"SELECT\n"
"  ST_ScaleX(rast1), ST_ScaleY(rast1), ST_SkewX(rast1), ST_SkewY(rast1),\n"
"  ST_ScaleX(rast2), ST_ScaleY(rast2), ST_SkewX(rast2), ST_SkewY(rast2)\n"
"FROM (\n"
"  SELECT ST_SetRotation(rast, 15) AS rast1, rast as rast2 FROM dummy_rast\n"
") AS foo;\n"
"      st_scalex      |      st_scaley      |      st_skewx      |      "
"st_skewy      | st_scalex | st_scaley | st_skewx | st_skewy\n"
"---------------------+---------------------+--------------------"
"+--------------------+-----------+-----------+----------+----------\n"
"   -1.51937582571764 |   -2.27906373857646 |   1.95086352047135 |   "
"1.30057568031423 |         2 |         3 |        0 |        0\n"
" -0.0379843956429411 | -0.0379843956429411 | 0.0325143920078558 | "
"0.0325143920078558 |      0.05 |     -0.05 |        0 |        0"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4329
#, no-c-format
msgid "ST_SetScale"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4330
#, no-c-format
msgid ""
"Sets the X and Y size of pixels in units of coordinate reference system. "
"Number units/pixel width/height."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4334
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetScale</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>float8 </type> <parameter>xy</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_SetScale</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>x</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>y</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4353
#, no-c-format
msgid ""
"Sets the X and Y size of pixels in units of coordinate reference system. "
"Number units/pixel width/height. If only one unit passed in, assumed X and Y "
"are the same number."
msgstr ""

#. Tag: para
#: reference_raster.xml:4356
#, no-c-format
msgid ""
"ST_SetScale is different from <xref linkend=\"RT_ST_Rescale\"/> in that "
"ST_SetScale do not resample the raster to match the raster extent. It only "
"changes the metadata (or georeference) of the raster to correct an "
"originally mis-specified scaling. ST_Rescale results in a raster having "
"different width and height computed to fit the geographic extent of the "
"input raster. ST_SetScale do not modify the width, nor the height of the "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4358
#, no-c-format
msgid ""
"Changed: 2.0.0 In WKTRaster versions this was called ST_SetPixelSize. This "
"was changed in 2.0.0."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4364
#, no-c-format
msgid ""
"UPDATE dummy_rast\n"
"        SET rast = ST_SetScale(rast, 1.5)\n"
"WHERE rid = 2;\n"
"\n"
"SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As "
"newbox\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
" pixx | pixy |                    newbox\n"
"------+------+----------------------------------------------\n"
"  1.5 |  1.5 | BOX(3427927.75 5793244 0, 3427935.25 5793251.5 0)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4365
#, no-c-format
msgid ""
"UPDATE dummy_rast\n"
"        SET rast = ST_SetScale(rast, 1.5, 0.55)\n"
"WHERE rid = 2;\n"
"\n"
"SELECT ST_ScaleX(rast) As pixx, ST_ScaleY(rast) As pixy, Box3D(rast) As "
"newbox\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
" pixx | pixy |                   newbox\n"
"------+------+--------------------------------------------\n"
"  1.5 | 0.55 | BOX(3427927.75 5793244 0,3427935.25 5793247 0)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4371
#, no-c-format
msgid ", <xref linkend=\"RT_ST_ScaleY\"/>, <xref linkend=\"RT_Box3D\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4377
#, no-c-format
msgid "ST_SetSkew"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4378
#, no-c-format
msgid ""
"Sets the georeference X and Y skew (or rotation parameter). If only one is "
"passed in, sets X and Y to the same value."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4382
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetSkew</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>float8 </type> <parameter>skewxy</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_SetSkew</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>skewx</"
"parameter></paramdef> <paramdef><type>float8 </type> <parameter>skewy</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4400
#, no-c-format
msgid ""
"Sets the georeference X and Y skew (or rotation parameter). If only one is "
"passed in, sets X and Y to the same value. Refer to <ulink url=\"http://en."
"wikipedia.org/wiki/World_file\">World File</ulink> for more details."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4407
#, no-c-format
msgid ""
"-- Example 1\n"
"UPDATE dummy_rast SET rast = ST_SetSkew(rast,1,2) WHERE rid = 1;\n"
"SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,\n"
"    ST_GeoReference(rast) as georef\n"
"FROM dummy_rast WHERE rid = 1;\n"
"\n"
"rid | skewx | skewy |    georef\n"
"----+-------+-------+--------------\n"
"  1 |     1 |     2 | 2.0000000000\n"
"                    : 2.0000000000\n"
"                    : 1.0000000000\n"
"                    : 3.0000000000\n"
"                    : 0.5000000000\n"
"                    : 0.5000000000"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4409
#, no-c-format
msgid ""
"-- Example 2 set both to same number:\n"
"UPDATE dummy_rast SET rast = ST_SetSkew(rast,0) WHERE rid = 1;\n"
"SELECT rid, ST_SkewX(rast) As skewx, ST_SkewY(rast) As skewy,\n"
"    ST_GeoReference(rast) as georef\n"
"FROM dummy_rast WHERE rid = 1;\n"
"\n"
" rid | skewx | skewy |    georef\n"
"-----+-------+-------+--------------\n"
"   1 |     0 |     0 | 2.0000000000\n"
"                     : 0.0000000000\n"
"                     : 0.0000000000\n"
"                     : 3.0000000000\n"
"                     : 0.5000000000\n"
"                     : 0.5000000000"
msgstr ""

#. Tag: para
#: reference_raster.xml:4416
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SetGeoReference\"/>, <xref linkend=\"RT_ST_SkewX\"/"
">, <xref linkend=\"RT_ST_SkewY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4422
#, no-c-format
msgid "ST_SetSRID"
msgstr "ST_SetSRID"

#. Tag: refpurpose
#: reference_raster.xml:4424
#, no-c-format
msgid ""
"Sets the SRID of a raster to a particular integer srid defined in the "
"spatial_ref_sys table."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:4429
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetSRID</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>srid</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4444
#, no-c-format
msgid "Sets the SRID on a raster to a particular integer value."
msgstr ""

#. Tag: para
#: reference_raster.xml:4447
#, no-c-format
msgid ""
"This function does not transform the raster in any way - it simply sets meta "
"data defining the spatial ref of the coordinate reference system that it's "
"currently in. Useful for transformations later."
msgstr ""

#. Tag: para
#: reference_raster.xml:4457
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4464
#, no-c-format
msgid "ST_SetUpperLeft"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4465
#, no-c-format
msgid ""
"Sets the value of the upper left corner of the pixel of the raster to "
"projected X and Y coordinates."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:4470
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetUpperLeft</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>x</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>y</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4482
#, no-c-format
msgid ""
"Set the value of the upper left corner of raster to the projected X and Y "
"coordinates"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4488
#, no-c-format
msgid ""
"SELECT ST_SetUpperLeft(rast,-71.01,42.37)\n"
"FROM dummy_rast\n"
"WHERE rid = 2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:4494
#, no-c-format
msgid ", <xref linkend=\"RT_ST_UpperLeftY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4500
#, no-c-format
msgid "ST_Resample"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4501
#, no-c-format
msgid ""
"Resample a raster using a specified resampling algorithm, new dimensions, an "
"arbitrary grid corner and a set of raster georeferencing attributes defined "
"or borrowed from another raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4507
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Resample</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>gridx=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>gridy=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Resample</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef choice=\"opt\"><type>double "
"precision </type> <parameter>scalex=0</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>scaley=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>gridx=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>gridy=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>skewx=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>skewy=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbor</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>maxerr=0.125</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Resample</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>ref</parameter></paramdef> <paramdef choice=\"opt\"><type>text </"
"type> <parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>usescale=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Resample</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>ref</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>usescale</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4557
#, no-c-format
msgid ""
"Resample a raster using a specified resampling algorithm, new dimensions "
"(width &amp; height), a grid corner (gridx &amp; gridy) and a set of raster "
"georeferencing attributes (scalex, scaley, skewx &amp; skewy) defined or "
"borrowed from another raster. If using a reference raster, the two rasters "
"must have the same SRID."
msgstr ""

#. Tag: para
#: reference_raster.xml:4561
#, no-c-format
msgid ""
"New pixel values are computed using the NearestNeighbor (English or American "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. "
"Default is NearestNeighbor which is the fastest but produce the worst "
"interpolation."
msgstr ""

#. Tag: para
#: reference_raster.xml:4565
#, no-c-format
msgid ""
"A maxerror percent of 0.125 is used if no <varname>maxerr</varname> is "
"specified."
msgstr ""

#. Tag: para
#: reference_raster.xml:4570 reference_raster.xml:4634
#: reference_raster.xml:4702 reference_raster.xml:4780
#, no-c-format
msgid ""
"Refer to: <ulink url=\"http://www.gdal.org/gdalwarp.html\">GDAL Warp "
"resampling methods</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:4574 reference_raster.xml:4638
#: reference_raster.xml:4706 reference_raster.xml:4784
#: reference_raster.xml:4946
#, no-c-format
msgid "Availability: 2.0.0 Requires GDAL 1.6.1+"
msgstr ""

#. Tag: para
#: reference_raster.xml:4575
#, no-c-format
msgid ""
"Changed: 2.1.0 Parameter srid removed. Variants with a reference raster no "
"longer applies the reference raster's SRID. Use ST_Transform() to reproject "
"raster. Works on rasters with no SRID."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4581
#, no-c-format
msgid ""
"SELECT\n"
"        ST_Width(orig) AS orig_width,\n"
"        ST_Width(reduce_100) AS new_width\n"
"FROM (\n"
"        SELECT\n"
"                rast AS orig,\n"
"                ST_Resample(rast,100,100) AS reduce_100\n"
"        FROM aerials.boston\n"
"        WHERE ST_Intersects(rast,\n"
"                ST_Transform(\n"
"                        ST_MakeEnvelope(-71.128, 42.2392,-71.1277, 42.2397, "
"4326),26986)\n"
"        )\n"
"        LIMIT 1\n"
") AS foo;\n"
"\n"
" orig_width | new_width\n"
"------------+-------------\n"
"        200 |         100"
msgstr ""

#. Tag: para
#: reference_raster.xml:4586
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Resize\"/>, <xref linkend=\"RT_ST_Transform\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4596
#, no-c-format
msgid "ST_Rescale"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4597
#, no-c-format
msgid ""
"Resample a raster by adjusting only its scale (or pixel size). New pixel "
"values are computed using the NearestNeighbor (english or american "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. "
"Default is NearestNeighbor."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4602
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Rescale</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>scalexy</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Rescale</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scalex</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>scaley</parameter></paramdef> <paramdef choice="
"\"opt\"><type>text </type> <parameter>algorithm=NearestNeighbour</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>maxerr=0.125</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4626
#, no-c-format
msgid ""
"Resample a raster by adjusting only its scale (or pixel size). New pixel "
"values are computed using the NearestNeighbor (english or american "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. The "
"default is NearestNeighbor which is the fastest but results in the worst "
"interpolation."
msgstr ""

#. Tag: para
#: reference_raster.xml:4628
#, no-c-format
msgid ""
"<varname>scalex</varname> and <varname>scaley</varname> define the new pixel "
"size. scaley must often be negative to get well oriented raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4630
#, no-c-format
msgid ""
"When the new scalex or scaley is not a divisor of the raster width or "
"height, the extent of the resulting raster is expanded to encompass the "
"extent of the provided raster. If you want to be sure to retain exact input "
"extent see <xref linkend=\"RT_ST_Resize\"/>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4632
#, no-c-format
msgid ""
"<varname>maxerr</varname> is the threshold for transformation approximation "
"by the resampling algorithm (in pixel units). A default of 0.125 is used if "
"no <varname>maxerr</varname> is specified, which is the same value used in "
"GDAL gdalwarp utility. If set to zero, no approximation takes place."
msgstr ""

#. Tag: para
#: reference_raster.xml:4636
#, no-c-format
msgid ""
"ST_Rescale is different from <xref linkend=\"RT_ST_SetScale\"/> in that "
"ST_SetScale do not resample the raster to match the raster extent. "
"ST_SetScale only changes the metadata (or georeference) of the raster to "
"correct an originally mis-specified scaling. ST_Rescale results in a raster "
"having different width and height computed to fit the geographic extent of "
"the input raster. ST_SetScale do not modify the width, nor the height of the "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4639 reference_raster.xml:4707
#: reference_raster.xml:4785
#, no-c-format
msgid "Changed: 2.1.0 Works on rasters with no SRID"
msgstr ""

#. Tag: para
#: reference_raster.xml:4644
#, no-c-format
msgid ""
"A simple example rescaling a raster from a pixel size of 0.001 degree to a "
"pixel size of 0.0015 degree."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4646
#, no-c-format
msgid ""
"-- the original raster pixel size\n"
"SELECT ST_PixelWidth(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, "
"-0.001, 0, 0, 4269), '8BUI'::text, 1, 0)) width\n"
"\n"
"   width\n"
"----------\n"
"0.001\n"
"\n"
"-- the rescaled raster raster pixel size\n"
"SELECT ST_PixelWidth(ST_Rescale(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, "
"0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015)) width\n"
"\n"
"   width\n"
"----------\n"
"0.0015"
msgstr ""

#. Tag: para
#: reference_raster.xml:4651
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Resample\"/>, <xref linkend=\"RT_ST_SetScale\"/>, "
"<xref linkend=\"RT_ST_ScaleX\"/>, <xref linkend=\"RT_ST_ScaleY\"/>, <xref "
"linkend=\"RT_ST_Transform\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4664
#, no-c-format
msgid "ST_Reskew"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4665
#, no-c-format
msgid ""
"Resample a raster by adjusting only its skew (or rotation parameters). New "
"pixel values are computed using the NearestNeighbor (english or american "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. "
"Default is NearestNeighbor."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4670
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Reskew</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>skewxy</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Reskew</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>skewx</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>skewy</parameter></paramdef> <paramdef choice="
"\"opt\"><type>text </type> <parameter>algorithm=NearestNeighbour</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>maxerr=0.125</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4694
#, no-c-format
msgid ""
"Resample a raster by adjusting only its skew (or rotation parameters). New "
"pixel values are computed using the NearestNeighbor (english or american "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. The "
"default is NearestNeighbor which is the fastest but results in the worst "
"interpolation."
msgstr ""

#. Tag: para
#: reference_raster.xml:4696
#, no-c-format
msgid ""
"<varname>skewx</varname> and <varname>skewy</varname> define the new skew."
msgstr ""

#. Tag: para
#: reference_raster.xml:4698 reference_raster.xml:4776
#, no-c-format
msgid ""
"The extent of the new raster will encompass the extent of the provided "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4700 reference_raster.xml:4778
#, no-c-format
msgid ""
"A maxerror percent of 0.125 if no <varname>maxerr</varname> is specified."
msgstr ""

#. Tag: para
#: reference_raster.xml:4704
#, no-c-format
msgid ""
"ST_Reskew is different from <xref linkend=\"RT_ST_SetSkew\"/> in that "
"ST_SetSkew do not resample the raster to match the raster extent. ST_SetSkew "
"only changes the metadata (or georeference) of the raster to correct an "
"originally mis-specified skew. ST_Reskew results in a raster having "
"different width and height computed to fit the geographic extent of the "
"input raster. ST_SetSkew do not modify the width, nor the height of the "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4712
#, no-c-format
msgid ""
"A simple example reskewing a raster from a skew of 0.0 to a skew of 0.0015."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4714
#, no-c-format
msgid ""
"-- the original raster non-rotated\n"
"SELECT ST_Rotation(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, 0.001, "
"-0.001, 0, 0, 4269), '8BUI'::text, 1, 0));\n"
"\n"
"-- result\n"
"0\n"
"\n"
"-- the reskewed raster raster rotation\n"
"SELECT ST_Rotation(ST_Reskew(ST_AddBand(ST_MakeEmptyRaster(100, 100, 0, 0, "
"0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0015));\n"
"\n"
"-- result\n"
"-0.982793723247329"
msgstr ""

#. Tag: para
#: reference_raster.xml:4720
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Rescale\"/>, <xref linkend=\"RT_ST_SetSkew\"/>, "
"<xref linkend=\"RT_ST_SetRotation\"/>, <xref linkend=\"RT_ST_SkewX\"/>, "
"<xref linkend=\"RT_ST_SkewY\"/>, <xref linkend=\"RT_ST_Transform\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4726
#, no-c-format
msgid "ST_SnapToGrid"
msgstr "ST_SnapToGrid"

#. Tag: refpurpose
#: reference_raster.xml:4727
#, no-c-format
msgid ""
"Resample a raster by snapping it to a grid. New pixel values are computed "
"using the NearestNeighbor (english or american spelling), Bilinear, Cubic, "
"CubicSpline or Lanczos resampling algorithm. Default is NearestNeighbor."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4732
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SnapToGrid</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>gridx</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>gridy</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>scalex=DEFAULT 0</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>scaley=DEFAULT 0</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SnapToGrid</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>gridx</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>gridy</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>scalex</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>scaley</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SnapToGrid</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>gridx</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>gridy</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>scalexy</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbour</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>maxerr=0.125</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4771
#, no-c-format
msgid ""
"Resample a raster by snapping it to a grid defined by an arbitrary pixel "
"corner (gridx &amp; gridy) and optionally a pixel size (scalex &amp; "
"scaley). New pixel values are computed using the NearestNeighbor (english or "
"american spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling "
"algorithm. The default is NearestNeighbor which is the fastest but results "
"in the worst interpolation."
msgstr ""

#. Tag: para
#: reference_raster.xml:4773
#, no-c-format
msgid ""
"<varname>gridx</varname> and <varname>gridy</varname> define any arbitrary "
"pixel corner of the new grid. This is not necessarily the upper left corner "
"of the new raster and it does not have to be inside or on the edge of the "
"new raster extent."
msgstr ""

#. Tag: para
#: reference_raster.xml:4775
#, no-c-format
msgid ""
"You can optionally define the pixel size of the new grid with "
"<varname>scalex</varname> and <varname>scaley</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:4782
#, no-c-format
msgid ""
"Use <xref linkend=\"RT_ST_Resample\"/> if you need more control over the "
"grid parameters."
msgstr ""

#. Tag: para
#: reference_raster.xml:4790
#, no-c-format
msgid "A simple example snapping a raster to a slightly different grid."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4792
#, no-c-format
msgid ""
"-- the original raster upper left X\n"
"SELECT ST_UpperLeftX(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, "
"-0.001, 0, 0, 4269), '8BUI'::text, 1, 0));\n"
"-- result\n"
"0\n"
"\n"
"-- the upper left of raster after snapping\n"
"SELECT ST_UpperLeftX(ST_SnapToGrid(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, "
"0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0002, 0.0002));\n"
"\n"
"--result\n"
"-0.0008"
msgstr ""

#. Tag: para
#: reference_raster.xml:4798
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Rescale\"/>, <xref linkend=\"RT_ST_UpperLeftX\"/>, "
"<xref linkend=\"RT_ST_UpperLeftY\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4804
#, no-c-format
msgid "ST_Resize"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:4805
#, no-c-format
msgid "Resize a raster to a new width/height"
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4809
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Resize</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbor</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>maxerr=0.125</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Resize</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>percentwidth</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>percentheight</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>text </type> <parameter>algorithm=NearestNeighbor</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>maxerr=0.125</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Resize</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>width</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>height</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbor</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>maxerr=0.125</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4843
#, no-c-format
msgid ""
"Resize a raster to a new width/height. The new width/height can be specified "
"in exact number of pixels or a percentage of the raster's width/height. The "
"extent of the the new raster will be the same as the extent of the provided "
"raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4847
#, no-c-format
msgid ""
"New pixel values are computed using the NearestNeighbor (english or american "
"spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. The "
"default is NearestNeighbor which is the fastest but results in the worst "
"interpolation."
msgstr ""

#. Tag: para
#: reference_raster.xml:4851
#, no-c-format
msgid "Variant 1 expects the actual width/height of the output raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4855
#, no-c-format
msgid ""
"Variant 2 expects decimal values between zero (0) and one (1) indicating the "
"percentage of the input raster's width/height."
msgstr ""

#. Tag: para
#: reference_raster.xml:4859
#, no-c-format
msgid ""
"Variant 3 takes either the actual width/height of the output raster or a "
"textual percentage (\"20%\") indicating the percentage of the input raster's "
"width/height."
msgstr ""

#. Tag: para
#: reference_raster.xml:4863
#, no-c-format
msgid "Availability: 2.1.0 Requires GDAL 1.6.1+"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4867
#, no-c-format
msgid ""
"WITH foo AS(\n"
"SELECT\n"
"        1 AS rid,\n"
"        ST_Resize(\n"
"                ST_AddBand(\n"
"                        ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, "
"0)\n"
"                        , 1, '8BUI', 255, 0\n"
"                )\n"
"        , '50%', '500') AS rast\n"
"UNION ALL\n"
"SELECT\n"
"        2 AS rid,\n"
"        ST_Resize(\n"
"                ST_AddBand(\n"
"                        ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, "
"0)\n"
"                        , 1, '8BUI', 255, 0\n"
"                )\n"
"        , 500, 100) AS rast\n"
"UNION ALL\n"
"SELECT\n"
"        3 AS rid,\n"
"        ST_Resize(\n"
"                ST_AddBand(\n"
"                        ST_MakeEmptyRaster(1000, 1000, 0, 0, 1, -1, 0, 0, "
"0)\n"
"                        , 1, '8BUI', 255, 0\n"
"                )\n"
"        , 0.25, 0.9) AS rast\n"
"), bar AS (\n"
"        SELECT rid, ST_Metadata(rast) AS meta, rast FROM foo\n"
")\n"
"SELECT rid, (meta).* FROM bar\n"
"\n"
" rid | upperleftx | upperlefty | width | height | scalex | scaley | skewx | "
"skewy | srid | numbands\n"
"-----+------------+------------+-------+--------+--------+--------+-------"
"+-------+------+----------\n"
"   1 |          0 |          0 |   500 |    500 |      1 |     -1 |     0 "
"|     0 |    0 |        1\n"
"   2 |          0 |          0 |   500 |    100 |      1 |     -1 |     0 "
"|     0 |    0 |        1\n"
"   3 |          0 |          0 |   250 |    900 |      1 |     -1 |     0 "
"|     0 |    0 |        1\n"
"(3 rows)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4872
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Rescale\"/>, <xref linkend=\"RT_ST_Reskew\"/>, <xref "
"linkend=\"RT_ST_SnapToGrid\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:4883
#, no-c-format
msgid "ST_Transform"
msgstr "ST_Transform"

#. Tag: refpurpose
#: reference_raster.xml:4884
#, no-c-format
msgid ""
"Reprojects a raster in a known spatial reference system to another known "
"spatial reference system using specified resampling algorithm. Options are "
"NearestNeighbor, Bilinear, Cubic, CubicSpline, Lanczos defaulting to "
"NearestNeighbor."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:4888
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Transform</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>srid</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbor</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>maxerr=0.125</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>scalex</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>scaley</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Transform</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>srid</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>scalex</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>scaley</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>algorithm=NearestNeighbor</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>maxerr=0.125</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Transform</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>alignto</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>algorithm=NearestNeighbor</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision </type> <parameter>maxerr=0.125</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:4922
#, no-c-format
msgid ""
"Reprojects a raster in a known spatial reference system to another known "
"spatial reference system using specified pixel warping algorithm. Uses "
"'NearestNeighbor' if no algorithm is specified and maxerror percent of 0.125 "
"if no maxerr is specified."
msgstr ""

#. Tag: para
#: reference_raster.xml:4926
#, no-c-format
msgid ""
"ST_Transform is often confused with ST_SetSRID(). ST_Transform actually "
"changes the coordinates of a raster (and resamples the pixel values) from "
"one spatial reference system to another, while ST_SetSRID() simply changes "
"the SRID identifier of the raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4930
#, no-c-format
msgid ""
"Unlike the other variants, Variant 3 requires a reference raster as "
"<varname>alignto</varname>. The transformed raster will be transformed to "
"the spatial reference system (SRID) of the reference raster and be aligned "
"(ST_SameAlignment = TRUE) to the reference raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:4935
#, no-c-format
msgid ""
"If you find your transformation support is not working right, you may need "
"to set the environment variable PROJSO to the .so or .dll projection library "
"your PostGIS is using. This just needs to have the name of the file. So for "
"example on windows, you would in Control Panel -> System -> Environment "
"Variables add a system variable called <varname>PROJSO</varname> and set it "
"to <varname>libproj.dll</varname> (if you are using proj 4.6.1). You'll have "
"to restart your PostgreSQL service/daemon after this change."
msgstr ""

#. Tag: para
#: reference_raster.xml:4941
#, no-c-format
msgid ""
"When transforming a coverage of tiles, you almost always want to use a "
"reference raster to insure same alignment and no gaps in your tiles as "
"demonstrated in example: Variant 3."
msgstr ""

#. Tag: para
#: reference_raster.xml:4947
#, no-c-format
msgid "Enhanced: 2.1.0 Addition of ST_Transform(rast, alignto) variant"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4953
#, no-c-format
msgid ""
"SELECT ST_Width(mass_stm) As w_before, ST_Width(wgs_84) As w_after,\n"
"  ST_Height(mass_stm) As h_before, ST_Height(wgs_84) As h_after\n"
"        FROM\n"
"        ( SELECT rast As mass_stm, ST_Transform(rast,4326) As wgs_84\n"
"  ,  ST_Transform(rast,4326, 'Bilinear') AS wgs_84_bilin\n"
"                FROM aerials.o_2_boston\n"
"                        WHERE ST_Intersects(rast,\n"
"                                ST_Transform(ST_MakeEnvelope(-71.128, "
"42.2392,-71.1277, 42.2397, 4326),26986) )\n"
"                LIMIT 1) As foo;\n"
"\n"
" w_before | w_after | h_before | h_after\n"
"----------+---------+----------+---------\n"
"      200 |     228 |      200 |     170"
msgstr ""

#. Tag: para
#: reference_raster.xml:4963
#, no-c-format
msgid "original mass state plane meters (mass_stm)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4972
#, no-c-format
msgid "After transform to wgs 84 long lat (wgs_84)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4981
#, no-c-format
msgid ""
"After transform to wgs 84 long lat with bilinear algorithm instead of NN "
"default (wgs_84_bilin)"
msgstr ""

#. Tag: para
#: reference_raster.xml:4994
#, no-c-format
msgid ""
"The following shows the difference between using ST_Transform(raster, srid) "
"and ST_Transform(raster, alignto)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:4995
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, "
"600000, 100, -100, 0, 0, 2163), 1, '16BUI', 1, 0) AS rast UNION ALL\n"
"        SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 600000, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 2, 0) AS rast UNION ALL\n"
"        SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 600000, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 3, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599800, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 10, 0) AS rast UNION ALL\n"
"        SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599800, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 20, 0) AS rast UNION ALL\n"
"        SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599800, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 30, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, -500000, 599600, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 100, 0) AS rast UNION ALL\n"
"        SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499800, 599600, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 200, 0) AS rast UNION ALL\n"
"        SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, -499600, 599600, 100, "
"-100, 0, 0, 2163), 1, '16BUI', 300, 0) AS rast\n"
"), bar AS (\n"
"        SELECT\n"
"                ST_Transform(rast, 4269) AS alignto\n"
"        FROM foo\n"
"        LIMIT 1\n"
"), baz AS (\n"
"        SELECT\n"
"                rid,\n"
"                rast,\n"
"                ST_Transform(rast, 4269) AS not_aligned,\n"
"                ST_Transform(rast, alignto) AS aligned\n"
"        FROM foo\n"
"        CROSS JOIN bar\n"
")\n"
"SELECT\n"
"        ST_SameAlignment(rast) AS rast,\n"
"        ST_SameAlignment(not_aligned) AS not_aligned,\n"
"        ST_SameAlignment(aligned) AS aligned\n"
"FROM baz\n"
"\n"
" rast | not_aligned | aligned\n"
"------+-------------+---------\n"
" t    | f           | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:5005
#, no-c-format
msgid "not_aligned"
msgstr ""

#. Tag: para
#: reference_raster.xml:5015
#, no-c-format
msgid "aligned"
msgstr ""

#. Tag: para
#: reference_raster.xml:5027
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SetSRID\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:5033
#, no-c-format
msgid "Raster Band Editors"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5037
#, no-c-format
msgid "ST_SetBandNoDataValue"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5038
#, no-c-format
msgid ""
"Sets the value for the given band that represents no data. Band 1 is assumed "
"if no band is specified. To mark a band as having no nodata value, set the "
"nodata value = NULL."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5042
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_SetBandNoDataValue</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>nodatavalue</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_SetBandNoDataValue</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>band</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>nodatavalue</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>boolean </type> <parameter>forcechecking=false</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5063
#, no-c-format
msgid ""
"Sets the value that represents no data for the band. Band 1 is assumed if "
"not specified. This will affect results from <xref linkend=\"RT_ST_Polygon\"/"
">, <xref linkend=\"RT_ST_DumpAsPolygons\"/>, and the ST_PixelAs...() "
"functions."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5069
#, no-c-format
msgid ""
"-- change just first band no data value\n"
"UPDATE dummy_rast\n"
"        SET rast = ST_SetBandNoDataValue(rast,1, 254)\n"
"WHERE rid = 2;\n"
"\n"
"-- change no data band value of bands 1,2,3\n"
"UPDATE dummy_rast\n"
"        SET rast =\n"
"                ST_SetBandNoDataValue(\n"
"                        ST_SetBandNoDataValue(\n"
"                                ST_SetBandNoDataValue(\n"
"                                        rast,1, 254)\n"
"                                ,2,99),\n"
"                                3,108)\n"
"                WHERE rid = 2;\n"
"\n"
"-- wipe out the nodata value this will ensure all pixels are considered for "
"all processing functions\n"
"UPDATE dummy_rast\n"
"        SET rast = ST_SetBandNoDataValue(rast,1, NULL)\n"
"WHERE rid = 2;"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5081
#, no-c-format
msgid "ST_SetBandIsNoData"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5082
#, no-c-format
msgid "Sets the isnodata flag of the band to TRUE."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5087
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetBandIsNoData</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5098
#, no-c-format
msgid ""
"Sets the isnodata flag for the band to true. Band 1 is assumed if not "
"specified. This function should be called only when the flag is considered "
"dirty. That is, when the result calling <xref linkend=\"RT_ST_BandIsNoData\"/"
"> is different using TRUE as last argument and without using it"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5110
#, no-c-format
msgid ""
"-- Create dummy table with one raster column\n"
"create table dummy_rast (rid integer, rast raster);\n"
"\n"
"-- Add raster with two bands, one pixel/band. In the first band, nodatavalue "
"= pixel value = 3.\n"
"-- In the second band, nodatavalue = 13, pixel value = 4\n"
"insert into dummy_rast values(1,\n"
"(\n"
"'01' -- little endian (uint8 ndr)\n"
"||\n"
"'0000' -- version (uint16 0)\n"
"||\n"
"'0200' -- nBands (uint16 0)\n"
"||\n"
"'17263529ED684A3F' -- scaleX (float64 0.000805965234044584)\n"
"||\n"
"'F9253529ED684ABF' -- scaleY (float64 -0.00080596523404458)\n"
"||\n"
"'1C9F33CE69E352C0' -- ipX (float64 -75.5533328537098)\n"
"||\n"
"'718F0E9A27A44840' -- ipY (float64 49.2824585505576)\n"
"||\n"
"'ED50EB853EC32B3F' -- skewX (float64 0.000211812383858707)\n"
"||\n"
"'7550EB853EC32B3F' -- skewY (float64 0.000211812383858704)\n"
"||\n"
"'E6100000' -- SRID (int32 4326)\n"
"||\n"
"'0100' -- width (uint16 1)\n"
"||\n"
"'0100' -- height (uint16 1)\n"
"||\n"
"'4' -- hasnodatavalue set to true, isnodata value set to false (when it "
"should be true)\n"
"||\n"
"'2' -- first band type (4BUI)\n"
"||\n"
"'03' -- novalue==3\n"
"||\n"
"'03' -- pixel(0,0)==3 (same that nodata)\n"
"||\n"
"'0' -- hasnodatavalue set to false\n"
"||\n"
"'5' -- second band type (16BSI)\n"
"||\n"
"'0D00' -- novalue==13\n"
"||\n"
"'0400' -- pixel(0,0)==4\n"
")::raster\n"
");\n"
"\n"
"select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected "
"false\n"
"select st_bandisnodata(rast, 1, TRUE) from dummy_rast where rid = 1; -- "
"Expected true\n"
"\n"
"-- The isnodata flag is dirty. We are going to set it to true\n"
"update dummy_rast set rast = st_setbandisnodata(rast, 1) where rid = 1;\n"
"\n"
"\n"
"select st_bandisnodata(rast, 1) from dummy_rast where rid = 1; -- Expected "
"true"
msgstr ""

#. Tag: para
#: reference_raster.xml:5116
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_NumBands\"/>, <xref linkend="
"\"RT_ST_SetBandNoDataValue\"/>, <xref linkend=\"RT_ST_BandIsNoData\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5125
#, no-c-format
msgid "ST_SetBandPath"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5126
#, no-c-format
msgid "Update the external path and band number of an out-db band"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5131
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetBandPath</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>band</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>outdbpath</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>outdbindex</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>force=false</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5145
#, no-c-format
msgid ""
"Updates an out-db band's external raster file path and external band number."
msgstr ""

#. Tag: para
#: reference_raster.xml:5148
#, no-c-format
msgid ""
"If <varname>force</varname> is set to true, no tests are done to ensure "
"compatibility (e.g. alignment, pixel support) between the external raster "
"file and the PostGIS raster. This mode is intended for file system changes "
"where the external raster resides."
msgstr ""

#. Tag: para
#: reference_raster.xml:5154 reference_raster.xml:5207
#, no-c-format
msgid ""
"Internally, this method replaces the PostGIS raster's band at index "
"<varname>band</varname> with a new band instead of updating the existing "
"path information."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5164
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/"
"raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast\n"
")\n"
"SELECT\n"
"        1 AS query,\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        (SELECT rast FROM foo),\n"
"         ARRAY[1,3,2]::int[]\n"
")\n"
"UNION ALL\n"
"SELECT\n"
"        2,\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        (\n"
"                SELECT\n"
"                        <emphasis role=\"strong\">ST_SetBandPath(\n"
"                                rast,\n"
"                                2,\n"
"                                '/home/pele/devel/geo/postgis-git/raster/"
"test/regress/loader/Projected2.tif',\n"
"                                1\n"
"                        )</emphasis> AS rast\n"
"                 FROM foo\n"
"        ),\n"
"         ARRAY[1,3,2]::int[]\n"
")\n"
"ORDER BY 1, 2;\n"
"\n"
" query | bandnum | pixeltype | nodatavalue | isoutdb "
"|                                      "
"path                                       | outdbbandnum\n"
"-------+---------+-----------+-------------+---------"
"+---------------------------------------------------------------------------------"
"+--------------\n"
"     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            1\n"
"     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            2\n"
"     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            3\n"
"     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            1\n"
"<emphasis role=\"strong\">     2 |       2 | 8BUI      |             | "
"t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/"
"Projected2.tif      |            1</emphasis>\n"
"     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            3"
msgstr ""

#. Tag: para
#: reference_raster.xml:5169
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SetBandIndex\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5179
#, no-c-format
msgid "ST_SetBandIndex"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5180
#, no-c-format
msgid "Update the external band number of an out-db band"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5185
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_SetBandIndex</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>band</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>outdbindex</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>force=false</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5198
#, no-c-format
msgid ""
"Updates an out-db band's external band number. This does not touch the "
"external raster file associated with the out-db band"
msgstr ""

#. Tag: para
#: reference_raster.xml:5201
#, no-c-format
msgid ""
"If <varname>force</varname> is set to true, no tests are done to ensure "
"compatibility (e.g. alignment, pixel support) between the external raster "
"file and the PostGIS raster. This mode is intended for where bands are moved "
"around in the external raster file."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5217
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                ST_AddBand(NULL::raster, '/home/pele/devel/geo/postgis-git/"
"raster/test/regress/loader/Projected.tif', NULL::int[]) AS rast\n"
")\n"
"SELECT\n"
"        1 AS query,\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        (SELECT rast FROM foo),\n"
"         ARRAY[1,3,2]::int[]\n"
")\n"
"UNION ALL\n"
"SELECT\n"
"        2,\n"
"        *\n"
"FROM ST_BandMetadata(\n"
"        (\n"
"                SELECT\n"
"                        <emphasis role=\"strong\">ST_SetBandIndex(\n"
"                                rast,\n"
"                                2,\n"
"                                1\n"
"                        )</emphasis> AS rast\n"
"                 FROM foo\n"
"        ),\n"
"         ARRAY[1,3,2]::int[]\n"
")\n"
"ORDER BY 1, 2;\n"
"\n"
" query | bandnum | pixeltype | nodatavalue | isoutdb "
"|                                      "
"path                                       | outdbbandnum\n"
"-------+---------+-----------+-------------+---------"
"+---------------------------------------------------------------------------------"
"+--------------\n"
"     1 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            1\n"
"     1 |       2 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            2\n"
"     1 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            3\n"
"     2 |       1 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            1\n"
"<emphasis role=\"strong\">     2 |       2 | 8BUI      |             | "
"t       | /home/pele/devel/geo/postgis-git/raster/test/regress/loader/"
"Projected.tif       |            1</emphasis>\n"
"     2 |       3 | 8BUI      |             | t       | /home/pele/devel/geo/"
"postgis-git/raster/test/regress/loader/Projected.tif       |            3"
msgstr ""

#. Tag: para
#: reference_raster.xml:5222
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SetBandPath\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:5233
#, no-c-format
msgid "Raster Band Statistics and Analytics"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5237
#, no-c-format
msgid "ST_Count"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5238
#, no-c-format
msgid ""
"Returns the number of pixels in a given band of a raster or raster coverage. "
"If no band is specified defaults to band 1. If exclude_nodata_value is set "
"to true, will only count pixels that are not equal to the nodata value."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5242
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bigint <function>ST_Count</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bigint <function>ST_Count</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>exclude_nodata_value</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5260
#, no-c-format
msgid ""
"Returns the number of pixels in a given band of a raster or raster coverage. "
"If no band is specified <varname>nband</varname> defaults to 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:5261
#, no-c-format
msgid ""
"If <varname>exclude_nodata_value</varname> is set to true, will only count "
"pixels with value not equal to the <varname>nodata</varname> value of the "
"raster. Set <varname>exclude_nodata_value</varname> to false to get count "
"all pixels"
msgstr ""

#. Tag: para
#: reference_raster.xml:5262
#, no-c-format
msgid ""
"Changed: 3.1.0 - The ST_Count(rastertable, rastercolumn, ...) variants "
"removed. Use <xref linkend=\"RT_ST_CountAgg\"/> instead."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5269
#, no-c-format
msgid ""
"--example will count all pixels not 249 and one will count all pixels.  --\n"
"SELECT rid, ST_Count(ST_SetBandNoDataValue(rast,249)) As exclude_nodata,\n"
"        ST_Count(ST_SetBandNoDataValue(rast,249),false) As include_nodata\n"
"    FROM dummy_rast WHERE rid=2;\n"
"\n"
"rid | exclude_nodata | include_nodata\n"
"-----+----------------+----------------\n"
"   2 |             23 |             25"
msgstr ""

#. Tag: para
#: reference_raster.xml:5274 reference_raster.xml:5335
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SummaryStats\"/>, <xref linkend="
"\"RT_ST_SetBandNoDataValue\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5284
#, no-c-format
msgid "ST_CountAgg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5285
#, no-c-format
msgid ""
"Aggregate. Returns the number of pixels in a given band of a set of rasters. "
"If no band is specified defaults to band 1. If exclude_nodata_value is set "
"to true, will only count pixels that are not equal to the NODATA value."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5291
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bigint <function>ST_CountAgg</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>exclude_nodata_value</parameter></"
"paramdef> <paramdef><type>double precision </type> "
"<parameter>sample_percent</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bigint <function>ST_CountAgg</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>exclude_nodata_value</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>bigint "
"<function>ST_CountAgg</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5319
#, no-c-format
msgid ""
"Returns the number of pixels in a given band of a set of rasters. If no band "
"is specified <varname>nband</varname> defaults to 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:5320
#, no-c-format
msgid ""
"If <varname>exclude_nodata_value</varname> is set to true, will only count "
"pixels with value not equal to the <varname>NODATA</varname> value of the "
"raster. Set <varname>exclude_nodata_value</varname> to false to get count "
"all pixels"
msgstr ""

#. Tag: para
#: reference_raster.xml:5323
#, no-c-format
msgid ""
"By default will sample all pixels. To get faster response, set "
"<varname>sample_percent</varname> to value between zero (0) and one (1)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5330
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                rast.rast\n"
"        FROM (\n"
"                SELECT ST_SetValue(\n"
"                        ST_SetValue(\n"
"                                ST_SetValue(\n"
"                                        ST_AddBand(\n"
"                                                ST_MakeEmptyRaster(10, 10, "
"10, 10, 2, 2, 0, 0,0)\n"
"                                                , 1, '64BF', 0, 0\n"
"                                        )\n"
"                                        , 1, 1, 1, -10\n"
"                                )\n"
"                                , 1, 5, 4, 0\n"
"                        )\n"
"                        , 1, 5, 5, 3.14159\n"
"                ) AS rast\n"
"        ) AS rast\n"
"        FULL JOIN (\n"
"                SELECT generate_series(1, 10) AS id\n"
"        ) AS id\n"
"                ON 1 = 1\n"
")\n"
"SELECT\n"
"        ST_CountAgg(rast, 1, TRUE)\n"
"FROM foo;\n"
"\n"
" st_countagg\n"
"-------------\n"
"          20\n"
"(1 row)"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5345
#, no-c-format
msgid "ST_Histogram"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5346
#, no-c-format
msgid ""
"Returns a set of record summarizing a raster or raster coverage data "
"distribution separate bin ranges. Number of bins are autocomputed if not "
"specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5350
#, no-c-format
msgid ""
"<funcprototype> <funcdef>SETOF record <function>ST_Histogram</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> <paramdef choice="
"\"opt\"><type>integer </type> <parameter>bins=autocomputed</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision[] </type> "
"<parameter>width=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>right=false</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>SETOF record <function>ST_Histogram</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>nband</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bins</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision[] </"
"type> <parameter>width=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>right=false</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>SETOF record <function>ST_Histogram</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>nband</"
"parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>bins</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>right</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>SETOF record <function>ST_Histogram</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>nband</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>bins</"
"parameter></paramdef> <paramdef><type>boolean </type> <parameter>right</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5392
#, no-c-format
msgid ""
"Returns set of records consisting of min, max, count, percent for a given "
"raster band for each bin. If no band is specified <varname>nband</varname> "
"defaults to 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:5393
#, no-c-format
msgid ""
"By default only considers pixel values not equal to the <varname>nodata</"
"varname> value . Set <varname>exclude_nodata_value</varname> to false to get "
"count all pixels."
msgstr ""

#. Tag: term
#: reference_raster.xml:5397
#, no-c-format
msgid "<parameter>width </parameter><type>double precision[]</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5398
#, no-c-format
msgid ""
"width: an array indicating the width of each category/bin. If the number of "
"bins is greater than the number of widths, the widths are repeated."
msgstr ""

#. Tag: para
#: reference_raster.xml:5399
#, no-c-format
msgid ""
"Example: 9 bins, widths are [a, b, c] will have the output be [a, b, c, a, "
"b, c, a, b, c]"
msgstr ""

#. Tag: term
#: reference_raster.xml:5402
#, no-c-format
msgid "<parameter>bins </parameter><type>integer</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5403
#, no-c-format
msgid ""
"Number of breakouts -- this is the number of records you'll get back from "
"the function if specified. If not specified then the number of breakouts is "
"autocomputed."
msgstr ""

#. Tag: term
#: reference_raster.xml:5407
#, no-c-format
msgid "<parameter>right </parameter><type>boolean</type>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5408
#, no-c-format
msgid ""
"compute the histogram from the right rather than from the left (default). "
"This changes the criteria for evaluating a value x from [a, b) to (a, b]"
msgstr ""

#. Tag: para
#: reference_raster.xml:5411
#, no-c-format
msgid "Changed: 3.1.0 Removed ST_Histogram(table_name, column_name) variant."
msgstr ""

#. Tag: title
#: reference_raster.xml:5416
#, no-c-format
msgid ""
"Example: Single raster tile - compute histograms for bands 1, 2, 3 and "
"autocompute bins"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5417
#, no-c-format
msgid ""
"SELECT band, (stats).*\n"
"FROM (SELECT rid, band, ST_Histogram(rast, band) As stats\n"
"    FROM dummy_rast CROSS JOIN generate_series(1,3) As band\n"
"     WHERE rid=2) As foo;\n"
"\n"
" band |  min  |  max  | count | percent\n"
"------+-------+-------+-------+---------\n"
"    1 |   249 |   250 |     2 |    0.08\n"
"    1 |   250 |   251 |     2 |    0.08\n"
"    1 |   251 |   252 |     1 |    0.04\n"
"    1 |   252 |   253 |     2 |    0.08\n"
"    1 |   253 |   254 |    18 |    0.72\n"
"    2 |    78 | 113.2 |    11 |    0.44\n"
"    2 | 113.2 | 148.4 |     4 |    0.16\n"
"    2 | 148.4 | 183.6 |     4 |    0.16\n"
"    2 | 183.6 | 218.8 |     1 |    0.04\n"
"    2 | 218.8 |   254 |     5 |     0.2\n"
"    3 |    62 | 100.4 |    11 |    0.44\n"
"    3 | 100.4 | 138.8 |     5 |     0.2\n"
"    3 | 138.8 | 177.2 |     4 |    0.16\n"
"    3 | 177.2 | 215.6 |     1 |    0.04\n"
"    3 | 215.6 |   254 |     4 |    0.16"
msgstr ""

#. Tag: title
#: reference_raster.xml:5421
#, no-c-format
msgid "Example: Just band 2 but for 6 bins"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5422
#, no-c-format
msgid ""
"SELECT (stats).*\n"
"FROM (SELECT rid, ST_Histogram(rast, 2,6) As stats\n"
"    FROM dummy_rast\n"
"     WHERE rid=2) As foo;\n"
"\n"
"    min     |    max     | count | percent\n"
"------------+------------+-------+---------\n"
"         78 | 107.333333 |     9 |    0.36\n"
" 107.333333 | 136.666667 |     6 |    0.24\n"
" 136.666667 |        166 |     0 |       0\n"
"        166 | 195.333333 |     4 |    0.16\n"
" 195.333333 | 224.666667 |     1 |    0.04\n"
" 224.666667 |        254 |     5 |     0.2\n"
"(6 rows)\n"
"\n"
"-- Same as previous but we explicitly control the pixel value range of each "
"bin.\n"
"SELECT (stats).*\n"
"FROM (SELECT rid, ST_Histogram(rast, 2,6,ARRAY[0.5,1,4,100,5]) As stats\n"
"    FROM dummy_rast\n"
"     WHERE rid=2) As foo;\n"
"\n"
"  min  |  max  | count | percent\n"
"-------+-------+-------+----------\n"
"    78 |  78.5 |     1 |     0.08\n"
"  78.5 |  79.5 |     1 |     0.04\n"
"  79.5 |  83.5 |     0 |        0\n"
"  83.5 | 183.5 |    17 |   0.0068\n"
" 183.5 | 188.5 |     0 |        0\n"
" 188.5 |   254 |     6 | 0.003664\n"
"(6 rows)"
msgstr ""

#. Tag: para
#: reference_raster.xml:5427
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SummaryStats\"/>, <xref linkend="
"\"RT_ST_SummaryStatsAgg\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5437
#, no-c-format
msgid "ST_Quantile"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5438
#, no-c-format
msgid ""
"<refpurpose>Compute quantiles for a raster or raster table coverage in the "
"context of the sample or population. Thus, a value could be examined to be "
"at the raster's 25%, 50%, 75% percentile.</refpurpose>"
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5442
#, no-c-format
msgid ""
"<funcprototype> <funcdef>SETOF record <function>ST_Quantile</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision[] </type> <parameter>quantiles=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>SETOF record "
"<function>ST_Quantile</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision[] </"
"type> <parameter>quantiles</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>SETOF record <function>ST_Quantile</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>nband</parameter></"
"paramdef> <paramdef><type>double precision[] </type> <parameter>quantiles</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>double "
"precision <function>ST_Quantile</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>quantile</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Quantile</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>quantile=NULL</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Quantile</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>quantile</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>double precision <function>ST_Quantile</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>nband</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>exclude_nodata_value</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>quantile</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>double precision <function>ST_Quantile</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>quantile</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5497
#, no-c-format
msgid ""
"<para>Compute quantiles for a raster or raster table coverage in the context "
"of the sample or population. Thus, a value could be examined to be at the "
"raster's 25%, 50%, 75% percentile.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5498 reference_raster.xml:5769
#, no-c-format
msgid ""
"If <varname>exclude_nodata_value</varname> is set to false, will also count "
"pixels with no data."
msgstr ""

#. Tag: para
#: reference_raster.xml:5499
#, no-c-format
msgid "Changed: 3.1.0 Removed ST_Quantile(table_name, column_name) variant."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5506
#, no-c-format
msgid ""
"UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;\n"
"--Example will consider only pixels of band 1 that are not 249 and in named "
"quantiles --\n"
"\n"
"SELECT (pvq).*\n"
"FROM (SELECT ST_Quantile(rast, ARRAY[0.25,0.75]) As pvq\n"
"    FROM dummy_rast WHERE rid=2) As foo\n"
"    ORDER BY (pvq).quantile;\n"
"\n"
" quantile | value\n"
"----------+-------\n"
"     0.25 |   253\n"
"     0.75 |   254\n"
"\n"
"SELECT ST_Quantile(rast, 0.75) As value\n"
"    FROM dummy_rast WHERE rid=2;\n"
"\n"
"value\n"
"------\n"
"  254"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5507
#, no-c-format
msgid ""
"--real live example.  Quantile of all pixels in band 2 intersecting a "
"geometry\n"
"SELECT rid, (ST_Quantile(rast,2)).* As pvc\n"
"    FROM o_4_boston\n"
"        WHERE ST_Intersects(rast,\n"
"            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 "
"892200,224706 892151,224486 892151))',26986)\n"
"            )\n"
"ORDER BY value, quantile,rid\n"
";\n"
"\n"
"\n"
" rid | quantile | value\n"
"-----+----------+-------\n"
"   1 |        0 |     0\n"
"   2 |        0 |     0\n"
"  14 |        0 |     1\n"
"  15 |        0 |     2\n"
"  14 |     0.25 |    37\n"
"   1 |     0.25 |    42\n"
"  15 |     0.25 |    47\n"
"   2 |     0.25 |    50\n"
"  14 |      0.5 |    56\n"
"   1 |      0.5 |    64\n"
"  15 |      0.5 |    66\n"
"   2 |      0.5 |    77\n"
"  14 |     0.75 |    81\n"
"  15 |     0.75 |    87\n"
"   1 |     0.75 |    94\n"
"   2 |     0.75 |   106\n"
"  14 |        1 |   199\n"
"   1 |        1 |   244\n"
"   2 |        1 |   255\n"
"  15 |        1 |   255"
msgstr ""

#. Tag: para
#: reference_raster.xml:5512
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SummaryStats\"/>, <xref linkend="
"\"RT_ST_SummaryStatsAgg\"/>, <xref linkend=\"RT_ST_SetBandNoDataValue\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5523
#, no-c-format
msgid "ST_SummaryStats"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5524
#, no-c-format
msgid ""
"Returns summarystats consisting of count, sum, mean, stddev, min, max for a "
"given raster band of a raster or raster coverage. Band 1 is assumed is no "
"band is specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5528
#, no-c-format
msgid ""
"<funcprototype> <funcdef>summarystats <function>ST_SummaryStats</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>exclude_nodata_value</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>summarystats "
"<function>ST_SummaryStats</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5547 reference_raster.xml:5621
#, no-c-format
msgid ""
"Returns <xref linkend=\"summarystats\"/> consisting of count, sum, mean, "
"stddev, min, max for a given raster band of a raster or raster coverage. If "
"no band is specified <varname>nband</varname> defaults to 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:5549
#, no-c-format
msgid ""
"By default only considers pixel values not equal to the <varname>nodata</"
"varname> value. Set <varname>exclude_nodata_value</varname> to false to get "
"count of all pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:5551
#, no-c-format
msgid ""
"By default will sample all pixels. To get faster response, set "
"<varname>sample_percent</varname> to lower than 1"
msgstr ""

#. Tag: para
#: reference_raster.xml:5553
#, no-c-format
msgid ""
"Changed: 3.1.0 ST_SummaryStats(rastertable, rastercolumn, ...) variants are "
"removed. Use <xref linkend=\"RT_ST_SummaryStatsAgg\"/> instead."
msgstr ""

#. Tag: title
#: reference_raster.xml:5559
#, no-c-format
msgid "Example: Single raster tile"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5560
#, no-c-format
msgid ""
"SELECT rid, band, (stats).*\n"
"FROM (SELECT rid, band, ST_SummaryStats(rast, band) As stats\n"
"    FROM dummy_rast CROSS JOIN generate_series(1,3) As band\n"
"     WHERE rid=2) As foo;\n"
"\n"
" rid | band | count | sum  |    mean    |  stddev   | min | max\n"
"-----+------+-------+------+------------+-----------+-----+-----\n"
"   2 |    1 |    23 | 5821 | 253.086957 |  1.248061 | 250 | 254\n"
"   2 |    2 |    25 | 3682 |     147.28 | 59.862188 |  78 | 254\n"
"   2 |    3 |    25 | 3290 |      131.6 | 61.647384 |  62 | 254"
msgstr ""

#. Tag: title
#: reference_raster.xml:5564
#, no-c-format
msgid "Example: Summarize pixels that intersect buildings of interest"
msgstr ""

#. Tag: para
#: reference_raster.xml:5565
#, no-c-format
msgid ""
"This example took 574ms on PostGIS windows 64-bit with all of Boston "
"Buildings and aerial Tiles (tiles each 150x150 pixels ~ 134,000 tiles), "
"~102,000 building records"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5567
#, no-c-format
msgid ""
"WITH\n"
"-- our features of interest\n"
"   feat AS (SELECT gid As building_id, geom_26986 As geom FROM buildings AS "
"b\n"
"    WHERE gid IN(100, 103,150)\n"
"   ),\n"
"-- clip band 2 of raster tiles to boundaries of builds\n"
"-- then get stats for these clipped regions\n"
"   b_stats AS\n"
"        (SELECT  building_id, (stats).*\n"
"FROM (SELECT building_id, ST_SummaryStats(ST_Clip(rast,2,geom)) As stats\n"
"    FROM aerials.boston\n"
"                INNER JOIN feat\n"
"        ON ST_Intersects(feat.geom,rast)\n"
" ) As foo\n"
" )\n"
"-- finally summarize stats\n"
"SELECT building_id, SUM(count) As num_pixels\n"
"  , MIN(min) As min_pval\n"
"  ,  MAX(max) As max_pval\n"
"  , SUM(mean*count)/SUM(count) As avg_pval\n"
"        FROM b_stats\n"
" WHERE count > 0\n"
"        GROUP BY building_id\n"
"        ORDER BY building_id;\n"
" building_id | num_pixels | min_pval | max_pval |     avg_pval\n"
"-------------+------------+----------+----------+------------------\n"
"         100 |       1090 |        1 |      255 | 61.0697247706422\n"
"         103 |        655 |        7 |      182 | 70.5038167938931\n"
"         150 |        895 |        2 |      252 | 185.642458100559"
msgstr ""

#. Tag: title
#: reference_raster.xml:5571
#, no-c-format
msgid "Example: Raster coverage"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5572
#, no-c-format
msgid ""
"-- stats for each band --\n"
"SELECT band, (stats).*\n"
"FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band) As stats\n"
"    FROM generate_series(1,3) As band) As foo;\n"
"\n"
" band |  count  |  sum   |       mean       |      stddev      | min | max\n"
"------+---------+--------+------------------+------------------+-----+-----\n"
"    1 | 8450000 | 725799 | 82.7064349112426 | 45.6800222638537 |   0 | 255\n"
"    2 | 8450000 | 700487 | 81.4197705325444 | 44.2161184161765 |   0 | 255\n"
"    3 | 8450000 | 575943 |  74.682739408284 | 44.2143885481407 |   0 | 255\n"
"\n"
"-- For a table -- will get better speed if set sampling to less than 100%\n"
"-- Here we set to 25% and get a much faster answer\n"
"SELECT band, (stats).*\n"
"FROM (SELECT band, ST_SummaryStats('o_4_boston','rast', band,true,0.25) As "
"stats\n"
"    FROM generate_series(1,3) As band) As foo;\n"
"\n"
" band |  count  |  sum   |       mean       |      stddev      | min | max\n"
"------+---------+--------+------------------+------------------+-----+-----\n"
"    1 | 2112500 | 180686 | 82.6890480473373 | 45.6961043857248 |   0 | 255\n"
"    2 | 2112500 | 174571 |  81.448503668639 | 44.2252623171821 |   0 | 255\n"
"    3 | 2112500 | 144364 | 74.6765884023669 | 44.2014869384578 |   0 | 255"
msgstr ""

#. Tag: para
#: reference_raster.xml:5577
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SummaryStatsAgg\"/>, <xref linkend=\"RT_ST_Count\"/"
">, <xref linkend=\"RT_ST_Clip\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5588
#, no-c-format
msgid "ST_SummaryStatsAgg"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5589
#, no-c-format
msgid ""
"Aggregate. Returns summarystats consisting of count, sum, mean, stddev, min, "
"max for a given raster band of a set of raster. Band 1 is assumed is no band "
"is specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5593
#, no-c-format
msgid ""
"<funcprototype> <funcdef>summarystats <function>ST_SummaryStatsAgg</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>nband</"
"parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>sample_percent</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>summarystats "
"<function>ST_SummaryStatsAgg</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>sample_percent</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>summarystats "
"<function>ST_SummaryStatsAgg</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5623
#, no-c-format
msgid ""
"By default only considers pixel values not equal to the <varname>NODATA</"
"varname> value. Set <varname>exclude_nodata_value</varname> to False to get "
"count of all pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:5625
#, no-c-format
msgid ""
"By default will sample all pixels. To get faster response, set "
"<varname>sample_percent</varname> to value between 0 and 1"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5632
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                rast.rast\n"
"        FROM (\n"
"                SELECT ST_SetValue(\n"
"                        ST_SetValue(\n"
"                                ST_SetValue(\n"
"                                        ST_AddBand(\n"
"                                                ST_MakeEmptyRaster(10, 10, "
"10, 10, 2, 2, 0, 0,0)\n"
"                                                , 1, '64BF', 0, 0\n"
"                                        )\n"
"                                        , 1, 1, 1, -10\n"
"                                )\n"
"                                , 1, 5, 4, 0\n"
"                        )\n"
"                        , 1, 5, 5, 3.14159\n"
"                ) AS rast\n"
"        ) AS rast\n"
"        FULL JOIN (\n"
"                SELECT generate_series(1, 10) AS id\n"
"        ) AS id\n"
"                ON 1 = 1\n"
")\n"
"SELECT\n"
"        (stats).count,\n"
"        round((stats).sum::numeric, 3),\n"
"        round((stats).mean::numeric, 3),\n"
"        round((stats).stddev::numeric, 3),\n"
"        round((stats).min::numeric, 3),\n"
"        round((stats).max::numeric, 3)\n"
"FROM (\n"
"        SELECT\n"
"                ST_SummaryStatsAgg(rast, 1, TRUE, 1) AS stats\n"
"        FROM foo\n"
") bar;\n"
"\n"
" count |  round  | round  | round |  round  | round\n"
"-------+---------+--------+-------+---------+-------\n"
"    20 | -68.584 | -3.429 | 6.571 | -10.000 | 3.142\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:5637
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_SummaryStats\"/>, <xref linkend=\"RT_ST_Count\"/>, "
"<xref linkend=\"RT_ST_Clip\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5648
#, no-c-format
msgid "ST_ValueCount"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5649
#, no-c-format
msgid ""
"Returns a set of records containing a pixel band value and count of the "
"number of pixels in a given band of a raster (or a raster coverage) that "
"have a given set of values. If no band is specified defaults to band 1. By "
"default nodata value pixels are not counted. and all other values in the "
"pixel are output and pixel band values are rounded to the nearest integer."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5654
#, no-c-format
msgid ""
"<funcprototype> <funcdef>SETOF record <function>ST_ValueCount</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision[] </type> <parameter>searchvalues=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>roundto=0</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>OUT value</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>OUT count</parameter></paramdef> "
"</funcprototype> <funcprototype> <funcdef>SETOF record "
"<function>ST_ValueCount</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>double precision[] </"
"type> <parameter>searchvalues</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>roundto=0</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>OUT value</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>OUT count</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>SETOF record "
"<function>ST_ValueCount</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision[] </"
"type> <parameter>searchvalues</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>roundto=0</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>OUT value</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>OUT count</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bigint "
"<function>ST_ValueCount</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>double precision </"
"type> <parameter>searchvalue</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>roundto=0</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>bigint "
"<function>ST_ValueCount</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>searchvalue</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>roundto=0</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>bigint <function>ST_ValueCount</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>searchvalue</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>roundto=0</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>SETOF record <function>ST_ValueCount</function></funcdef> "
"<paramdef><type>text </type> <parameter>rastertable</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>rastercolumn</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=true</parameter></paramdef> <paramdef choice="
"\"opt\"><type>double precision[] </type> <parameter>searchvalues=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>roundto=0</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>OUT value</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>OUT count</parameter></paramdef> "
"</funcprototype> <funcprototype> <funcdef>SETOF record "
"<function>ST_ValueCount</function></funcdef> <paramdef><type>text </type> "
"<parameter>rastertable</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>rastercolumn</parameter></paramdef> <paramdef><type>double "
"precision[] </type> <parameter>searchvalues</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>double precision </type> <parameter>roundto=0</"
"parameter></paramdef> <paramdef><type>double precision </type> "
"<parameter>OUT value</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>OUT count</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>SETOF record <function>ST_ValueCount</function></funcdef> "
"<paramdef><type>text </type> <parameter>rastertable</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>rastercolumn</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>double precision[] </type> <parameter>searchvalues</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>roundto=0</parameter></paramdef> <paramdef><type>double "
"precision </type> <parameter>OUT value</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>OUT count</parameter></paramdef> "
"</funcprototype> <funcprototype> <funcdef>bigint<function>ST_ValueCount</"
"function></funcdef> <paramdef><type>text </type> <parameter>rastertable</"
"parameter></paramdef> <paramdef><type>text </type> <parameter>rastercolumn</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>nband</"
"parameter></paramdef> <paramdef><type>boolean </type> "
"<parameter>exclude_nodata_value</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>searchvalue</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>roundto=0</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>bigint <function>ST_ValueCount</function></funcdef> "
"<paramdef><type>text </type> <parameter>rastertable</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>rastercolumn</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>searchvalue</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>roundto=0</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>bigint <function>ST_ValueCount</function></funcdef> "
"<paramdef><type>text </type> <parameter>rastertable</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>rastercolumn</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>double precision </type> <parameter>searchvalue</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>roundto=0</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5767
#, no-c-format
msgid ""
"Returns a set of records with columns <varname>value</varname> "
"<varname>count</varname> which contain the pixel band value and count of "
"pixels in the raster tile or raster coverage of selected band."
msgstr ""

#. Tag: para
#: reference_raster.xml:5768
#, no-c-format
msgid ""
"If no band is specified <varname>nband</varname> defaults to 1. If no "
"<varname>searchvalues</varname> are specified, will return all pixel values "
"found in the raster or raster coverage. If one searchvalue is given, will "
"return an integer instead of records denoting the count of pixels having "
"that pixel band value"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5776
#, no-c-format
msgid ""
"UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,249) WHERE rid=2;\n"
"--Example will count only pixels of band 1 that are not 249. --\n"
"\n"
"SELECT (pvc).*\n"
"FROM (SELECT ST_ValueCount(rast) As pvc\n"
"    FROM dummy_rast WHERE rid=2) As foo\n"
"    ORDER BY (pvc).value;\n"
"\n"
" value | count\n"
"-------+-------\n"
"   250 |     2\n"
"   251 |     1\n"
"   252 |     2\n"
"   253 |     6\n"
"   254 |    12\n"
"\n"
"-- Example will coount all pixels of band 1 including 249 --\n"
"SELECT (pvc).*\n"
"FROM (SELECT ST_ValueCount(rast,1,false) As pvc\n"
"    FROM dummy_rast WHERE rid=2) As foo\n"
"    ORDER BY (pvc).value;\n"
"\n"
" value | count\n"
"-------+-------\n"
"   249 |     2\n"
"   250 |     2\n"
"   251 |     1\n"
"   252 |     2\n"
"   253 |     6\n"
"   254 |    12\n"
"\n"
"-- Example will count only non-nodata value pixels of band 2\n"
"SELECT (pvc).*\n"
"FROM (SELECT ST_ValueCount(rast,2) As pvc\n"
"    FROM dummy_rast WHERE rid=2) As foo\n"
"    ORDER BY (pvc).value;\n"
" value | count\n"
"-------+-------\n"
"    78 |     1\n"
"    79 |     1\n"
"    88 |     1\n"
"    89 |     1\n"
"    96 |     1\n"
"    97 |     1\n"
"    98 |     1\n"
"    99 |     2\n"
"   112 |     2\n"
":"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5777
#, no-c-format
msgid ""
"--real live example.  Count all the pixels in an aerial raster tile band 2 "
"intersecting a geometry\n"
"-- and return only the pixel band values that have a count > 500\n"
"SELECT (pvc).value, SUM((pvc).count) As total\n"
"FROM (SELECT ST_ValueCount(rast,2) As pvc\n"
"    FROM o_4_boston\n"
"        WHERE ST_Intersects(rast,\n"
"            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 "
"892200,224706 892151,224486 892151))',26986)\n"
"             )\n"
"        ) As foo\n"
"    GROUP BY (pvc).value\n"
"    HAVING SUM((pvc).count) > 500\n"
"    ORDER BY (pvc).value;\n"
"\n"
" value | total\n"
"-------+-----\n"
"    51 | 502\n"
"    54 | 521"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5779
#, no-c-format
msgid ""
"-- Just return count of pixels in each raster tile that have value of 100 of "
"tiles that intersect  a specific geometry --\n"
"SELECT rid, ST_ValueCount(rast,2,100) As count\n"
"    FROM o_4_boston\n"
"        WHERE ST_Intersects(rast,\n"
"            ST_GeomFromText('POLYGON((224486 892151,224486 892200,224706 "
"892200,224706 892151,224486 892151))',26986)\n"
"             ) ;\n"
"\n"
" rid | count\n"
"-----+-------\n"
"   1 |    56\n"
"   2 |    95\n"
"  14 |    37\n"
"  15 |    64"
msgstr ""

#. Tag: para
#: reference_raster.xml:5784
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SetBandNoDataValue\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:5790
#, no-c-format
msgid "Raster Inputs"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5793
#, no-c-format
msgid "ST_RastFromWKB"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5794
#, no-c-format
msgid "Return a raster value from a Well-Known Binary (WKB) raster."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5799
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_RastFromWKB</function></funcdef> "
"<paramdef><type>bytea </type> <parameter>wkb</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5809
#, no-c-format
msgid "Given a Well-Known Binary (WKB) raster, return a raster."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5819
#, no-c-format
msgid ""
"SELECT (ST_Metadata(\n"
"        ST_RastFromWKB(\n"
"                '\\001\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000@"
"\\000\\000\\000\\000\\000\\000\\010@\\000\\000\\000\\000\\000\\000\\340?"
"\\000\\000\\000\\000\\000\\000\\340?"
"\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\012\\000\\000\\000\\012\\000\\024\\000'::"
"bytea\n"
"        )\n"
")).* AS metadata;\n"
"\n"
" upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy "
"| srid | numbands\n"
"------------+------------+-------+--------+--------+--------+-------+-------"
"+------+----------\n"
"        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 "
"|   10 |        0"
msgstr ""

#. Tag: para
#: reference_raster.xml:5825
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RastFromHexWKB\"/>, <xref linkend=\"RT_ST_AsBinary\"/"
">, <xref linkend=\"RT_ST_AsHexWKB\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5836
#, no-c-format
msgid "ST_RastFromHexWKB"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5837
#, no-c-format
msgid ""
"Return a raster value from a Hex representation of Well-Known Binary (WKB) "
"raster."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5842
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_RastFromHexWKB</function></funcdef> "
"<paramdef><type>text </type> <parameter>wkb</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5852
#, no-c-format
msgid ""
"Given a Well-Known Binary (WKB) raster in Hex representation, return a "
"raster."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5862
#, no-c-format
msgid ""
"SELECT (ST_Metadata(\n"
"        ST_RastFromHexWKB(\n"
"                '010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400'\n"
"        )\n"
")).* AS metadata;\n"
"\n"
" upperleftx | upperlefty | width | height | scalex | scaley | skewx | skewy "
"| srid | numbands\n"
"------------+------------+-------+--------+--------+--------+-------+-------"
"+------+----------\n"
"        0.5 |        0.5 |    10 |     20 |      2 |      3 |     0 |     0 "
"|   10 |        0"
msgstr ""

#. Tag: para
#: reference_raster.xml:5868
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_RastFromWKB\"/>, <xref linkend=\"RT_ST_AsBinary\"/>, "
"<xref linkend=\"RT_ST_AsHexWKB\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:5880
#, no-c-format
msgid "Raster Outputs"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5884
#, no-c-format
msgid "ST_AsBinary/ST_AsWKB"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5885
#, no-c-format
msgid "Return the Well-Known Binary (WKB) representation of the raster."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:5889
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bytea <function>ST_AsBinary</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>outasin=FALSE</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bytea "
"<function>ST_AsWKB</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>outasin=FALSE</parameter></paramdef> </"
"funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5906
#, no-c-format
msgid ""
"Returns the Binary representation of the raster. If <varname>outasin</"
"varname> is TRUE, out-db bands are treated as in-db. Refer to raster/doc/"
"RFC2-WellKnownBinaryFormat located in the PostGIS source folder for details "
"of the representation."
msgstr ""

#. Tag: para
#: reference_raster.xml:5911
#, no-c-format
msgid ""
"This is useful in binary cursors to pull data out of the database without "
"converting it to a string representation."
msgstr ""

#. Tag: para
#: reference_raster.xml:5916
#, no-c-format
msgid ""
"By default, WKB output contains the external file path for out-db bands. If "
"the client does not have access to the raster file underlying an out-db "
"band, set <varname>outasin</varname> to TRUE."
msgstr ""

#. Tag: para
#: reference_raster.xml:5920
#, no-c-format
msgid "Enhanced: 2.1.0 Addition of <varname>outasin</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5921
#, no-c-format
msgid "Enhanced: 2.5.0 Addition of <varname>ST_AsWKB</varname>"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5927
#, no-c-format
msgid ""
"SELECT ST_AsBinary(rast) As rastbin FROM dummy_rast WHERE rid=1;\n"
"\n"
"                                         rastbin\n"
"---------------------------------------------------------------------------------\n"
"\\001\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000@"
"\\000\\000\\000\\000\\000\\000\\010@\\000\\000\\000\\000\\000\\000\\340?"
"\\000\\000\\000\\000\\000\\000\\340?"
"\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\012\\000\\000\\000\\012\\000\\024\\000"
msgstr ""

#. Tag: para
#: reference_raster.xml:5933
#, no-c-format
msgid ", <xref linkend=\"RT_ST_AsHexWKB\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5942
#, no-c-format
msgid "ST_AsHexWKB"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5943
#, no-c-format
msgid "Return the Well-Known Binary (WKB) in Hex representation of the raster."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5948
#, no-c-format
msgid ""
"<funcdef>bytea <function>ST_AsHexWKB</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter>outasin=FALSE</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:5959
#, no-c-format
msgid ""
"Returns the Binary representation in Hex representation of the raster. If "
"<varname>outasin</varname> is TRUE, out-db bands are treated as in-db. Refer "
"to raster/doc/RFC2-WellKnownBinaryFormat located in the PostGIS source "
"folder for details of the representation."
msgstr ""

#. Tag: para
#: reference_raster.xml:5965
#, no-c-format
msgid ""
"By default, Hex WKB output contains the external file path for out-db bands. "
"If the client does not have access to the raster file underlying an out-db "
"band, set <varname>outasin</varname> to TRUE."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:5975
#, no-c-format
msgid ""
"SELECT ST_AsHexWKB(rast) As rastbin FROM dummy_rast WHERE rid=1;\n"
"\n"
"                                                        st_ashexwkb\n"
"----------------------------------------------------------------------------------------------------------------------------\n"
" 010000000000000000000000400000000000000840000000000000E03F000000000000E03F000000000000000000000000000000000A0000000A001400"
msgstr ""

#. Tag: para
#: reference_raster.xml:5981
#, no-c-format
msgid ", <xref linkend=\"RT_ST_AsBinary\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:5991
#, no-c-format
msgid "ST_AsGDALRaster"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:5992
#, no-c-format
msgid ""
"Return the raster tile in the designated GDAL Raster format. Raster formats "
"are one of those supported by your compiled library. Use ST_GDALDrivers() to "
"get a list of formats supported by your library."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:5997
#, no-c-format
msgid ""
"<funcdef>bytea <function>ST_AsGDALRaster</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>format</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>srid=sameassource</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6011
#, no-c-format
msgid ""
"Returns the raster tile in the designated format. Arguments are itemized "
"below:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6014
#, no-c-format
msgid ""
"<varname>format</varname> format to output. This is dependent on the drivers "
"compiled in your libgdal library. Generally available are 'JPEG', 'GTIff', "
"'PNG'. Use <xref linkend=\"RT_ST_GDALDrivers\"/> to get a list of formats "
"supported by your library."
msgstr ""

#. Tag: para
#: reference_raster.xml:6019
#, no-c-format
msgid ""
"<varname>options</varname> text array of GDAL options. Valid options are "
"dependent on the format. Refer to <ulink url=\"http://www.gdal.org/"
"frmt_various.html\">GDAL Raster format options</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:6024
#, no-c-format
msgid ""
"<varname>srs</varname> The proj4text or srtext (from spatial_ref_sys) to "
"embed in the image"
msgstr ""

#. Tag: title
#: reference_raster.xml:6034
#, no-c-format
msgid "JPEG Output Example, multiple tiles as single raster"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6036
#, no-c-format
msgid ""
"<![CDATA[SELECT ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50']) "
"As rastjpg\n"
"FROM dummy_rast\n"
"WHERE rast && ST_MakeEnvelope(10, 10, 11, 11);]]>"
msgstr ""

#. Tag: title
#: reference_raster.xml:6041
#, no-c-format
msgid "Using PostgreSQL Large Object Support to export raster"
msgstr ""

#. Tag: para
#: reference_raster.xml:6042
#, no-c-format
msgid ""
"One way to export raster into another format is using <ulink url=\"https://"
"www.postgresql.org/docs/current/static/lo-funcs.html\">PostgreSQL large "
"object export functions</ulink>. We'lll repeat the prior example but also "
"exporting. Note for this you'll need to have super user access to db since "
"it uses server side lo functions. It will also export to path on server "
"network. If you need export locally, use the psql equivalent lo_ functions "
"which export to the local file system instead of the server file system."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6046
#, no-c-format
msgid ""
"<![CDATA[DROP TABLE IF EXISTS tmp_out ;\n"
"\n"
"CREATE TABLE tmp_out AS\n"
"SELECT lo_from_bytea(0,\n"
"       ST_AsGDALRaster(ST_Union(rast), 'JPEG', ARRAY['QUALITY=50'])\n"
"        ) AS loid\n"
"  FROM dummy_rast\n"
"WHERE rast && ST_MakeEnvelope(10, 10, 11, 11);\n"
"\n"
"SELECT lo_export(loid, '/tmp/dummy.jpg')\n"
"   FROM tmp_out;\n"
"\n"
"SELECT lo_unlink(loid)\n"
"  FROM tmp_out;]]>"
msgstr ""

#. Tag: title
#: reference_raster.xml:6050
#, no-c-format
msgid "GTIFF Output Examples"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6052
#, no-c-format
msgid ""
"SELECT ST_AsGDALRaster(rast, 'GTiff') As rastjpg\n"
"FROM dummy_rast WHERE rid=2;\n"
"\n"
"-- Out GeoTiff with jpeg compression, 90% quality\n"
"SELECT ST_AsGDALRaster(rast, 'GTiff',\n"
"  ARRAY['COMPRESS=JPEG', 'JPEG_QUALITY=90'],\n"
"  4269) As rasttiff\n"
"FROM dummy_rast WHERE rid=2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6059
#, no-c-format
msgid ", <xref linkend=\"RT_ST_GDALDrivers\"/>, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6065
#, no-c-format
msgid "ST_AsJPEG"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6066
#, no-c-format
msgid ""
"Return the raster tile selected bands as a single Joint Photographic Exports "
"Group (JPEG) image (byte array). If no band is specified and 1 or more than "
"3 bands, then only the first band is used. If only 3 bands then all 3 bands "
"are used and mapped to RGB."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:6070
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bytea <function>ST_AsJPEG</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bytea "
"<function>ST_AsJPEG</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>quality</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>bytea <function>ST_AsJPEG</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bytea "
"<function>ST_AsJPEG</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer[] </type> "
"<parameter>nbands</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text[] </type> <parameter>options=NULL</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>bytea <function>ST_AsJPEG</"
"function></funcdef> <paramdef><type>raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>integer[] </type> <parameter>nbands</"
"parameter></paramdef> <paramdef><type>integer </type> <parameter>quality</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6106
#, no-c-format
msgid ""
"Returns the selected bands of the raster as a single Joint Photographic "
"Exports Group Image (JPEG). Use <xref linkend=\"RT_ST_AsGDALRaster\"/> if "
"you need to export as less common raster types. If no band is specified and "
"1 or more than 3 bands, then only the first band is used. If 3 bands then "
"all 3 bands are used. There are many variants of the function with many "
"options. These are itemized below:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6109 reference_raster.xml:6200
#, no-c-format
msgid "<varname>nband</varname> is for single band exports."
msgstr ""

#. Tag: para
#: reference_raster.xml:6114
#, no-c-format
msgid ""
"<varname>nbands</varname> is an array of bands to export (note that max is 3 "
"for JPEG) and the order of the bands is RGB. e.g ARRAY[3,2,1] means map band "
"3 to Red, band 2 to green and band 1 to blue"
msgstr ""

#. Tag: para
#: reference_raster.xml:6119
#, no-c-format
msgid ""
"<varname>quality</varname> number from 0 to 100. The higher the number the "
"crisper the image."
msgstr ""

#. Tag: para
#: reference_raster.xml:6124
#, no-c-format
msgid ""
"<varname>options</varname> text Array of GDAL options as defined for JPEG "
"(look at create_options for JPEG <xref linkend=\"RT_ST_GDALDrivers\"/>). For "
"JPEG valid ones are <varname>PROGRESSIVE</varname> ON or OFF and "
"<varname>QUALITY</varname> a range from 0 to 100 and default to 75. Refer to "
"<ulink url=\"http://www.gdal.org/frmt_various.html\">GDAL Raster format "
"options</ulink> for more details."
msgstr ""

#. Tag: title
#: reference_raster.xml:6141
#, no-c-format
msgid "Examples: Output"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6143
#, no-c-format
msgid ""
"-- output first 3 bands 75% quality\n"
"SELECT ST_AsJPEG(rast) As rastjpg\n"
"    FROM dummy_rast WHERE rid=2;\n"
"\n"
"-- output only first band as 90% quality\n"
"SELECT ST_AsJPEG(rast,1,90) As rastjpg\n"
"    FROM dummy_rast WHERE rid=2;\n"
"\n"
"-- output first 3 bands (but make band 2 Red, band 1 green, and band 3 blue, "
"progressive and 90% quality\n"
"SELECT ST_AsJPEG(rast,ARRAY[2,1,3],ARRAY['QUALITY=90','PROGRESSIVE=ON']) As "
"rastjpg\n"
"    FROM dummy_rast WHERE rid=2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6150
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_GDALDrivers\"/>, <xref linkend=\"RT_ST_AsGDALRaster"
"\"/>, <xref linkend=\"RT_ST_AsPNG\"/>, <xref linkend=\"RT_ST_AsTIFF\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6156
#, no-c-format
msgid "ST_AsPNG"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6157
#, no-c-format
msgid ""
"Return the raster tile selected bands as a single portable network graphics "
"(PNG) image (byte array). If 1, 3, or 4 bands in raster and no bands are "
"specified, then all bands are used. If more 2 or more than 4 bands and no "
"bands specified, then only band 1 is used. Bands are mapped to RGB or RGBA "
"space."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:6161
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bytea <function>ST_AsPNG</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bytea "
"<function>ST_AsPNG</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>compression</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bytea <function>ST_AsPNG</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>bytea "
"<function>ST_AsPNG</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer[] </type> "
"<parameter>nbands</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>compression</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bytea <function>ST_AsPNG</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer[] </type> <parameter>nbands</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=NULL</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6197
#, no-c-format
msgid ""
"Returns the selected bands of the raster as a single Portable Network "
"Graphics Image (PNG). Use <xref linkend=\"RT_ST_AsGDALRaster\"/> if you need "
"to export as less common raster types. If no band is specified, then the "
"first 3 bands are exported. There are many variants of the function with "
"many options. If no <varname>srid</varname> is specified then then srid of "
"the raster is used. These are itemized below:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6205
#, no-c-format
msgid ""
"<varname>nbands</varname> is an array of bands to export (note that max is 4 "
"for PNG) and the order of the bands is RGBA. e.g ARRAY[3,2,1] means map band "
"3 to Red, band 2 to green and band 1 to blue"
msgstr ""

#. Tag: para
#: reference_raster.xml:6210
#, no-c-format
msgid ""
"<varname>compression</varname> number from 1 to 9. The higher the number the "
"greater the compression."
msgstr ""

#. Tag: para
#: reference_raster.xml:6215
#, no-c-format
msgid ""
"<varname>options</varname> text Array of GDAL options as defined for PNG "
"(look at create_options for PNG of <xref linkend=\"RT_ST_GDALDrivers\"/>). "
"For PNG valid one is only ZLEVEL (amount of time to spend on compression -- "
"default 6) e.g. ARRAY['ZLEVEL=9']. WORLDFILE is not allowed since the "
"function would have to output two outputs. Refer to <ulink url=\"http://www."
"gdal.org/frmt_various.html\">GDAL Raster format options</ulink> for more "
"details."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6234
#, no-c-format
msgid ""
"SELECT ST_AsPNG(rast) As rastpng\n"
"FROM dummy_rast WHERE rid=2;\n"
"\n"
"-- export the first 3 bands and map band 3 to Red, band 1 to Green, band 2 "
"to blue\n"
"SELECT ST_AsPNG(rast, ARRAY[3,1,2]) As rastpng\n"
"FROM dummy_rast WHERE rid=2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6241
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_ColorMap\"/>, <xref linkend=\"RT_ST_GDALDrivers\"/>, "
"<xref linkend=\"RT_Raster_Applications\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6247
#, no-c-format
msgid "ST_AsTIFF"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6248
#, no-c-format
msgid ""
"Return the raster selected bands as a single TIFF image (byte array). If no "
"band is specified or any of specified bands does not exist in the raster, "
"then will try to use all bands."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:6252
#, no-c-format
msgid ""
"<funcprototype> <funcdef>bytea <function>ST_AsTIFF</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>options=''</"
"parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>srid=sameassource</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bytea <function>ST_AsTIFF</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>compression=''</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>srid=sameassource</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bytea <function>ST_AsTIFF</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer[] </type> <parameter>nbands</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>compression=''</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>srid=sameassource</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>bytea <function>ST_AsTIFF</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer[] </type> <parameter>nbands</parameter></paramdef> "
"<paramdef><type>text[] </type> <parameter>options</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>srid=sameassource</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6285
#, no-c-format
msgid ""
"Returns the selected bands of the raster as a single Tagged Image File "
"Format (TIFF). If no band is specified, will try to use all bands. This is a "
"wrapper around <xref linkend=\"RT_ST_AsGDALRaster\"/>. Use <xref linkend="
"\"RT_ST_AsGDALRaster\"/> if you need to export as less common raster types. "
"There are many variants of the function with many options. If no spatial "
"reference SRS text is present, the spatial reference of the raster is used. "
"These are itemized below:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6288
#, no-c-format
msgid ""
"<varname>nbands</varname> is an array of bands to export (note that max is 3 "
"for PNG) and the order of the bands is RGB. e.g ARRAY[3,2,1] means map band "
"3 to Red, band 2 to green and band 1 to blue"
msgstr ""

#. Tag: para
#: reference_raster.xml:6293
#, no-c-format
msgid ""
"<varname>compression</varname> Compression expression -- JPEG90 (or some "
"other percent), LZW, JPEG, DEFLATE9."
msgstr ""

#. Tag: para
#: reference_raster.xml:6298
#, no-c-format
msgid ""
"<varname>options</varname> text Array of GDAL create options as defined for "
"GTiff (look at create_options for GTiff of <xref linkend=\"RT_ST_GDALDrivers"
"\"/>). or refer to <ulink url=\"http://www.gdal.org/frmt_various.html\">GDAL "
"Raster format options</ulink> for more details."
msgstr ""

#. Tag: para
#: reference_raster.xml:6303
#, no-c-format
msgid ""
"<varname>srid</varname> srid of spatial_ref_sys of the raster. This is used "
"to populate the georeference information"
msgstr ""

#. Tag: title
#: reference_raster.xml:6312
#, no-c-format
msgid "Examples: Use jpeg compression 90%"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6314
#, no-c-format
msgid ""
"SELECT ST_AsTIFF(rast, 'JPEG90') As rasttiff\n"
"FROM dummy_rast WHERE rid=2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6321
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_AsGDALRaster\"/>, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:6327
#, no-c-format
msgid "Raster Processing: Map Algebra"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6331
#, no-c-format
msgid "ST_Clip"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6332
#, no-c-format
msgid ""
"Returns the raster clipped by the input geometry. If band number not is "
"specified, all bands are processed. If <varname>crop</varname> is not "
"specified or TRUE, the output raster is cropped."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:6336
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Clip</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer[] </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision[] </type> "
"<parameter>nodataval=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>crop=TRUE</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Clip</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>nband</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>geom</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>nodataval</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>crop=TRUE</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_Clip</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>crop</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Clip</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>geom</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision[] </type> "
"<parameter>nodataval=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>crop=TRUE</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Clip</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>geom</parameter></"
"paramdef> <paramdef><type>double precision </type> <parameter>nodataval</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>crop=TRUE</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_Clip</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>geometry </type> <parameter>geom</parameter></paramdef> "
"<paramdef><type>boolean </type> <parameter>crop</parameter></paramdef> </"
"funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6393
#, no-c-format
msgid ""
"Returns a raster that is clipped by the input geometry <varname>geom</"
"varname>. If band index is not specified, all bands are processed."
msgstr ""

#. Tag: para
#: reference_raster.xml:6397
#, no-c-format
msgid ""
"Rasters resulting from ST_Clip must have a nodata value assigned for areas "
"clipped, one for each band. If none are provided and the input raster do not "
"have a nodata value defined, nodata values of the resulting raster are set "
"to ST_MinPossibleValue(ST_BandPixelType(rast, band)). When the number of "
"nodata value in the array is smaller than the number of band, the last one "
"in the array is used for the remaining bands. If the number of nodata value "
"is greater than the number of band, the extra nodata values are ignored. All "
"variants accepting an array of nodata values also accept a single value "
"which will be assigned to each band."
msgstr ""

#. Tag: para
#: reference_raster.xml:6401
#, no-c-format
msgid ""
"If <varname>crop</varname> is not specified, true is assumed meaning the "
"output raster is cropped to the intersection of the <varname>geom</"
"varname>and <varname>rast</varname> extents. If <varname>crop</varname> is "
"set to false, the new raster gets the same extent as <varname>rast</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6407
#, no-c-format
msgid "Enhanced: 2.1.0 Rewritten in C"
msgstr ""

#. Tag: para
#: reference_raster.xml:6409
#, no-c-format
msgid ""
"Examples here use Massachusetts aerial data available on MassGIS site <ulink "
"url=\"http://www.mass.gov/mgis/colororthos2008.htm\">MassGIS Aerial Orthos</"
"ulink>. Coordinates are in Massachusetts State Plane Meters."
msgstr ""

#. Tag: title
#: reference_raster.xml:6415
#, no-c-format
msgid "Examples: 1 band clipping"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6417
#, no-c-format
msgid ""
"-- Clip the first band of an aerial tile by a 20 meter buffer.\n"
"SELECT ST_Clip(rast, 1,\n"
"                ST_Buffer(ST_Centroid(ST_Envelope(rast)),20)\n"
"        ) from aerials.boston\n"
"WHERE rid = 4;"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6419
#, no-c-format
msgid ""
"-- Demonstrate effect of crop on final dimensions of raster\n"
"-- Note how final extent is clipped to that of the geometry\n"
"-- if crop = true\n"
"SELECT ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, true))) As "
"xmax_w_trim,\n"
"        ST_XMax(clipper) As xmax_clipper,\n"
"        ST_XMax(ST_Envelope(ST_Clip(rast, 1, clipper, false))) As "
"xmax_wo_trim,\n"
"        ST_XMax(ST_Envelope(rast)) As xmax_rast_orig\n"
"FROM (SELECT rast, ST_Buffer(ST_Centroid(ST_Envelope(rast)),6) As clipper\n"
"        FROM aerials.boston\n"
"WHERE rid = 6) As foo;\n"
"\n"
"   xmax_w_trim    |   xmax_clipper   |   xmax_wo_trim   |  xmax_rast_orig\n"
"------------------+------------------+------------------+------------------\n"
" 230657.436173996 | 230657.436173996 | 230666.436173996 | 230666.436173996"
msgstr ""

#. Tag: para
#: reference_raster.xml:6433 reference_raster.xml:6476
#: reference_raster.xml:6519
#, no-c-format
msgid "Full raster tile before clipping"
msgstr ""

#. Tag: para
#: reference_raster.xml:6447 reference_raster.xml:6533
#, no-c-format
msgid "After Clipping"
msgstr ""

#. Tag: title
#: reference_raster.xml:6460
#, no-c-format
msgid ""
"Examples: 1 band clipping with no crop and add back other bands unchanged"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6462
#, no-c-format
msgid ""
"-- Same example as before, but we need to set crop to false to be able to "
"use ST_AddBand\n"
"-- because ST_AddBand requires all bands be the same Width and height\n"
"SELECT ST_AddBand(ST_Clip(rast, 1,\n"
"                ST_Buffer(ST_Centroid(ST_Envelope(rast)),20),false\n"
"        ), ARRAY[ST_Band(rast,2),ST_Band(rast,3)] ) from aerials.boston\n"
"WHERE rid = 6;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6490
#, no-c-format
msgid "After Clipping - surreal"
msgstr ""

#. Tag: title
#: reference_raster.xml:6503
#, no-c-format
msgid "Examples: Clip all bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6505
#, no-c-format
msgid ""
"-- Clip all bands of an aerial tile by a 20 meter buffer.\n"
"-- Only difference is we don't specify a specific band to clip\n"
"-- so all bands are clipped\n"
"SELECT ST_Clip(rast,\n"
"          ST_Buffer(ST_Centroid(ST_Envelope(rast)), 20),\n"
"          false\n"
"        ) from aerials.boston\n"
"WHERE rid = 4;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6548
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Intersection\"/"
">"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6558
#, no-c-format
msgid "ST_ColorMap"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6559
#, no-c-format
msgid ""
"Creates a new raster of up to four 8BUI bands (grayscale, RGB, RGBA) from "
"the source raster and a specified band. Band 1 is assumed if not specified."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:6564
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_ColorMap</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>colormap=grayscale</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>method=INTERPOLATE</parameter></paramdef>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:6574
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_ColorMap</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>colormap</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>method=INTERPOLATE</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6586
#, no-c-format
msgid ""
"Apply a <varname>colormap</varname> to the band at <varname>nband</varname> "
"of <varname>rast</varname> resulting a new raster comprised of up to four "
"8BUI bands. The number of 8BUI bands in the new raster is determined by the "
"number of color components defined in <varname>colormap</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6590
#, no-c-format
msgid "If <varname>nband</varname> is not specified, then band 1 is assumed."
msgstr ""

#. Tag: para
#: reference_raster.xml:6592
#, no-c-format
msgid ""
"<varname>colormap</varname> can be a keyword of a pre-defined colormap or a "
"set of lines defining the value and the color components."
msgstr ""

#. Tag: para
#: reference_raster.xml:6596
#, no-c-format
msgid "Valid pre-defined <varname>colormap</varname> keyword:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6602
#, no-c-format
msgid ""
"<varname>grayscale</varname> or <varname>greyscale</varname> for a one 8BUI "
"band raster of shades of gray."
msgstr ""

#. Tag: para
#: reference_raster.xml:6607
#, no-c-format
msgid ""
"<varname>pseudocolor</varname> for a four 8BUI (RGBA) band raster with "
"colors going from blue to green to red."
msgstr ""

#. Tag: para
#: reference_raster.xml:6612
#, no-c-format
msgid ""
"<varname>fire</varname> for a four 8BUI (RGBA) band raster with colors going "
"from black to red to pale yellow."
msgstr ""

#. Tag: para
#: reference_raster.xml:6617
#, no-c-format
msgid ""
"<varname>bluered</varname> for a four 8BUI (RGBA) band raster with colors "
"going from blue to pale white to red."
msgstr ""

#. Tag: para
#: reference_raster.xml:6623
#, no-c-format
msgid ""
"Users can pass a set of entries (one per line) to <varname>colormap</"
"varname> to specify custom colormaps. Each entry generally consists of five "
"values: the pixel value and corresponding Red, Green, Blue, Alpha components "
"(color components between 0 and 255). Percent values can be used instead of "
"pixel values where 0% and 100% are the minimum and maximum values found in "
"the raster band. Values can be separated with commas (','), tabs, colons "
"(':') and/or spaces. The pixel value can be set to <emphasis>nv</emphasis>, "
"<emphasis>null</emphasis> or <emphasis>nodata</emphasis> for the NODATA "
"value. An example is provided below."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6627
#, no-c-format
msgid ""
"5 0 0 0 255\n"
"4 100:50 55 255\n"
"1 150,100 150 255\n"
"0% 255 255 255 255\n"
"nv 0 0 0 0"
msgstr ""

#. Tag: para
#: reference_raster.xml:6629
#, no-c-format
msgid ""
"The syntax of <varname>colormap</varname> is similar to that of the color-"
"relief mode of GDAL <ulink url=\"http://www.gdal.org/gdaldem."
"html#gdaldem_color_relief\">gdaldem</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6633
#, no-c-format
msgid "Valid keywords for <varname>method</varname>:"
msgstr ""

#. Tag: para
#: reference_raster.xml:6639
#, no-c-format
msgid ""
"<varname>INTERPOLATE</varname> to use linear interpolation to smoothly blend "
"the colors between the given pixel values"
msgstr ""

#. Tag: para
#: reference_raster.xml:6644
#, no-c-format
msgid ""
"<varname>EXACT</varname> to strictly match only those pixels values found in "
"the colormap. Pixels whose value does not match a colormap entry will be set "
"to 0 0 0 0 (RGBA)"
msgstr ""

#. Tag: para
#: reference_raster.xml:6649
#, no-c-format
msgid ""
"<varname>NEAREST</varname> to use the colormap entry whose value is closest "
"to the pixel value"
msgstr ""

#. Tag: para
#: reference_raster.xml:6656
#, no-c-format
msgid ""
"A great reference for colormaps is <ulink url=\"http://www.colorbrewer2.org"
"\">ColorBrewer</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6661
#, no-c-format
msgid ""
"The resulting bands of new raster will have no NODATA value set. Use <xref "
"linkend=\"RT_ST_SetBandNoDataValue\"/> to set a NODATA value if one is "
"needed."
msgstr ""

#. Tag: para
#: reference_raster.xml:6671
#, no-c-format
msgid "This is a junk table to play with"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6673
#, no-c-format
msgid ""
"-- setup test raster table --\n"
"DROP TABLE IF EXISTS funky_shapes;\n"
"CREATE TABLE funky_shapes(rast raster);\n"
"\n"
"INSERT INTO funky_shapes(rast)\n"
"WITH ref AS (\n"
"        SELECT ST_MakeEmptyRaster( 200, 200, 0, 200, 1, -1, 0, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_Union(rast)\n"
"FROM (\n"
"        SELECT\n"
"                ST_AsRaster(\n"
"                        ST_Rotate(\n"
"                                ST_Buffer(\n"
"                                        ST_GeomFromText('LINESTRING(0 2,50 "
"50,150 150,125 50)'),\n"
"                                        i*2\n"
"                                ),\n"
"                                pi() * i * 0.125, ST_Point(50,50)\n"
"                        ),\n"
"                        ref.rast, '8BUI'::text, i * 5\n"
"                ) AS rast\n"
"        FROM ref\n"
"        CROSS JOIN generate_series(1, 10, 3) AS i\n"
") AS shapes;"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6675
#, no-c-format
msgid ""
"SELECT\n"
"        ST_NumBands(rast) As n_orig,\n"
"        ST_NumBands(ST_ColorMap(rast,1, 'greyscale')) As ngrey,\n"
"        ST_NumBands(ST_ColorMap(rast,1, 'pseudocolor')) As npseudo,\n"
"        ST_NumBands(ST_ColorMap(rast,1, 'fire')) As nfire,\n"
"        ST_NumBands(ST_ColorMap(rast,1, 'bluered')) As nbluered,\n"
"        ST_NumBands(ST_ColorMap(rast,1, '\n"
"100% 255   0   0\n"
" 80% 160   0   0\n"
" 50% 130   0   0\n"
" 30%  30   0   0\n"
" 20%  60   0   0\n"
"  0%   0   0   0\n"
"  nv 255 255 255\n"
"        ')) As nred\n"
"FROM funky_shapes;"
msgstr ""

#. Tag: screen
#: reference_raster.xml:6677
#, no-c-format
msgid ""
"n_orig | ngrey | npseudo | nfire | nbluered | nred\n"
"--------+-------+---------+-------+----------+------\n"
"      1 |     1 |       4 |     4 |        4 |    3"
msgstr ""

#. Tag: title
#: reference_raster.xml:6681
#, no-c-format
msgid "Examples: Compare different color map looks using ST_AsPNG"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6682
#, no-c-format
msgid ""
"SELECT\n"
"        ST_AsPNG(rast) As orig_png,\n"
"        ST_AsPNG(ST_ColorMap(rast,1,'greyscale')) As grey_png,\n"
"        ST_AsPNG(ST_ColorMap(rast,1, 'pseudocolor')) As pseudo_png,\n"
"        ST_AsPNG(ST_ColorMap(rast,1, 'nfire')) As fire_png,\n"
"        ST_AsPNG(ST_ColorMap(rast,1, 'bluered')) As bluered_png,\n"
"        ST_AsPNG(ST_ColorMap(rast,1, '\n"
"100% 255   0   0\n"
" 80% 160   0   0\n"
" 50% 130   0   0\n"
" 30%  30   0   0\n"
" 20%  60   0   0\n"
"  0%   0   0   0\n"
"  nv 255 255 255\n"
"        ')) As red_png\n"
"FROM funky_shapes;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6696
#, no-c-format
msgid "orig_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6710
#, no-c-format
msgid "grey_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6724
#, no-c-format
msgid "pseudo_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6740
#, no-c-format
msgid "fire_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6754
#, no-c-format
msgid "bluered_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6768
#, no-c-format
msgid "red_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6782
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_AsRaster\"/> <xref linkend=\"RT_ST_MapAlgebra\"/>, "
"<xref linkend=\"RT_ST_Grayscale\"/> <xref linkend=\"RT_ST_NumBands\"/>, "
"<xref linkend=\"RT_ST_Reclass\"/>, <xref linkend=\"RT_ST_SetBandNoDataValue"
"\"/>, <xref linkend=\"RT_ST_Union\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6797
#, no-c-format
msgid "ST_Grayscale"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6798
#, no-c-format
msgid ""
"Creates a new one-8BUI band raster from the source raster and specified "
"bands representing Red, Green and Blue"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:6803
#, no-c-format
msgid ""
"<funcdef>(1) raster <function>ST_Grayscale</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>redband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>greenband=2</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>blueband=3</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>extenttype=INTERSECTION</parameter></paramdef>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:6814
#, no-c-format
msgid ""
"<funcdef>(2) raster <function>ST_Grayscale</function></funcdef> "
"<paramdef><type>rastbandarg[] </type> <parameter>rastbandargset</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>extenttype=INTERSECTION</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6825
#, no-c-format
msgid ""
"Create a raster with one 8BUI band given three input bands (from one or more "
"rasters). Any input band whose pixel type is not 8BUI will be reclassified "
"using <xref linkend=\"RT_ST_Reclass\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6830
#, no-c-format
msgid ""
"This function is not like <xref linkend=\"RT_ST_ColorMap\"/> with the "
"<varname>grayscale</varname> keyword as ST_ColorMap operates on only one "
"band while this function expects three bands for RGB. This function applies "
"the following equation for converting RGB to Grayscale: 0.2989 * RED + "
"0.5870 * GREEN + 0.1140 * BLUE"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6842
#, no-c-format
msgid ""
"SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';\n"
"SET postgis.enable_outdb_rasters = True;\n"
"\n"
"WITH apple AS (\n"
"        SELECT ST_AddBand(\n"
"                ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),\n"
"                '/tmp/apple.png'::text,\n"
"                NULL::int[]\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        ST_AsPNG(rast) AS original_png,\n"
"        ST_AsPNG(ST_Grayscale(rast)) AS grayscale_png\n"
"FROM apple;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6856
#, no-c-format
msgid "original_png"
msgstr ""

#. Tag: para
#: reference_raster.xml:6870
#, no-c-format
msgid "grayscale_png"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:6886
#, no-c-format
msgid ""
"SET postgis.gdal_enabled_drivers = 'ENABLE_ALL';\n"
"SET postgis.enable_outdb_rasters = True;\n"
"\n"
"WITH apple AS (\n"
"        SELECT ST_AddBand(\n"
"                ST_MakeEmptyRaster(350, 246, 0, 0, 1, -1, 0, 0, 0),\n"
"                '/tmp/apple.png'::text,\n"
"                NULL::int[]\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        ST_AsPNG(rast) AS original_png,\n"
"        ST_AsPNG(ST_Grayscale(\n"
"                ARRAY[\n"
"                        ROW(rast, 1)::rastbandarg, -- red\n"
"                        ROW(rast, 2)::rastbandarg, -- green\n"
"                        ROW(rast, 3)::rastbandarg, -- blue\n"
"                ]::rastbandarg[]\n"
"        )) AS grayscale_png\n"
"FROM apple;"
msgstr ""

#. Tag: para
#: reference_raster.xml:6891
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Reclass\"/>, <xref linkend=\"RT_ST_ColorMap\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:6902
#, no-c-format
msgid "ST_Intersection"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:6903
#, no-c-format
msgid ""
"<refpurpose>Returns a raster or a set of geometry-pixelvalue pairs "
"representing the shared portion of two rasters or the geometrical "
"intersection of a vectorization of the raster and a geometry.</refpurpose>"
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:6907
#, no-c-format
msgid ""
"<funcprototype> <funcdef>setof geomval <function>ST_Intersection</function></"
"funcdef> <paramdef><type>geometry </type> <parameter>geom</parameter></"
"paramdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>band_num=1</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>setof geomval <function>ST_Intersection</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>geometry </type> <parameter>geom</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>setof geomval "
"<function>ST_Intersection</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>band</parameter></paramdef> <paramdef><type>geometry </type> "
"<parameter>geomin</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_Intersection</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast1</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>rast2</parameter></paramdef> "
"<paramdef><type>double precision[] </type> <parameter>nodataval</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Intersection</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast1</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>rast2</parameter></paramdef> <paramdef choice=\"opt\"><type>text "
"</type> <parameter>returnband</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision[] </type> <parameter>nodataval</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Intersection</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast1</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>band1</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>rast2</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>band2</parameter></paramdef> <paramdef><type>double precision[] </"
"type> <parameter>nodataval</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Intersection</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast1</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band1</parameter></"
"paramdef> <paramdef><type>raster </type> <parameter>rast2</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band2</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> <parameter>returnband</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision[] </"
"type> <parameter>nodataval</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6967
#, no-c-format
msgid ""
"<para>Returns a raster or a set of geometry-pixelvalue pairs representing "
"the shared portion of two rasters or the geometrical intersection of a "
"vectorization of the raster and a geometry.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:6971
#, no-c-format
msgid ""
"The first three variants, returning a setof geomval, works in vector space. "
"The raster is first vectorized (using <xref linkend=\"RT_ST_DumpAsPolygons\"/"
">) into a set of geomval rows and those rows are then intersected with the "
"geometry using the <xref linkend=\"ST_Intersection\"/> (geometry, geometry) "
"PostGIS function. Geometries intersecting only with a nodata value area of a "
"raster returns an empty geometry. They are normally excluded from the "
"results by the proper usage of <xref linkend=\"RT_ST_Intersects\"/> in the "
"WHERE clause."
msgstr ""

#. Tag: para
#: reference_raster.xml:6975
#, no-c-format
msgid ""
"You can access the geometry and the value parts of the resulting set of "
"geomval by surrounding them with parenthesis and adding '.geom' or '.val' at "
"the end of the expression. e.g. (ST_Intersection(rast, geom)).geom"
msgstr ""

#. Tag: para
#: reference_raster.xml:6979
#, no-c-format
msgid ""
"The other variants, returning a raster, works in raster space. They are "
"using the two rasters version of ST_MapAlgebraExpr to perform the "
"intersection."
msgstr ""

#. Tag: para
#: reference_raster.xml:6983
#, no-c-format
msgid ""
"The extent of the resulting raster corresponds to the geometrical "
"intersection of the two raster extents. The resulting raster includes "
"'BAND1', 'BAND2' or 'BOTH' bands, following what is passed as the "
"<varname>returnband</varname> parameter. Nodata value areas present in any "
"band results in nodata value areas in every bands of the result. In other "
"words, any pixel intersecting with a nodata value pixel becomes a nodata "
"value pixel in the result."
msgstr ""

#. Tag: para
#: reference_raster.xml:6987
#, no-c-format
msgid ""
"Rasters resulting from ST_Intersection must have a nodata value assigned for "
"areas not intersecting. You can define or replace the nodata value for any "
"resulting band by providing a <varname>nodataval[]</varname> array of one or "
"two nodata values depending if you request 'BAND1', 'BAND2' or 'BOTH' bands. "
"The first value in the array replace the nodata value in the first band and "
"the second value replace the nodata value in the second band. If one input "
"band do not have a nodata value defined and none are provided as an array, "
"one is chosen using the ST_MinPossibleValue function. All variant accepting "
"an array of nodata value can also accept a single value which will be "
"assigned to each requested band."
msgstr ""

#. Tag: para
#: reference_raster.xml:6991
#, no-c-format
msgid ""
"In all variants, if no band number is specified band 1 is assumed. If you "
"need an intersection between a raster and geometry that returns a raster, "
"refer to <xref linkend=\"RT_ST_Clip\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:6996
#, no-c-format
msgid ""
"To get more control on the resulting extent or on what to return when "
"encountering a nodata value, use the two rasters version of <xref linkend="
"\"RT_ST_MapAlgebraExpr2\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:7002
#, no-c-format
msgid ""
"To compute the intersection of a raster band with a geometry in raster "
"space, use <xref linkend=\"RT_ST_Clip\"/>. ST_Clip works on multiple bands "
"rasters and does not return a band corresponding to the rasterized geometry."
msgstr ""

#. Tag: para
#: reference_raster.xml:7008
#, no-c-format
msgid ""
"ST_Intersection should be used in conjunction with <xref linkend="
"\"RT_ST_Intersects\"/> and an index on the raster column and/or the geometry "
"column."
msgstr ""

#. Tag: para
#: reference_raster.xml:7013
#, no-c-format
msgid ""
"Enhanced: 2.0.0 - Intersection in the raster space was introduced. In "
"earlier pre-2.0.0 versions, only intersection performed in vector space were "
"supported."
msgstr ""

#. Tag: title
#: reference_raster.xml:7019
#, no-c-format
msgid "Examples: Geometry, Raster -- resulting in geometry vals"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7021
#, no-c-format
msgid ""
"SELECT\n"
"        foo.rid,\n"
"        foo.gid,\n"
"        ST_AsText((foo.geomval).geom) As geomwkt,\n"
"        (foo.geomval).val\n"
"FROM (\n"
"        SELECT\n"
"                A.rid,\n"
"                g.gid,\n"
"                ST_Intersection(A.rast, g.geom) As geomval\n"
"        FROM dummy_rast AS A\n"
"        CROSS JOIN (\n"
"                VALUES\n"
"                        (1, ST_Point(3427928, 5793243.85) ),\n"
"                        (2, ST_GeomFromText('LINESTRING(3427927.85 "
"5793243.75,3427927.8 5793243.75,3427927.8 5793243.8)')),\n"
"                        (3, ST_GeomFromText('LINESTRING(1 2, 3 4)'))\n"
"        ) As g(gid,geom)\n"
"        WHERE A.rid = 2\n"
") As foo;\n"
"\n"
" rid | gid |      "
"geomwkt                                                                                                "
"| val\n"
"-----+-----"
"+---------------------------------------------------------------------------------------------\n"
"   2 |   1 | POINT(3427928 "
"5793243.85)                                                                        "
"| 249\n"
"   2 |   1 | POINT(3427928 "
"5793243.85)                                                                        "
"| 253\n"
"   2 |   2 | POINT(3427927.85 "
"5793243.75)                                                                | "
"254\n"
"   2 |   2 | POINT(3427927.8 "
"5793243.8)                                                                        "
"| 251\n"
"   2 |   2 | POINT(3427927.8 "
"5793243.8)                                                                        "
"| 253\n"
"   2 |   2 | LINESTRING(3427927.8 5793243.75,3427927.8 5793243.8)        | "
"252\n"
"   2 |   2 | MULTILINESTRING((3427927.8 5793243.8,3427927.8 5793243.75),...) "
"| 250\n"
"   2 |   3 | GEOMETRYCOLLECTION EMPTY"
msgstr ""

#. Tag: para
#: reference_raster.xml:7026
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Intersects\"/>, <xref linkend="
"\"RT_ST_MapAlgebraExpr2\"/>, <xref linkend=\"RT_ST_Clip\"/>, <xref linkend="
"\"ST_AsText\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:7038
#, no-c-format
msgid "ST_MapAlgebra (callback function version)"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:7039
#, no-c-format
msgid ""
"Callback function version - Returns a one-band raster given one or more "
"input rasters, band indexes and one user-specified callback function."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:7045
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>rastbandarg[] </type> <parameter>rastbandargset</parameter></"
"paramdef> <paramdef><type>regprocedure </type> <parameter>callbackfunc</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>extenttype=INTERSECTION</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>raster </type> "
"<parameter>customextent=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>distancex=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>distancey=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text[] </type> "
"<parameter>VARIADIC userargs=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer[] </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>regprocedure </type> <parameter>callbackfunc</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>extenttype=FIRST</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>raster </type> <parameter>customextent=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>distancex=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>distancey=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>VARIADIC "
"userargs=NULL</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>regprocedure </type> <parameter>callbackfunc</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>extenttype=FIRST</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>raster </type> <parameter>customextent=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>integer </type> "
"<parameter>distancex=0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>distancey=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text[] </type> <parameter>VARIADIC "
"userargs=NULL</parameter></paramdef> </funcprototype> <funcprototype> "
"<funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast1</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband1</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>rast2</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband2</parameter></paramdef> "
"<paramdef><type>regprocedure </type> <parameter>callbackfunc</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>extenttype=INTERSECTION</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>raster </type> "
"<parameter>customextent=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>integer </type> <parameter>distancex=0</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>distancey=0</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text[] </type> "
"<parameter>VARIADIC userargs=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster</type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer</type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>regprocedure </type> <parameter>callbackfunc</parameter></"
"paramdef> <paramdef><type>float8[] </type> <parameter>mask</parameter></"
"paramdef> <paramdef><type>boolean </type> <parameter>weighted</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>extenttype=INTERSECTION</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>raster </type> "
"<parameter>customextent=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text[] </type> <parameter>VARIADIC userargs=NULL</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7118
#, no-c-format
msgid ""
"Returns a one-band raster given one or more input rasters, band indexes and "
"one user-specified callback function."
msgstr ""

#. Tag: term
#: reference_raster.xml:7124
#, no-c-format
msgid "rast,rast1,rast2, rastbandargset"
msgstr ""

#. Tag: para
#: reference_raster.xml:7126
#, no-c-format
msgid "Rasters on which the map algebra process is evaluated."
msgstr ""

#. Tag: para
#: reference_raster.xml:7127
#, no-c-format
msgid ""
"<varname>rastbandargset</varname> allows the use of a map algebra operation "
"on many rasters and/or many bands. See example Variant 1."
msgstr ""

#. Tag: term
#: reference_raster.xml:7132
#, no-c-format
msgid "nband, nband1, nband2"
msgstr ""

#. Tag: para
#: reference_raster.xml:7134
#, no-c-format
msgid ""
"Band numbers of the raster to be evaluated. nband can be an integer or "
"integer[] denoting the bands. nband1 is band on rast1 and nband2 is band on "
"rast2 for hte 2 raster/2band case."
msgstr ""

#. Tag: term
#: reference_raster.xml:7140
#, no-c-format
msgid "callbackfunc"
msgstr ""

#. Tag: para
#: reference_raster.xml:7142
#, no-c-format
msgid ""
"The <varname>callbackfunc</varname> parameter must be the name and signature "
"of an SQL or PL/pgSQL function, cast to a regprocedure. An example PL/pgSQL "
"function example is: <programlisting>\n"
"CREATE OR REPLACE FUNCTION sample_callbackfunc(value double precision[][][], "
"position integer[][], VARIADIC userargs text[])\n"
"        RETURNS double precision\n"
"        AS $$\n"
"        BEGIN\n"
"                RETURN 0;\n"
"        END;\n"
"        $$ LANGUAGE 'plpgsql' IMMUTABLE;\n"
"                                                                        </"
"programlisting> The <varname>callbackfunc</varname> must have three "
"arguments: a 3-dimension double precision array, a 2-dimension integer array "
"and a variadic 1-dimension text array. The first argument <varname>value</"
"varname> is the set of values (as double precision) from all input rasters. "
"The three dimensions (where indexes are 1-based) are: raster #, row y, "
"column x. The second argument <varname>position</varname> is the set of "
"pixel positions from the output raster and input rasters. The outer "
"dimension (where indexes are 0-based) is the raster #. The position at outer "
"dimension index 0 is the output raster's pixel position. For each outer "
"dimension, there are two elements in the inner dimension for X and Y. The "
"third argument <varname>userargs</varname> is for passing through any user-"
"specified arguments."
msgstr ""

#. Tag: para
#: reference_raster.xml:7149
#, no-c-format
msgid ""
"Passing a <type>regprocedure</type> argument to a SQL function requires the "
"full function signature to be passed, then cast to a <type>regprocedure</"
"type> type. To pass the above example PL/pgSQL function as an argument, the "
"SQL for the argument is: <programlisting>\n"
"'sample_callbackfunc(double precision[], integer[], text[])'::regprocedure\n"
"                                                                        </"
"programlisting> Note that the argument contains the name of the function, "
"the types of the function arguments, quotes around the name and argument "
"types, and a cast to a <type>regprocedure</type>."
msgstr ""

#. Tag: term
#: reference_raster.xml:7161
#, no-c-format
msgid "mask"
msgstr ""

#. Tag: para
#: reference_raster.xml:7163
#, no-c-format
msgid ""
"An n-dimensional array (matrix) of numbers used to filter what cells get "
"passed to map algebra call-back function. 0 means a neighbor cell value "
"should be treated as no-data and 1 means value should be treated as data. If "
"weight is set to true, then the values, are used as multipliers to multiple "
"the pixel value of that value in the neighborhood position."
msgstr ""

#. Tag: term
#: reference_raster.xml:7170
#, no-c-format
msgid "weighted"
msgstr ""

#. Tag: para
#: reference_raster.xml:7172
#, no-c-format
msgid ""
"boolean (true/false) to denote if a mask value should be weighted "
"(multiplied by original value) or not (only applies to proto that takes a "
"mask)."
msgstr ""

#. Tag: term
#: reference_raster.xml:7179 reference_raster.xml:7504
#: reference_raster.xml:7799 reference_raster.xml:8353
#, no-c-format
msgid "pixeltype"
msgstr ""

#. Tag: para
#: reference_raster.xml:7181
#, no-c-format
msgid ""
"If <varname>pixeltype</varname> is passed in, the one band of the new raster "
"will be of that pixeltype. If pixeltype is passed NULL or left out, the new "
"raster band will have the same pixeltype as the specified band of the first "
"raster (for extent types: INTERSECTION, UNION, FIRST, CUSTOM) or the "
"specified band of the appropriate raster (for extent types: SECOND, LAST). "
"If in doubt, always specify <varname>pixeltype</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:7184
#, no-c-format
msgid ""
"The resulting pixel type of the output raster must be one listed in <xref "
"linkend=\"RT_ST_BandPixelType\"/> or left out or set to NULL."
msgstr ""

#. Tag: term
#: reference_raster.xml:7191 reference_raster.xml:7512
#: reference_raster.xml:7808
#, no-c-format
msgid "extenttype"
msgstr ""

#. Tag: para
#: reference_raster.xml:7193
#, no-c-format
msgid ""
"Possible values are INTERSECTION (default), UNION, FIRST (default for one "
"raster variants), SECOND, LAST, CUSTOM."
msgstr ""

#. Tag: term
#: reference_raster.xml:7200
#, no-c-format
msgid "customextent"
msgstr ""

#. Tag: para
#: reference_raster.xml:7202
#, no-c-format
msgid ""
"If <varname>extentype</varname> is CUSTOM, a raster must be provided for "
"<varname>customextent</varname>. See example 4 of Variant 1."
msgstr ""

#. Tag: term
#: reference_raster.xml:7209
#, no-c-format
msgid "distancex"
msgstr ""

#. Tag: para
#: reference_raster.xml:7211
#, no-c-format
msgid ""
"The distance in pixels from the reference cell in x direction. So width of "
"resulting matrix would be <code>2*distancex + 1</code>.If not specified only "
"the reference cell is considered (neighborhood of 0)."
msgstr ""

#. Tag: term
#: reference_raster.xml:7218
#, no-c-format
msgid "distancey"
msgstr ""

#. Tag: para
#: reference_raster.xml:7220
#, no-c-format
msgid ""
"The distance in pixels from reference cell in y direction. Height of "
"resulting matrix would be <code>2*distancey + 1</code> .If not specified "
"only the reference cell is considered (neighborhood of 0)."
msgstr ""

#. Tag: term
#: reference_raster.xml:7227
#, no-c-format
msgid "userargs"
msgstr ""

#. Tag: para
#: reference_raster.xml:7229
#, no-c-format
msgid ""
"The third argument to the <varname>callbackfunc</varname> is a "
"<type>variadic text</type> array. All trailing text arguments are passed "
"through to the specified <varname>callbackfunc</varname>, and are contained "
"in the <varname>userargs</varname> argument."
msgstr ""

#. Tag: para
#: reference_raster.xml:7237 reference_raster.xml:8128
#: reference_raster.xml:8247
#, no-c-format
msgid ""
"For more information about the VARIADIC keyword, please refer to the "
"PostgreSQL documentation and the \"SQL Functions with Variable Numbers of "
"Arguments\" section of <ulink url=\"http://www.postgresql.org/docs/current/"
"static/xfunc-sql.html\">Query Language (SQL) Functions</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:7243
#, no-c-format
msgid ""
"The <type>text[]</type> argument to the <varname>callbackfunc</varname> is "
"required, regardless of whether you choose to pass any arguments to the "
"callback function for processing or not."
msgstr ""

#. Tag: para
#: reference_raster.xml:7248
#, no-c-format
msgid ""
"Variant 1 accepts an array of <varname>rastbandarg</varname> allowing the "
"use of a map algebra operation on many rasters and/or many bands. See "
"example Variant 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:7252
#, no-c-format
msgid ""
"Variants 2 and 3 operate upon one or more bands of one raster. See example "
"Variant 2 and 3."
msgstr ""

#. Tag: para
#: reference_raster.xml:7256
#, no-c-format
msgid ""
"Variant 4 operate upon two rasters with one band per raster. See example "
"Variant 4."
msgstr ""

#. Tag: para
#: reference_raster.xml:7260
#, no-c-format
msgid "Availability: 2.2.0: Ability to add a mask"
msgstr ""

#. Tag: para
#: reference_raster.xml:7268 reference_raster.xml:7290
#, no-c-format
msgid "One raster, one band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7269
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, "
"0, 0), 1, '16BUI', 1, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                ARRAY[ROW(rast, 1)]::rastbandarg[],\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo"
msgstr ""

#. Tag: para
#: reference_raster.xml:7271 reference_raster.xml:7287
#, no-c-format
msgid "One raster, several bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7272
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                ARRAY[ROW(rast, 3), ROW(rast, 1), ROW(rast, 3), ROW(rast, "
"2)]::rastbandarg[],\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo"
msgstr ""

#. Tag: para
#: reference_raster.xml:7274
#, no-c-format
msgid "Several rasters, several bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7275
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION "
"ALL\n"
"        SELECT 2 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, "
"0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                ARRAY[ROW(t1.rast, 3), ROW(t2.rast, 1), ROW(t2.rast, 3), "
"ROW(t1.rast, 2)]::rastbandarg[],\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE t1.rid = 1\n"
"        AND t2.rid = 2"
msgstr ""

#. Tag: para
#: reference_raster.xml:7277
#, no-c-format
msgid ""
"Complete example of tiles of a coverage with neighborhood. This query only "
"works with PostgreSQL 9.1 or higher."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7278
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, "
"0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL\n"
"        SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), "
"1, '16BUI', 2, 0) AS rast UNION ALL\n"
"        SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), "
"1, '16BUI', 3, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 10, 0) AS rast UNION ALL\n"
"        SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 20, 0) AS rast UNION ALL\n"
"        SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 30, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 100, 0) AS rast UNION ALL\n"
"        SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 200, 0) AS rast UNION ALL\n"
"        SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 300, 0) AS rast\n"
")\n"
"SELECT\n"
"        t1.rid,\n"
"        ST_MapAlgebra(\n"
"                ARRAY[ROW(ST_Union(t2.rast), 1)]::rastbandarg[],\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure,\n"
"                '32BUI',\n"
"                'CUSTOM', t1.rast,\n"
"                1, 1\n"
"        ) AS rast\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE t1.rid = 4\n"
"        AND t2.rid BETWEEN 0 AND 8\n"
"        AND ST_Intersects(t1.rast, t2.rast)\n"
"GROUP BY t1.rid, t1.rast"
msgstr ""

#. Tag: para
#: reference_raster.xml:7280
#, no-c-format
msgid ""
"Example like the prior one for tiles of a coverage with neighborhood but "
"works with PostgreSQL 9.0."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7281
#, no-c-format
msgid ""
"WITH src AS (\n"
"        SELECT 0 AS rid, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, "
"0, 0), 1, '16BUI', 1, 0) AS rast UNION ALL\n"
"        SELECT 1, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, 0, 1, -1, 0, 0, 0), "
"1, '16BUI', 2, 0) AS rast UNION ALL\n"
"        SELECT 2, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, 0, 1, -1, 0, 0, 0), "
"1, '16BUI', 3, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 3, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 10, 0) AS rast UNION ALL\n"
"        SELECT 4, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 20, 0) AS rast UNION ALL\n"
"        SELECT 5, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -2, 1, -1, 0, 0, "
"0), 1, '16BUI', 30, 0) AS rast UNION ALL\n"
"\n"
"        SELECT 6, ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 100, 0) AS rast UNION ALL\n"
"        SELECT 7, ST_AddBand(ST_MakeEmptyRaster(2, 2, 2, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 200, 0) AS rast UNION ALL\n"
"        SELECT 8, ST_AddBand(ST_MakeEmptyRaster(2, 2, 4, -4, 1, -1, 0, 0, "
"0), 1, '16BUI', 300, 0) AS rast\n"
")\n"
"WITH foo AS (\n"
"        SELECT\n"
"                t1.rid,\n"
"                ST_Union(t2.rast) AS rast\n"
"        FROM src t1\n"
"        JOIN src t2\n"
"                ON ST_Intersects(t1.rast, t2.rast)\n"
"                AND t2.rid BETWEEN 0 AND 8\n"
"        WHERE t1.rid = 4\n"
"        GROUP BY t1.rid\n"
"), bar AS (\n"
"        SELECT\n"
"                t1.rid,\n"
"                ST_MapAlgebra(\n"
"                        ARRAY[ROW(t2.rast, 1)]::rastbandarg[],\n"
"                        'raster_nmapalgebra_test(double precision[], int[], "
"text[])'::regprocedure,\n"
"                        '32BUI',\n"
"                        'CUSTOM', t1.rast,\n"
"                        1, 1\n"
"                ) AS rast\n"
"        FROM src t1\n"
"        JOIN foo t2\n"
"                ON t1.rid = t2.rid\n"
")\n"
"SELECT\n"
"        rid,\n"
"        (ST_Metadata(rast)),\n"
"        (ST_BandMetadata(rast, 1)),\n"
"        ST_Value(rast, 1, 1, 1)\n"
"FROM bar;"
msgstr ""

#. Tag: title
#: reference_raster.xml:7285
#, no-c-format
msgid "Examples: Variants 2 and 3"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7288
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                rast, ARRAY[3, 1, 3, 2]::integer[],\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7291
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                rast, 2,\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo"
msgstr ""

#. Tag: title
#: reference_raster.xml:7295
#, no-c-format
msgid "Examples: Variant 4"
msgstr ""

#. Tag: para
#: reference_raster.xml:7297
#, no-c-format
msgid "Two rasters, two bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7298
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI', 100, 0) AS rast UNION "
"ALL\n"
"        SELECT 2 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, "
"0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI', 300, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                t1.rast, 2,\n"
"                t2.rast, 1,\n"
"                'sample_callbackfunc(double precision[], int[], text[])'::"
"regprocedure\n"
"        ) AS rast\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE t1.rid = 1\n"
"        AND t2.rid = 2"
msgstr ""

#. Tag: title
#: reference_raster.xml:7303
#, no-c-format
msgid "Examples: Using Masks"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7304
#, no-c-format
msgid ""
"WITH foo AS (SELECT\n"
"   ST_SetBandNoDataValue(\n"
"ST_SetValue(ST_SetValue(ST_AsRaster(\n"
"                ST_Buffer(\n"
"                        ST_GeomFromText('LINESTRING(50 50,100 90,100 50)'), "
"5,'join=bevel'),\n"
"                        200,200,ARRAY['8BUI'], ARRAY[100], ARRAY[0]), "
"ST_Buffer('POINT(70 70)'::geometry,10,'quad_segs=1') ,50),\n"
"  'LINESTRING(20 20, 100 100, 150 98)'::geometry,1),0)  AS rast )\n"
"SELECT 'original' AS title, rast\n"
"FROM foo\n"
"UNION ALL\n"
"SELECT 'no mask mean value' AS title, "
"ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::"
"regprocedure) AS rast\n"
"FROM foo\n"
"UNION ALL\n"
"SELECT 'mask only consider neighbors, exclude center' AS title, "
"ST_MapAlgebra(rast,1,'ST_mean4ma(double precision[], int[], text[])'::"
"regprocedure,\n"
"    '{{1,1,1}, {1,0,1}, {1,1,1}}'::double precision[], false) As rast\n"
"FROM foo\n"
"\n"
"UNION ALL\n"
"SELECT 'mask weighted only consider neighbors, exclude center multi otehr "
"pixel values by 2' AS title, ST_MapAlgebra(rast,1,'ST_mean4ma(double "
"precision[], int[], text[])'::regprocedure,\n"
"    '{{2,2,2}, {2,0,2}, {2,2,2}}'::double precision[], true) As rast\n"
"FROM foo;"
msgstr ""

#. Tag: para
#: reference_raster.xml:7318
#, no-c-format
msgid "original"
msgstr ""

#. Tag: para
#: reference_raster.xml:7332
#, no-c-format
msgid "no mask mean value (same as having all 1s in mask matrix)"
msgstr ""

#. Tag: para
#: reference_raster.xml:7348
#, no-c-format
msgid "mask only consider neighbors, exclude center"
msgstr ""

#. Tag: para
#: reference_raster.xml:7362
#, no-c-format
msgid ""
"mask weighted only consider neighbors, exclude center multi other pixel "
"values by 2"
msgstr ""

#. Tag: para
#: reference_raster.xml:7379
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Union\"/>, <xref linkend=\"RT_ST_MapAlgebra_expr\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:7390
#, no-c-format
msgid "ST_MapAlgebra (expression version)"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:7391
#, no-c-format
msgid ""
"<refpurpose>Expression version - Returns a one-band raster given one or two "
"input rasters, band indexes and one or more user-specified SQL expressions.</"
"refpurpose>"
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:7397
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>expression</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>expression</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebra</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast1</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband1</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>rast2</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband2</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>expression</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>pixeltype=NULL</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>extenttype=INTERSECTION</parameter></paramdef> <paramdef choice="
"\"opt\"><type>text </type> <parameter>nodata1expr=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>nodata2expr=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodatanodataval=NULL</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebra</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast1</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>rast2</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>expression</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>pixeltype=NULL</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> "
"<parameter>extenttype=INTERSECTION</parameter></paramdef> <paramdef choice="
"\"opt\"><type>text </type> <parameter>nodata1expr=NULL</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>nodata2expr=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>nodatanodataval=NULL</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7448
#, no-c-format
msgid ""
"<para>Expression version - Returns a one-band raster given one or two input "
"rasters, band indexes and one or more user-specified SQL expressions.</para>"
msgstr ""

#. Tag: title
#: reference_raster.xml:7456
#, no-c-format
msgid "Description: Variants 1 and 2 (one raster)"
msgstr ""

#. Tag: para
#: reference_raster.xml:7458
#, no-c-format
msgid ""
"Creates a new one band raster formed by applying a valid PostgreSQL "
"algebraic operation defined by the <varname>expression</varname> on the "
"input raster (<varname>rast</varname>). If <varname>nband</varname> is not "
"provided, band 1 is assumed. The new raster will have the same georeference, "
"width, and height as the original raster but will only have one band."
msgstr ""

#. Tag: para
#: reference_raster.xml:7462 reference_raster.xml:7664
#: reference_raster.xml:8112
#, no-c-format
msgid ""
"If <varname>pixeltype</varname> is passed in, then the new raster will have "
"a band of that pixeltype. If pixeltype is passed NULL, then the new raster "
"band will have the same pixeltype as the input <varname>rast</varname> band."
msgstr ""

#. Tag: para
#: reference_raster.xml:7467
#, no-c-format
msgid "Keywords permitted for <varname>expression</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7470
#, no-c-format
msgid "<varname>[rast]</varname> - Pixel value of the pixel of interest"
msgstr ""

#. Tag: para
#: reference_raster.xml:7473
#, no-c-format
msgid "<varname>[rast.val]</varname> - Pixel value of the pixel of interest"
msgstr ""

#. Tag: para
#: reference_raster.xml:7476
#, no-c-format
msgid ""
"<varname>[rast.x]</varname> - 1-based pixel column of the pixel of interest"
msgstr ""

#. Tag: para
#: reference_raster.xml:7479
#, no-c-format
msgid ""
"<varname>[rast.y]</varname> - 1-based pixel row of the pixel of interest"
msgstr ""

#. Tag: title
#: reference_raster.xml:7488
#, no-c-format
msgid "Description: Variants 3 and 4 (two raster)"
msgstr ""

#. Tag: para
#: reference_raster.xml:7490 reference_raster.xml:7784
#, no-c-format
msgid ""
"Creates a new one band raster formed by applying a valid PostgreSQL "
"algebraic operation to the two bands defined by the <varname>expression</"
"varname> on the two input raster bands <varname>rast1</varname>, "
"(<varname>rast2</varname>). If no <varname>band1</varname>, <varname>band2</"
"varname> is specified band 1 is assumed. The resulting raster will be "
"aligned (scale, skew and pixel corners) on the grid defined by the first "
"raster. The resulting raster will have the extent defined by the "
"<varname>extenttype</varname> parameter."
msgstr ""

#. Tag: term
#: reference_raster.xml:7496 reference_raster.xml:7790
#, no-c-format
msgid "expression"
msgstr ""

#. Tag: para
#: reference_raster.xml:7498 reference_raster.xml:7792
#, no-c-format
msgid ""
"A PostgreSQL algebraic expression involving the two rasters and PostgreSQL "
"defined functions/operators that will define the pixel value when pixels "
"intersect. e.g. (([rast1] + [rast2])/2.0)::integer"
msgstr ""

#. Tag: para
#: reference_raster.xml:7506 reference_raster.xml:7801
#, no-c-format
msgid ""
"The resulting pixel type of the output raster. Must be one listed in <xref "
"linkend=\"RT_ST_BandPixelType\"/>, left out or set to NULL. If not passed in "
"or set to NULL, will default to the pixeltype of the first raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:7514 reference_raster.xml:7810
#, no-c-format
msgid "Controls the extent of resulting raster"
msgstr ""

#. Tag: para
#: reference_raster.xml:7520 reference_raster.xml:7813
#, no-c-format
msgid ""
"<varname>INTERSECTION</varname> - The extent of the new raster is the "
"intersection of the two rasters. This is the default."
msgstr ""

#. Tag: para
#: reference_raster.xml:7525 reference_raster.xml:7818
#, no-c-format
msgid ""
"<varname>UNION</varname> - The extent of the new raster is the union of the "
"two rasters."
msgstr ""

#. Tag: para
#: reference_raster.xml:7530 reference_raster.xml:7823
#, no-c-format
msgid ""
"<varname>FIRST</varname> - The extent of the new raster is the same as the "
"one of the first raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:7535 reference_raster.xml:7828
#, no-c-format
msgid ""
"<varname>SECOND</varname> - The extent of the new raster is the same as the "
"one of the second raster."
msgstr ""

#. Tag: term
#: reference_raster.xml:7543 reference_raster.xml:7837
#, no-c-format
msgid "nodata1expr"
msgstr ""

#. Tag: para
#: reference_raster.xml:7545 reference_raster.xml:7839
#, no-c-format
msgid ""
"An algebraic expression involving only <varname>rast2</varname> or a "
"constant that defines what to return when pixels of <varname>rast1</varname> "
"are nodata values and spatially corresponding rast2 pixels have values."
msgstr ""

#. Tag: term
#: reference_raster.xml:7551 reference_raster.xml:7846
#, no-c-format
msgid "nodata2expr"
msgstr ""

#. Tag: para
#: reference_raster.xml:7553 reference_raster.xml:7848
#, no-c-format
msgid ""
"An algebraic expression involving only <varname>rast1</varname> or a "
"constant that defines what to return when pixels of <varname>rast2</varname> "
"are nodata values and spatially corresponding rast1 pixels have values."
msgstr ""

#. Tag: term
#: reference_raster.xml:7559 reference_raster.xml:7855
#, no-c-format
msgid "nodatanodataval"
msgstr ""

#. Tag: para
#: reference_raster.xml:7561 reference_raster.xml:7857
#, no-c-format
msgid ""
"A numeric constant to return when spatially corresponding rast1 and rast2 "
"pixels are both nodata values."
msgstr ""

#. Tag: para
#: reference_raster.xml:7569
#, no-c-format
msgid ""
"Keywords permitted in <varname>expression</varname>, <varname>nodata1expr</"
"varname> and <varname>nodata2expr</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7572
#, no-c-format
msgid ""
"<varname>[rast1]</varname> - Pixel value of the pixel of interest from "
"<varname>rast1</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7575
#, no-c-format
msgid ""
"<varname>[rast1.val]</varname> - Pixel value of the pixel of interest from "
"<varname>rast1</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7578
#, no-c-format
msgid ""
"<varname>[rast1.x]</varname> - 1-based pixel column of the pixel of interest "
"from <varname>rast1</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7581
#, no-c-format
msgid ""
"<varname>[rast1.y]</varname> - 1-based pixel row of the pixel of interest "
"from <varname>rast1</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7584
#, no-c-format
msgid ""
"<varname>[rast2]</varname> - Pixel value of the pixel of interest from "
"<varname>rast2</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7587
#, no-c-format
msgid ""
"<varname>[rast2.val]</varname> - Pixel value of the pixel of interest from "
"<varname>rast2</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7590
#, no-c-format
msgid ""
"<varname>[rast2.x]</varname> - 1-based pixel column of the pixel of interest "
"from <varname>rast2</varname>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7593
#, no-c-format
msgid ""
"<varname>[rast2.y]</varname> - 1-based pixel row of the pixel of interest "
"from <varname>rast2</varname>"
msgstr ""

#. Tag: title
#: reference_raster.xml:7601
#, no-c-format
msgid "Examples: Variants 1 and 2"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7603
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 1, 1, 0, 0, 0), "
"'32BF'::text, 1, -1) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(rast, 1, NULL, 'ceil([rast]*[rast.x]/[rast.y]+[rast."
"val])')\n"
"FROM foo;"
msgstr ""

#. Tag: title
#: reference_raster.xml:7607
#, no-c-format
msgid "Examples: Variant 3 and 4"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7609
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT 1 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 0, 1, -1, 0, 0, "
"0), 1, '16BUI', 1, 0), 2, '8BUI', 10, 0), 3, '32BUI'::text, 100, 0) AS rast "
"UNION ALL\n"
"        SELECT 2 AS rid, "
"ST_AddBand(ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(2, 2, 0, 1, 1, -1, 0, 0, "
"0), 1, '16BUI', 2, 0), 2, '8BUI', 20, 0), 3, '32BUI'::text, 300, 0) AS rast\n"
")\n"
"SELECT\n"
"        ST_MapAlgebra(\n"
"                t1.rast, 2,\n"
"                t2.rast, 1,\n"
"                '([rast2] + [rast1.val]) / 2'\n"
"        ) AS rast\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE t1.rid = 1\n"
"        AND t2.rid = 2;"
msgstr ""

#. Tag: para
#: reference_raster.xml:7615
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Union\"/>, <xref linkend=\"RT_ST_MapAlgebra\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:7625 reference_raster.xml:7739
#, no-c-format
msgid "ST_MapAlgebraExpr"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:7626
#, no-c-format
msgid ""
"1 raster band version: Creates a new one band raster formed by applying a "
"valid PostgreSQL algebraic operation on the input raster band and of "
"pixeltype provided. Band 1 is assumed if no band is specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:7630
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraExpr</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>pixeltype</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>expression</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraExpr</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>pixeltype</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>expression</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7655 reference_raster.xml:7779
#, no-c-format
msgid ""
"is deprecated as of 2.1.0. Use <xref linkend=\"RT_ST_MapAlgebra_expr\"/> "
"instead."
msgstr ""

#. Tag: para
#: reference_raster.xml:7660
#, no-c-format
msgid ""
"Creates a new one band raster formed by applying a valid PostgreSQL "
"algebraic operation defined by the <varname>expression</varname> on the "
"input raster (<varname>rast</varname>). If no <varname>band</varname> is "
"specified band 1 is assumed. The new raster will have the same georeference, "
"width, and height as the original raster but will only have one band."
msgstr ""

#. Tag: para
#: reference_raster.xml:7668
#, no-c-format
msgid ""
"In the expression you can use the term <varname>[rast]</varname> to refer to "
"the pixel value of the original band, <varname>[rast.x]</varname> to refer "
"to the 1-based pixel column index, <varname>[rast.y]</varname> to refer to "
"the 1-based pixel row index."
msgstr ""

#. Tag: para
#: reference_raster.xml:7678 reference_raster.xml:7877
#: reference_raster.xml:8141
#, no-c-format
msgid ""
"Create a new 1 band raster from our original that is a function of modulo 2 "
"of the original raster band."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7679
#, no-c-format
msgid ""
"ALTER TABLE dummy_rast ADD COLUMN map_rast raster;\n"
"UPDATE dummy_rast SET map_rast = ST_MapAlgebraExpr(rast,NULL,'mod([rast]::"
"numeric,2)') WHERE rid = 2;\n"
"\n"
"SELECT\n"
"        ST_Value(rast,1,i,j) As origval,\n"
"        ST_Value(map_rast, 1, i, j) As mapval\n"
"FROM dummy_rast\n"
"CROSS JOIN generate_series(1, 3) AS i\n"
"CROSS JOIN generate_series(1,3) AS j\n"
"WHERE rid = 2;\n"
"\n"
" origval | mapval\n"
"---------+--------\n"
"     253 |      1\n"
"     254 |      0\n"
"     253 |      1\n"
"     253 |      1\n"
"     254 |      0\n"
"     254 |      0\n"
"     250 |      0\n"
"     254 |      0\n"
"     254 |      0"
msgstr ""

#. Tag: para
#: reference_raster.xml:7681
#, no-c-format
msgid ""
"Create a new 1 band raster of pixel-type 2BUI from our original that is "
"reclassified and set the nodata value to be 0."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7682
#, no-c-format
msgid ""
"ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;\n"
"UPDATE dummy_rast SET\n"
"        map_rast2 = ST_MapAlgebraExpr(rast,'2BUI'::text,'CASE WHEN [rast] "
"BETWEEN 100 and 250 THEN 1 WHEN [rast] = 252 THEN 2 WHEN [rast] BETWEEN 253 "
"and 254 THEN 3 ELSE 0 END'::text, '0')\n"
"WHERE rid = 2;\n"
"\n"
"SELECT DISTINCT\n"
"        ST_Value(rast,1,i,j) As origval,\n"
"        ST_Value(map_rast2, 1, i, j) As mapval\n"
"FROM dummy_rast\n"
"CROSS JOIN generate_series(1, 5) AS i\n"
"CROSS JOIN generate_series(1,5) AS j\n"
"WHERE rid = 2;\n"
"\n"
" origval | mapval\n"
"---------+--------\n"
"     249 |      1\n"
"     250 |      1\n"
"     251 |\n"
"     252 |      2\n"
"     253 |      3\n"
"     254 |      3\n"
"\n"
"SELECT\n"
"        ST_BandPixelType(map_rast2) As b1pixtyp\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
" b1pixtyp\n"
"----------\n"
" 2BUI"
msgstr ""

#. Tag: para
#: reference_raster.xml:7696
#, no-c-format
msgid "original (column rast_view)"
msgstr ""

#. Tag: para
#: reference_raster.xml:7710 reference_raster.xml:8164
#, no-c-format
msgid "rast_view_ma"
msgstr ""

#. Tag: para
#: reference_raster.xml:7721 reference_raster.xml:8172
#, no-c-format
msgid ""
"Create a new 3 band raster same pixel type from our original 3 band raster "
"with first band altered by map algebra and remaining 2 bands unaltered."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7722
#, no-c-format
msgid ""
"SELECT\n"
"        ST_AddBand(\n"
"                ST_AddBand(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(rast_view),\n"
"                                ST_MapAlgebraExpr(rast_view,1,"
"NULL,'tan([rast])*[rast]')\n"
"                        ),\n"
"                        ST_Band(rast_view,2)\n"
"                ),\n"
"                ST_Band(rast_view, 3)\n"
"        )  As rast_view_ma\n"
"FROM wind\n"
"WHERE rid=167;"
msgstr ""

#. Tag: para
#: reference_raster.xml:7727
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebraFct\"/>, <xref linkend="
"\"RT_ST_BandPixelType\"/>, <xref linkend=\"RT_ST_GeoReference\"/>, <xref "
"linkend=\"RT_ST_Value\"/>"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:7740
#, no-c-format
msgid ""
"2 raster band version: Creates a new one band raster formed by applying a "
"valid PostgreSQL algebraic operation on the two input raster bands and of "
"pixeltype provided. band 1 of each raster is assumed if no band numbers are "
"specified. The resulting raster will be aligned (scale, skew and pixel "
"corners) on the grid defined by the first raster and have its extent defined "
"by the \"extenttype\" parameter. Values for \"extenttype\" can be: "
"INTERSECTION, UNION, FIRST, SECOND."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:7746
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraExpr</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast1</parameter></"
"paramdef> <paramdef><type>raster </type> <parameter>rast2</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>expression</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=same_as_rast1_band</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>text </type> <parameter>extenttype=INTERSECTION</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>nodata1expr=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>nodata2expr=NULL</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodatanodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraExpr</function></"
"funcdef> <paramdef><type>raster </type> <parameter>rast1</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band1</parameter></"
"paramdef> <paramdef><type>raster </type> <parameter>rast2</parameter></"
"paramdef> <paramdef><type>integer </type> <parameter>band2</parameter></"
"paramdef> <paramdef><type>text </type> <parameter>expression</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=same_as_rast1_band</parameter></paramdef> <paramdef "
"choice=\"opt\"><type>text </type> <parameter>extenttype=INTERSECTION</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>nodata1expr=NULL</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>nodata2expr=NULL</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodatanodataval=NULL</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:7864
#, no-c-format
msgid ""
"If <varname>pixeltype</varname> is passed in, then the new raster will have "
"a band of that pixeltype. If pixeltype is passed NULL or no pixel type "
"specified, then the new raster band will have the same pixeltype as the "
"input <varname>rast1</varname> band."
msgstr ""

#. Tag: para
#: reference_raster.xml:7867
#, no-c-format
msgid ""
"Use the term <varname>[rast1.val]</varname> <varname>[rast2.val]</varname> "
"to refer to the pixel value of the original raster bands and <varname>[rast1."
"x]</varname>, <varname>[rast1.y]</varname> etc. to refer to the column / row "
"positions of the pixels."
msgstr ""

#. Tag: title
#: reference_raster.xml:7875
#, no-c-format
msgid "Example: 2 Band Intersection and Union"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7878
#, no-c-format
msgid ""
"--Create a cool set of rasters --\n"
"DROP TABLE IF EXISTS fun_shapes;\n"
"CREATE TABLE fun_shapes(rid serial PRIMARY KEY, fun_name text, rast "
"raster);\n"
"\n"
"-- Insert some cool shapes around Boston in Massachusetts state plane meters "
"--\n"
"INSERT INTO fun_shapes(fun_name, rast)\n"
"VALUES ('ref', ST_AsRaster(ST_MakeEnvelope(235229, 899970, 237229, "
"901930,26986),200,200,'8BUI',0,0));\n"
"\n"
"INSERT INTO fun_shapes(fun_name,rast)\n"
"WITH ref(rast) AS (SELECT rast FROM fun_shapes WHERE fun_name = 'ref' )\n"
"SELECT 'area' AS fun_name, ST_AsRaster(ST_Buffer(ST_SetSRID(ST_Point(236229, "
"900930),26986), 1000),\n"
"                        ref.rast,'8BUI', 10, 0) As rast\n"
"FROM ref\n"
"UNION ALL\n"
"SELECT 'rand bubbles',\n"
"                        ST_AsRaster(\n"
"                        (SELECT ST_Collect(geom)\n"
"        FROM (SELECT ST_Buffer(ST_SetSRID(ST_Point(236229 + i*random()*100, "
"900930 + j*random()*100),26986), random()*20) As geom\n"
"                        FROM generate_series(1,10) As i, "
"generate_series(1,10) As j\n"
"                        ) As foo ), ref.rast,'8BUI', 200, 0)\n"
"FROM ref;\n"
"\n"
"--map them -\n"
"SELECT  ST_MapAlgebraExpr(\n"
"                area.rast, bub.rast, '[rast2.val]', '8BUI', 'INTERSECTION', "
"'[rast2.val]', '[rast1.val]') As interrast,\n"
"                ST_MapAlgebraExpr(\n"
"                        area.rast, bub.rast, '[rast2.val]', '8BUI', 'UNION', "
"'[rast2.val]', '[rast1.val]') As unionrast\n"
"FROM\n"
"  (SELECT rast FROM fun_shapes WHERE\n"
" fun_name = 'area') As area\n"
"CROSS JOIN  (SELECT rast\n"
"FROM fun_shapes WHERE\n"
" fun_name = 'rand bubbles') As bub"
msgstr ""

#. Tag: para
#: reference_raster.xml:7892
#, no-c-format
msgid "mapalgebra intersection"
msgstr ""

#. Tag: para
#: reference_raster.xml:7906
#, no-c-format
msgid "map algebra union"
msgstr ""

#. Tag: title
#: reference_raster.xml:7919 reference_raster.xml:8258
#, no-c-format
msgid "Example: Overlaying rasters on a canvas as separate bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7920
#, no-c-format
msgid ""
"-- we use ST_AsPNG to render the image so all single band ones look grey --\n"
"WITH mygeoms\n"
"    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(1,5),10) As geom\n"
"            UNION ALL\n"
"            SELECT 3 AS bnum,\n"
"                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 "
"50)'), 10,'join=bevel') As geom\n"
"            UNION ALL\n"
"            SELECT 1 As bnum,\n"
"                ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 150,150 "
"50)'), 5,'join=bevel') As geom\n"
"            ),\n"
"   -- define our canvas to be 1 to 1 pixel to geometry\n"
"   canvas\n"
"    AS (SELECT ST_AddBand(ST_MakeEmptyRaster(200,\n"
"        200,\n"
"        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0) , '8BUI'::"
"text,0) As rast\n"
"        FROM (SELECT ST_Extent(geom) As e,\n"
"                    Max(ST_SRID(geom)) As srid\n"
"                    from mygeoms\n"
"                    ) As foo\n"
"            ),\n"
"   rbands AS (SELECT ARRAY(SELECT ST_MapAlgebraExpr(canvas.rast, "
"ST_AsRaster(m.geom, canvas.rast, '8BUI', 100),\n"
"                 '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1."
"val]') As rast\n"
"                FROM mygeoms AS m CROSS JOIN canvas\n"
"                ORDER BY m.bnum) As rasts\n"
"                )\n"
"          SELECT rasts[1] As rast1 , rasts[2] As rast2, rasts[3] As rast3, "
"ST_AddBand(\n"
"                    ST_AddBand(rasts[1],rasts[2]), rasts[3]) As final_rast\n"
"            FROM rbands;"
msgstr ""

#. Tag: para
#: reference_raster.xml:7933
#, no-c-format
msgid "rast1"
msgstr ""

#. Tag: para
#: reference_raster.xml:7946
#, no-c-format
msgid "rast2"
msgstr ""

#. Tag: para
#: reference_raster.xml:7962
#, no-c-format
msgid "rast3"
msgstr ""

#. Tag: para
#: reference_raster.xml:7976
#, no-c-format
msgid "final_rast"
msgstr ""

#. Tag: title
#: reference_raster.xml:7989
#, no-c-format
msgid ""
"Example: Overlay 2 meter boundary of select parcels over an aerial imagery"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:7991
#, no-c-format
msgid ""
"-- Create new 3 band raster composed of first 2 clipped bands, and overlay "
"of 3rd band with our geometry\n"
"-- This query took 3.6 seconds on PostGIS windows 64-bit install\n"
"WITH pr AS\n"
"-- Note the order of operation: we clip all the rasters to dimensions of our "
"region\n"
"(SELECT ST_Clip(rast,ST_Expand(geom,50) ) As rast, g.geom\n"
"        FROM aerials.o_2_boston AS r INNER JOIN\n"
"-- union our parcels of interest so they form a single geometry we can later "
"intersect with\n"
"                (SELECT ST_Union(ST_Transform(the_geom,26986)) AS geom\n"
"                  FROM landparcels WHERE pid IN('0303890000', '0303900000')) "
"As g\n"
"                ON ST_Intersects(rast::geometry, ST_Expand(g.geom,50))\n"
"),\n"
"-- we then union the raster shards together\n"
"-- ST_Union on raster is kinda of slow but much faster the smaller you can "
"get the rasters\n"
"-- therefore we want to clip first and then union\n"
"prunion AS\n"
"(SELECT ST_AddBand(NULL, ARRAY[ST_Union(rast,1),ST_Union(rast,2),"
"ST_Union(rast,3)] ) As clipped,geom\n"
"FROM pr\n"
"GROUP BY geom)\n"
"-- return our final raster which is the unioned shard with\n"
"-- with the overlay of our parcel boundaries\n"
"-- add first 2 bands, then mapalgebra of 3rd band + geometry\n"
"SELECT ST_AddBand(ST_Band(clipped,ARRAY[1,2])\n"
"        , ST_MapAlgebraExpr(ST_Band(clipped,3), "
"ST_AsRaster(ST_Buffer(ST_Boundary(geom),2),clipped, '8BUI',250),\n"
"         '[rast2.val]', '8BUI', 'FIRST', '[rast2.val]', '[rast1.val]') ) As "
"rast\n"
"FROM prunion;"
msgstr ""

#. Tag: para
#: reference_raster.xml:8005
#, no-c-format
msgid "The blue lines are the boundaries of select parcels"
msgstr ""

#. Tag: para
#: reference_raster.xml:8019
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_AddBand\"/>, <xref linkend=\"RT_ST_AsPNG\"/>, <xref "
"linkend=\"RT_ST_AsRaster\"/>, <xref linkend=\"RT_ST_MapAlgebraFct\"/>, <xref "
"linkend=\"RT_ST_BandPixelType\"/>, <xref linkend=\"RT_ST_GeoReference\"/>, "
"<xref linkend=\"RT_ST_Value\"/>, <xref linkend=\"RT_ST_Union\"/>, <xref "
"linkend=\"ST_Union\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8036 reference_raster.xml:8189
#, no-c-format
msgid "ST_MapAlgebraFct"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8037
#, no-c-format
msgid ""
"1 band version - Creates a new one band raster formed by applying a valid "
"PostgreSQL function on the input raster band and of pixeltype prodived. Band "
"1 is assumed if no band is specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8041
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraFct</function></"
"funcdef> <paramdef><type>raster</type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>regprocedure</type> <parameter>onerasteruserfunc</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebraFct</function></funcdef> <paramdef><type>raster</"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>regprocedure</"
"type> <parameter>onerasteruserfunc</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebraFct</function></funcdef> <paramdef><type>raster</"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>text</type> "
"<parameter>pixeltype</parameter></paramdef> <paramdef><type>regprocedure</"
"type> <parameter>onerasteruserfunc</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraFct</function></"
"funcdef> <paramdef><type>raster</type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>text</type> <parameter>pixeltype</parameter></"
"paramdef> <paramdef><type>regprocedure</type> <parameter>onerasteruserfunc</"
"parameter></paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC "
"args</parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebraFct</function></funcdef> <paramdef><type>raster</"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>integer</type> "
"<parameter>band</parameter></paramdef> <paramdef><type>regprocedure</type> "
"<parameter>onerasteruserfunc</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraFct</function></"
"funcdef> <paramdef><type>raster</type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer</type> <parameter>band</parameter></"
"paramdef> <paramdef><type>regprocedure</type> <parameter>onerasteruserfunc</"
"parameter></paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC "
"args</parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebraFct</function></funcdef> <paramdef><type>raster</"
"type> <parameter>rast</parameter></paramdef> <paramdef><type>integer</type> "
"<parameter>band</parameter></paramdef> <paramdef><type>text</type> "
"<parameter>pixeltype</parameter></paramdef> <paramdef><type>regprocedure</"
"type> <parameter>onerasteruserfunc</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraFct</function></"
"funcdef> <paramdef><type>raster</type> <parameter>rast</parameter></"
"paramdef> <paramdef><type>integer</type> <parameter>band</parameter></"
"paramdef> <paramdef><type>text</type> <parameter>pixeltype</parameter></"
"paramdef> <paramdef><type>regprocedure</type> <parameter>onerasteruserfunc</"
"parameter></paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC "
"args</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8105 reference_raster.xml:8223
#: reference_raster.xml:8336
#, no-c-format
msgid ""
"is deprecated as of 2.1.0. Use <xref linkend=\"RT_ST_MapAlgebra\"/> instead."
msgstr ""

#. Tag: para
#: reference_raster.xml:8110
#, no-c-format
msgid ""
"Creates a new one band raster formed by applying a valid PostgreSQL function "
"specified by the <varname>onerasteruserfunc</varname> on the input raster "
"(<varname>rast</varname>). If no <varname>band</varname> is specified, band "
"1 is assumed. The new raster will have the same georeference, width, and "
"height as the original raster but will only have one band."
msgstr ""

#. Tag: para
#: reference_raster.xml:8114
#, no-c-format
msgid ""
"The <varname>onerasteruserfunc</varname> parameter must be the name and "
"signature of a SQL or PL/pgSQL function, cast to a regprocedure. A very "
"simple and quite useless PL/pgSQL function example is: "
"<programlisting>CREATE OR REPLACE FUNCTION simple_function(pixel FLOAT, pos "
"INTEGER[], VARIADIC args TEXT[])\n"
"    RETURNS FLOAT\n"
"    AS $$ BEGIN\n"
"        RETURN 0.0;\n"
"    END; $$\n"
"    LANGUAGE 'plpgsql' IMMUTABLE;</programlisting> The "
"<varname>userfunction</varname> may accept two or three arguments: a float "
"value, an optional integer array, and a variadic text array. The first "
"argument is the value of an individual raster cell (regardless of the raster "
"datatype). The second argument is the position of the current processing "
"cell in the form '{x,y}'. The third argument indicates that all remaining "
"parameters to <xref linkend=\"RT_ST_MapAlgebraFct\"/> shall be passed "
"through to the <varname>userfunction</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8119
#, no-c-format
msgid ""
"Passing a <type>regprodedure</type> argument to a SQL function requires the "
"full function signature to be passed, then cast to a <type>regprocedure</"
"type> type. To pass the above example PL/pgSQL function as an argument, the "
"SQL for the argument is:<programlisting>'simple_function(float,integer[],"
"text[])'::regprocedure</programlisting>Note that the argument contains the "
"name of the function, the types of the function arguments, quotes around the "
"name and argument types, and a cast to a <type>regprocedure</type>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8123
#, no-c-format
msgid ""
"The third argument to the <varname>userfunction</varname> is a "
"<type>variadic text</type> array. All trailing text arguments to any <xref "
"linkend=\"RT_ST_MapAlgebraFct\"/> call are passed through to the specified "
"<varname>userfunction</varname>, and are contained in the <varname>args</"
"varname> argument."
msgstr ""

#. Tag: para
#: reference_raster.xml:8132
#, no-c-format
msgid ""
"The <type>text[]</type> argument to the <varname>userfunction</varname> is "
"required, regardless of whether you choose to pass any arguments to your "
"user function for processing or not."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8142
#, no-c-format
msgid ""
"ALTER TABLE dummy_rast ADD COLUMN map_rast raster;\n"
"CREATE FUNCTION mod_fct(pixel float, pos integer[], variadic args text[])\n"
"RETURNS float\n"
"AS $$\n"
"BEGIN\n"
"    RETURN pixel::integer % 2;\n"
"END;\n"
"$$\n"
"LANGUAGE 'plpgsql' IMMUTABLE;\n"
"\n"
"UPDATE dummy_rast SET map_rast = ST_MapAlgebraFct(rast,NULL,'mod_fct(float,"
"integer[],text[])'::regprocedure) WHERE rid = 2;\n"
"\n"
"SELECT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast, 1, i, j) As "
"mapval\n"
"FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN "
"generate_series(1,3) AS j\n"
"WHERE rid = 2;\n"
"\n"
" origval | mapval\n"
"---------+--------\n"
"     253 |      1\n"
"     254 |      0\n"
"     253 |      1\n"
"     253 |      1\n"
"     254 |      0\n"
"     254 |      0\n"
"     250 |      0\n"
"     254 |      0\n"
"     254 |      0"
msgstr ""

#. Tag: para
#: reference_raster.xml:8144
#, no-c-format
msgid ""
"Create a new 1 band raster of pixel-type 2BUI from our original that is "
"reclassified and set the nodata value to a passed parameter to the user "
"function (0)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8145
#, no-c-format
msgid ""
"ALTER TABLE dummy_rast ADD COLUMN map_rast2 raster;\n"
"CREATE FUNCTION classify_fct(pixel float, pos integer[], variadic args "
"text[])\n"
"RETURNS float\n"
"AS\n"
"$$\n"
"DECLARE\n"
"    nodata float := 0;\n"
"BEGIN\n"
"    IF NOT args[1] IS NULL THEN\n"
"        nodata := args[1];\n"
"    END IF;\n"
"    IF pixel &lt; 251 THEN\n"
"        RETURN 1;\n"
"    ELSIF pixel = 252 THEN\n"
"        RETURN 2;\n"
"    ELSIF pixel &gt; 252 THEN\n"
"        RETURN 3;\n"
"    ELSE\n"
"        RETURN nodata;\n"
"    END IF;\n"
"END;\n"
"$$\n"
"LANGUAGE 'plpgsql';\n"
"UPDATE dummy_rast SET map_rast2 = "
"ST_MapAlgebraFct(rast,'2BUI','classify_fct(float,integer[],text[])'::"
"regprocedure, '0') WHERE rid = 2;\n"
"\n"
"SELECT DISTINCT ST_Value(rast,1,i,j) As origval, ST_Value(map_rast2, 1, i, "
"j) As mapval\n"
"FROM dummy_rast CROSS JOIN generate_series(1, 5) AS i CROSS JOIN "
"generate_series(1,5) AS j\n"
"WHERE rid = 2;\n"
"\n"
" origval | mapval\n"
"---------+--------\n"
"     249 |      1\n"
"     250 |      1\n"
"     251 |\n"
"     252 |      2\n"
"     253 |      3\n"
"     254 |      3\n"
"\n"
"SELECT ST_BandPixelType(map_rast2) As b1pixtyp\n"
"FROM dummy_rast WHERE rid = 2;\n"
"\n"
" b1pixtyp\n"
"----------\n"
" 2BUI"
msgstr ""

#. Tag: para
#: reference_raster.xml:8156
#, no-c-format
msgid "original (column rast-view)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8173
#, no-c-format
msgid ""
"CREATE FUNCTION rast_plus_tan(pixel float, pos integer[], variadic args "
"text[])\n"
"RETURNS float\n"
"AS\n"
"$$\n"
"BEGIN\n"
"        RETURN tan(pixel) * pixel;\n"
"END;\n"
"$$\n"
"LANGUAGE 'plpgsql';\n"
"\n"
"SELECT ST_AddBand(\n"
"        ST_AddBand(\n"
"                ST_AddBand(\n"
"                        ST_MakeEmptyRaster(rast_view),\n"
"                        ST_MapAlgebraFct(rast_view,1,"
"NULL,'rast_plus_tan(float,integer[],text[])'::regprocedure)\n"
"                ),\n"
"                ST_Band(rast_view,2)\n"
"        ),\n"
"        ST_Band(rast_view, 3) As rast_view_ma\n"
")\n"
"FROM wind\n"
"WHERE rid=167;"
msgstr ""

#. Tag: para
#: reference_raster.xml:8178 reference_raster.xml:8301
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_BandPixelType\"/>, <xref linkend=\"RT_ST_GeoReference"
"\"/>, <xref linkend=\"RT_ST_SetValue\"/>"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8190
#, no-c-format
msgid ""
"2 band version - Creates a new one band raster formed by applying a valid "
"PostgreSQL function on the 2 input raster bands and of pixeltype prodived. "
"Band 1 is assumed if no band is specified. Extent type defaults to "
"INTERSECTION if not specified."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8194
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_MapAlgebraFct</function></"
"funcdef> <paramdef><type>raster</type> <parameter>rast1</parameter></"
"paramdef> <paramdef><type>raster</type> <parameter>rast2</parameter></"
"paramdef> <paramdef><type>regprocedure</type> <parameter>tworastuserfunc</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text</type> "
"<parameter>pixeltype=same_as_rast1</parameter></paramdef> <paramdef choice="
"\"opt\"><type>text</type> <parameter>extenttype=INTERSECTION</parameter></"
"paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC userargs</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_MapAlgebraFct</function></funcdef> <paramdef><type>raster</"
"type> <parameter>rast1</parameter></paramdef> <paramdef><type>integer</type> "
"<parameter>band1</parameter></paramdef> <paramdef><type>raster</type> "
"<parameter>rast2</parameter></paramdef> <paramdef><type>integer</type> "
"<parameter>band2</parameter></paramdef> <paramdef><type>regprocedure</type> "
"<parameter>tworastuserfunc</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text</type> <parameter>pixeltype=same_as_rast1</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text</type> "
"<parameter>extenttype=INTERSECTION</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC userargs</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8228
#, no-c-format
msgid ""
"Creates a new one band raster formed by applying a valid PostgreSQL function "
"specified by the <varname>tworastuserfunc</varname> on the input raster "
"<varname>rast1</varname>, <varname>rast2</varname>. If no <varname>band1</"
"varname> or <varname>band2</varname> is specified, band 1 is assumed. The "
"new raster will have the same georeference, width, and height as the "
"original rasters but will only have one band."
msgstr ""

#. Tag: para
#: reference_raster.xml:8231
#, no-c-format
msgid ""
"If <varname>pixeltype</varname> is passed in, then the new raster will have "
"a band of that pixeltype. If pixeltype is passed NULL or left out, then the "
"new raster band will have the same pixeltype as the input <varname>rast1</"
"varname> band."
msgstr ""

#. Tag: para
#: reference_raster.xml:8234
#, no-c-format
msgid ""
"The <varname>tworastuserfunc</varname> parameter must be the name and "
"signature of an SQL or PL/pgSQL function, cast to a regprocedure. An example "
"PL/pgSQL function example is: <programlisting>CREATE OR REPLACE FUNCTION "
"simple_function_for_two_rasters(pixel1 FLOAT, pixel2 FLOAT, pos INTEGER[], "
"VARIADIC args TEXT[])\n"
"    RETURNS FLOAT\n"
"    AS $$ BEGIN\n"
"        RETURN 0.0;\n"
"    END; $$\n"
"    LANGUAGE 'plpgsql' IMMUTABLE;</programlisting> The "
"<varname>tworastuserfunc</varname> may accept three or four arguments: a "
"double precision value, a double precision value, an optional integer array, "
"and a variadic text array. The first argument is the value of an individual "
"raster cell in <varname>rast1</varname> (regardless of the raster datatype). "
"The second argument is an individual raster cell value in <varname>rast2</"
"varname>. The third argument is the position of the current processing cell "
"in the form '{x,y}'. The fourth argument indicates that all remaining "
"parameters to <xref linkend=\"RT_ST_MapAlgebraFct2\"/> shall be passed "
"through to the <varname>tworastuserfunc</varname>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8240
#, no-c-format
msgid ""
"Passing a <type>regprodedure</type> argument to a SQL function requires the "
"full function signature to be passed, then cast to a <type>regprocedure</"
"type> type. To pass the above example PL/pgSQL function as an argument, the "
"SQL for the argument is:<programlisting>'simple_function(double precision, "
"double precision, integer[], text[])'::regprocedure</programlisting>Note "
"that the argument contains the name of the function, the types of the "
"function arguments, quotes around the name and argument types, and a cast to "
"a <type>regprocedure</type>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8243
#, no-c-format
msgid ""
"The fourth argument to the <varname>tworastuserfunc</varname> is a "
"<type>variadic text</type> array. All trailing text arguments to any <xref "
"linkend=\"RT_ST_MapAlgebraFct2\"/> call are passed through to the specified "
"<varname>tworastuserfunc</varname>, and are contained in the "
"<varname>userargs</varname> argument."
msgstr ""

#. Tag: para
#: reference_raster.xml:8251
#, no-c-format
msgid ""
"The <type>text[]</type> argument to the <varname>tworastuserfunc</varname> "
"is required, regardless of whether you choose to pass any arguments to your "
"user function for processing or not."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8259
#, no-c-format
msgid ""
"-- define our user defined function --\n"
"CREATE OR REPLACE FUNCTION raster_mapalgebra_union(\n"
"        rast1 double precision,\n"
"        rast2 double precision,\n"
"    pos integer[],\n"
"        VARIADIC userargs text[]\n"
")\n"
"        RETURNS double precision\n"
"        AS $$\n"
"        DECLARE\n"
"        BEGIN\n"
"                CASE\n"
"                        WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN\n"
"                                RETURN ((rast1 + rast2)/2.);\n"
"                        WHEN rast1 IS NULL AND rast2 IS NULL THEN\n"
"                                RETURN NULL;\n"
"                        WHEN rast1 IS NULL THEN\n"
"                                RETURN rast2;\n"
"                        ELSE\n"
"                                RETURN rast1;\n"
"                END CASE;\n"
"\n"
"                RETURN NULL;\n"
"        END;\n"
"        $$ LANGUAGE 'plpgsql' IMMUTABLE COST 1000;\n"
"\n"
"-- prep our test table of rasters\n"
"DROP TABLE IF EXISTS map_shapes;\n"
"CREATE TABLE map_shapes(rid serial PRIMARY KEY, rast raster, bnum integer, "
"descrip text);\n"
"INSERT INTO map_shapes(rast,bnum, descrip)\n"
"WITH mygeoms\n"
"    AS ( SELECT 2 As bnum, ST_Buffer(ST_Point(90,90),30) As geom, 'circle' "
"As descrip\n"
"            UNION ALL\n"
"            SELECT 3 AS bnum,\n"
"                ST_Buffer(ST_GeomFromText('LINESTRING(50 50,150 150,150 "
"50)'), 15) As geom, 'big road' As descrip\n"
"            UNION ALL\n"
"            SELECT 1 As bnum,\n"
"                ST_Translate(ST_Buffer(ST_GeomFromText('LINESTRING(60 50,150 "
"150,150 50)'), 8,'join=bevel'), 10,-6) As geom, 'small road' As descrip\n"
"            ),\n"
"   -- define our canvas to be 1 to 1 pixel to geometry\n"
"   canvas\n"
"    AS ( SELECT ST_AddBand(ST_MakeEmptyRaster(250,\n"
"        250,\n"
"        ST_XMin(e)::integer, ST_YMax(e)::integer, 1, -1, 0, 0 ) , '8BUI'::"
"text,0) As rast\n"
"        FROM (SELECT ST_Extent(geom) As e,\n"
"                    Max(ST_SRID(geom)) As srid\n"
"                    from mygeoms\n"
"                    ) As foo\n"
"            )\n"
"-- return our rasters aligned with our canvas\n"
"SELECT ST_AsRaster(m.geom, canvas.rast, '8BUI', 240) As rast, bnum, descrip\n"
"                FROM mygeoms AS m CROSS JOIN canvas\n"
"UNION ALL\n"
"SELECT canvas.rast, 4, 'canvas'\n"
"FROM canvas;\n"
"\n"
"-- Map algebra on single band rasters and then collect with ST_AddBand\n"
"INSERT INTO map_shapes(rast,bnum,descrip)\n"
"SELECT ST_AddBand(ST_AddBand(rasts[1], rasts[2]),rasts[3]), 4, 'map bands "
"overlay fct union (canvas)'\n"
"        FROM (SELECT ARRAY(SELECT ST_MapAlgebraFct(m1.rast, m2.rast,\n"
"                        'raster_mapalgebra_union(double precision, double "
"precision, integer[], text[])'::regprocedure, '8BUI', 'FIRST')\n"
"                FROM map_shapes As m1 CROSS JOIN map_shapes As m2\n"
"        WHERE m1.descrip = 'canvas' AND m2.descrip &lt;&gt; 'canvas' ORDER "
"BY m2.bnum) As rasts) As foo;"
msgstr ""

#. Tag: para
#: reference_raster.xml:8272
#, no-c-format
msgid "map bands overlay (canvas) (R: small road, G: circle, B: big road)"
msgstr ""

#. Tag: title
#: reference_raster.xml:8284
#, no-c-format
msgid "User Defined function that takes extra args"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8285
#, no-c-format
msgid ""
"CREATE OR REPLACE FUNCTION raster_mapalgebra_userargs(\n"
"        rast1 double precision,\n"
"        rast2 double precision,\n"
"    pos integer[],\n"
"        VARIADIC userargs text[]\n"
")\n"
"        RETURNS double precision\n"
"        AS $$\n"
"        DECLARE\n"
"        BEGIN\n"
"                CASE\n"
"                        WHEN rast1 IS NOT NULL AND rast2 IS NOT NULL THEN\n"
"                                RETURN least(userargs[1]::integer,(rast1 + "
"rast2)/2.);\n"
"                        WHEN rast1 IS NULL AND rast2 IS NULL THEN\n"
"                                RETURN userargs[2]::integer;\n"
"                        WHEN rast1 IS NULL THEN\n"
"                                RETURN greatest(rast2,random()*userargs[3]::"
"integer)::integer;\n"
"                        ELSE\n"
"                                RETURN greatest(rast1, random()*userargs[4]::"
"integer)::integer;\n"
"                END CASE;\n"
"\n"
"                RETURN NULL;\n"
"        END;\n"
"        $$ LANGUAGE 'plpgsql' VOLATILE COST 1000;\n"
"\n"
"SELECT ST_MapAlgebraFct(m1.rast, 1, m1.rast, 3,\n"
"                        'raster_mapalgebra_userargs(double precision, double "
"precision, integer[], text[])'::regprocedure,\n"
"                                '8BUI', 'INTERSECT', '100','200','200','0')\n"
"                FROM map_shapes As m1\n"
"        WHERE m1.descrip = 'map bands overlay fct union (canvas)';"
msgstr ""

#. Tag: para
#: reference_raster.xml:8293
#, no-c-format
msgid "user defined with extra args and different bands from same raster"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8312
#, no-c-format
msgid "ST_MapAlgebraFctNgb"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8313
#, no-c-format
msgid ""
"1-band version: Map Algebra Nearest Neighbor using user-defined PostgreSQL "
"function. Return a raster which values are the result of a PLPGSQL user "
"function involving a neighborhood of values from the input raster band."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:8318
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_MapAlgebraFctNgb</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>band</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>ngbwidth</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>ngbheight</parameter></paramdef> "
"<paramdef><type>regprocedure </type> <parameter>onerastngbuserfunc</"
"parameter></paramdef> <paramdef><type>text </type> <parameter>nodatamode</"
"parameter></paramdef> <paramdef><type>text[] </type> <parameter>VARIADIC "
"args</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8341
#, no-c-format
msgid ""
"(one raster version) Return a raster which values are the result of a "
"PLPGSQL user function involving a neighborhood of values from the input "
"raster band. The user function takes the neighborhood of pixel values as an "
"array of numbers, for each pixel, returns the result from the user function, "
"replacing pixel value of currently inspected pixel with the function result."
msgstr ""

#. Tag: term
#: reference_raster.xml:8345
#, no-c-format
msgid "rast"
msgstr ""

#. Tag: para
#: reference_raster.xml:8346
#, no-c-format
msgid "Raster on which the user function is evaluated."
msgstr ""

#. Tag: term
#: reference_raster.xml:8349
#, no-c-format
msgid "band"
msgstr ""

#. Tag: para
#: reference_raster.xml:8350
#, no-c-format
msgid "Band number of the raster to be evaluated. Default to 1."
msgstr ""

#. Tag: para
#: reference_raster.xml:8354
#, no-c-format
msgid ""
"The resulting pixel type of the output raster. Must be one listed in <xref "
"linkend=\"RT_ST_BandPixelType\"/> or left out or set to NULL. If not passed "
"in or set to NULL, will default to the pixeltype of the <varname>rast</"
"varname>. Results are truncated if they are larger than what is allowed for "
"the pixeltype."
msgstr ""

#. Tag: term
#: reference_raster.xml:8357
#, no-c-format
msgid "ngbwidth"
msgstr ""

#. Tag: para
#: reference_raster.xml:8358
#, no-c-format
msgid "The width of the neighborhood, in cells."
msgstr ""

#. Tag: term
#: reference_raster.xml:8361
#, no-c-format
msgid "ngbheight"
msgstr ""

#. Tag: para
#: reference_raster.xml:8362
#, no-c-format
msgid "The height of the neighborhood, in cells."
msgstr ""

#. Tag: term
#: reference_raster.xml:8365
#, no-c-format
msgid "onerastngbuserfunc"
msgstr ""

#. Tag: para
#: reference_raster.xml:8366
#, no-c-format
msgid ""
"PLPGSQL/psql user function to apply to neighborhood pixels of a single band "
"of a raster. The first element is a 2-dimensional array of numbers "
"representing the rectangular pixel neighborhood"
msgstr ""

#. Tag: term
#: reference_raster.xml:8369
#, no-c-format
msgid "nodatamode"
msgstr ""

#. Tag: para
#: reference_raster.xml:8371
#, no-c-format
msgid ""
"Defines what value to pass to the function for a neighborhood pixel that is "
"nodata or NULL"
msgstr ""

#. Tag: para
#: reference_raster.xml:8372
#, no-c-format
msgid ""
"'ignore': any NODATA values encountered in the neighborhood are ignored by "
"the computation -- this flag must be sent to the user callback function, and "
"the user function decides how to ignore it."
msgstr ""

#. Tag: para
#: reference_raster.xml:8373
#, no-c-format
msgid ""
"'NULL': any NODATA values encountered in the neighborhood will cause the "
"resulting pixel to be NULL -- the user callback function is skipped in this "
"case."
msgstr ""

#. Tag: para
#: reference_raster.xml:8374
#, no-c-format
msgid ""
"'value': any NODATA values encountered in the neighborhood are replaced by "
"the reference pixel (the one in the center of the neighborhood). Note that "
"if this value is NODATA, the behavior is the same as 'NULL' (for the "
"affected neighborhood)"
msgstr ""

#. Tag: term
#: reference_raster.xml:8378
#, no-c-format
msgid "args"
msgstr ""

#. Tag: para
#: reference_raster.xml:8379
#, no-c-format
msgid "Arguments to pass into the user function."
msgstr ""

#. Tag: para
#: reference_raster.xml:8389
#, no-c-format
msgid ""
"Examples utilize the katrina raster loaded as a single tile described in "
"<ulink url=\"http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html\">http://"
"trac.osgeo.org/gdal/wiki/frmts_wtkraster.html</ulink> and then prepared in "
"the <xref linkend=\"RT_ST_Rescale\"/> examples"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8391
#, no-c-format
msgid ""
"--\n"
"-- A simple 'callback' user function that averages up all the values in a "
"neighborhood.\n"
"--\n"
"CREATE OR REPLACE FUNCTION rast_avg(matrix float[][], nodatamode text, "
"variadic args text[])\n"
"    RETURNS float AS\n"
"    $$\n"
"    DECLARE\n"
"                _matrix float[][];\n"
"        x1 integer;\n"
"        x2 integer;\n"
"        y1 integer;\n"
"        y2 integer;\n"
"        sum float;\n"
"    BEGIN\n"
"                _matrix := matrix;\n"
"        sum := 0;\n"
"        FOR x in array_lower(matrix, 1)..array_upper(matrix, 1) LOOP\n"
"            FOR y in array_lower(matrix, 2)..array_upper(matrix, 2) LOOP\n"
"                sum := sum + _matrix[x][y];\n"
"            END LOOP;\n"
"        END LOOP;\n"
"        RETURN (sum*1.0/(array_upper(matrix,1)*array_upper(matrix,2) ))::"
"integer ;\n"
"    END;\n"
"    $$\n"
"LANGUAGE 'plpgsql' IMMUTABLE COST 1000;\n"
"\n"
"-- now we apply to our raster averaging pixels within 2 pixels of each other "
"in X and Y direction --\n"
"SELECT ST_MapAlgebraFctNgb(rast, 1,  '8BUI', 4,4,\n"
"                'rast_avg(float[][], text, text[])'::regprocedure, 'NULL', "
"NULL) As nn_with_border\n"
"        FROM katrinas_rescaled\n"
"        limit 1;"
msgstr ""

#. Tag: para
#: reference_raster.xml:8405
#, no-c-format
msgid "First band of our raster"
msgstr ""

#. Tag: para
#: reference_raster.xml:8419
#, no-c-format
msgid "new raster after averaging pixels withing 4x4 pixels of each other"
msgstr ""

#. Tag: para
#: reference_raster.xml:8434
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebraExpr\"/>, <xref linkend=\"RT_ST_Rescale\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8444
#, no-c-format
msgid "ST_Reclass"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8445
#, no-c-format
msgid ""
"Creates a new raster composed of band types reclassified from original. The "
"nband is the band to be changed. If nband is not specified assumed to be 1. "
"All other bands are returned unchanged. Use case: convert a 16BUI band to a "
"8BUI and so forth for simpler rendering as viewable formats."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8449
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Reclass</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>reclassexpr</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>pixeltype</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>nodataval=NULL</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Reclass</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>reclassarg[] </type> <parameter>VARIADIC reclassargset</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Reclass</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>reclassexpr</parameter></paramdef> <paramdef><type>text </type> "
"<parameter>pixeltype</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8477
#, no-c-format
msgid ""
"Creates a new raster formed by applying a valid PostgreSQL algebraic "
"operation defined by the <varname>reclassexpr</varname> on the input raster "
"(<varname>rast</varname>). If no <varname>band</varname> is specified band 1 "
"is assumed. The new raster will have the same georeference, width, and "
"height as the original raster. Bands not designated will come back "
"unchanged. Refer to <xref linkend=\"reclassarg\"/> for description of valid "
"reclassification expressions."
msgstr ""

#. Tag: para
#: reference_raster.xml:8479
#, no-c-format
msgid ""
"The bands of the new raster will have pixel type of <varname>pixeltype</"
"varname>. If <varname>reclassargset</varname> is passed in then each "
"reclassarg defines behavior of each band generated."
msgstr ""

#. Tag: para
#: reference_raster.xml:8486
#, no-c-format
msgid ""
"Create a new raster from the original where band 2 is converted from 8BUI to "
"4BUI and all values from 101-254 are set to nodata value."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8487
#, no-c-format
msgid ""
"ALTER TABLE dummy_rast ADD COLUMN reclass_rast raster;\n"
"UPDATE dummy_rast SET reclass_rast = ST_Reclass(rast,2,'0-87:1-10, "
"88-100:11-15, 101-254:0-0', '4BUI',0) WHERE rid = 2;\n"
"\n"
"SELECT i as col, j as row, ST_Value(rast,2,i,j) As origval,\n"
"    ST_Value(reclass_rast, 2, i, j) As reclassval,\n"
"    ST_Value(reclass_rast, 2, i, j, false) As reclassval_include_nodata\n"
"FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN "
"generate_series(1,3) AS j\n"
"WHERE rid = 2;\n"
"\n"
" col | row | origval | reclassval | reclassval_include_nodata\n"
"-----+-----+---------+------------+---------------------------\n"
"   1 |   1 |      78 |          9 |                         9\n"
"   2 |   1 |      98 |         14 |                        14\n"
"   3 |   1 |     122 |            |                         0\n"
"   1 |   2 |      96 |         14 |                        14\n"
"   2 |   2 |     118 |            |                         0\n"
"   3 |   2 |     180 |            |                         0\n"
"   1 |   3 |      99 |         15 |                        15\n"
"   2 |   3 |     112 |            |                         0\n"
"   3 |   3 |     169 |            |                         0"
msgstr ""

#. Tag: title
#: reference_raster.xml:8491
#, no-c-format
msgid "Example: Advanced using multiple reclassargs"
msgstr ""

#. Tag: para
#: reference_raster.xml:8493
#, no-c-format
msgid ""
"Create a new raster from the original where band 1,2,3 is converted to "
"1BB,4BUI, 4BUI respectively and reclassified. Note this uses the variadic "
"<varname>reclassarg</varname> argument which can take as input an indefinite "
"number of reclassargs (theoretically as many bands as you have)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8494
#, no-c-format
msgid ""
"UPDATE dummy_rast SET reclass_rast =\n"
"    ST_Reclass(rast,\n"
"        ROW(2,'0-87]:1-10, (87-100]:11-15, (101-254]:0-0', '4BUI',NULL)::"
"reclassarg,\n"
"        ROW(1,'0-253]:1, 254:0', '1BB', NULL)::reclassarg,\n"
"        ROW(3,'0-70]:1, (70-86:2, [86-150):3, [150-255:4', '4BUI', NULL)::"
"reclassarg\n"
"        ) WHERE rid = 2;\n"
"\n"
"SELECT i as col, j as row,ST_Value(rast,1,i,j) As ov1,  "
"ST_Value(reclass_rast, 1, i, j) As rv1,\n"
"    ST_Value(rast,2,i,j) As ov2, ST_Value(reclass_rast, 2, i, j) As rv2,\n"
"    ST_Value(rast,3,i,j) As ov3, ST_Value(reclass_rast, 3, i, j) As rv3\n"
"FROM dummy_rast CROSS JOIN generate_series(1, 3) AS i CROSS JOIN "
"generate_series(1,3) AS j\n"
"WHERE rid = 2;\n"
"\n"
"col | row | ov1 | rv1 | ov2 | rv2 | ov3 | rv3\n"
"----+-----+-----+-----+-----+-----+-----+-----\n"
"  1 |   1 | 253 |   1 |  78 |   9 |  70 |   1\n"
"  2 |   1 | 254 |   0 |  98 |  14 |  86 |   3\n"
"  3 |   1 | 253 |   1 | 122 |   0 | 100 |   3\n"
"  1 |   2 | 253 |   1 |  96 |  14 |  80 |   2\n"
"  2 |   2 | 254 |   0 | 118 |   0 | 108 |   3\n"
"  3 |   2 | 254 |   0 | 180 |   0 | 162 |   4\n"
"  1 |   3 | 250 |   1 |  99 |  15 |  90 |   3\n"
"  2 |   3 | 254 |   0 | 112 |   0 | 108 |   3\n"
"  3 |   3 | 254 |   0 | 169 |   0 | 175 |   4"
msgstr ""

#. Tag: title
#: reference_raster.xml:8498
#, no-c-format
msgid ""
"Example: Advanced Map a single band 32BF raster to multiple viewable bands"
msgstr ""

#. Tag: para
#: reference_raster.xml:8499
#, no-c-format
msgid ""
"Create a new 3 band (8BUI,8BUI,8BUI viewable raster) from a raster that has "
"only one 32bf band"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8500
#, no-c-format
msgid ""
"ALTER TABLE wind ADD COLUMN rast_view raster;\n"
"UPDATE wind\n"
"        set rast_view = ST_AddBand( NULL,\n"
"        ARRAY[\n"
"        ST_Reclass(rast, 1,'0.1-10]:1-10,9-10]:11,(11-33:0'::text, '8BUI'::"
"text,0),\n"
"        ST_Reclass(rast,1, '11-33):0-255,[0-32:0,(34-1000:0'::text, '8BUI'::"
"text,0),\n"
"        ST_Reclass(rast,1,'0-32]:0,(32-100:100-255'::text, '8BUI'::text,0)\n"
"        ]\n"
"        );"
msgstr ""

#. Tag: para
#: reference_raster.xml:8505
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Band\"/>, <xref linkend=\"RT_ST_BandPixelType\"/>, "
"<xref linkend=\"RT_ST_MakeEmptyRaster\"/>, <xref linkend=\"reclassarg\"/>, "
"<xref linkend=\"RT_ST_Value\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8518
#, no-c-format
msgid "ST_Union"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8519
#, no-c-format
msgid ""
"Returns the union of a set of raster tiles into a single raster composed of "
"1 or more bands."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8523
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Union</function></funcdef> "
"<paramdef><type>setof raster </type> <parameter>rast</parameter></paramdef> "
"</funcprototype> <funcprototype> <funcdef>raster <function>ST_Union</"
"function></funcdef> <paramdef><type>setof raster </type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>unionarg[] </type> "
"<parameter>unionargset</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Union</function></funcdef> "
"<paramdef><type>setof raster</type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer</type> <parameter>nband</parameter></paramdef> </"
"funcprototype> <funcprototype> <funcdef>raster <function>ST_Union</"
"function></funcdef> <paramdef><type>setof raster</type> <parameter>rast</"
"parameter></paramdef> <paramdef><type>text</type> <parameter>uniontype</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Union</function></funcdef> <paramdef><type>setof raster</type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer</type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>text</type> "
"<parameter>uniontype</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8559
#, no-c-format
msgid ""
"Returns the union of a set of raster tiles into a single raster composed of "
"at least one band. The resulting raster's extent is the extent of the whole "
"set. In the case of intersection, the resulting value is defined by "
"<varname>uniontype</varname> which is one of the following: LAST (default), "
"FIRST, MIN, MAX, COUNT, SUM, MEAN, RANGE."
msgstr ""

#. Tag: para
#: reference_raster.xml:8562
#, no-c-format
msgid ""
"In order for rasters to be unioned, they must all have the same alignment. "
"Use <xref linkend=\"RT_ST_SameAlignment\"/> and <xref linkend="
"\"RT_ST_NotSameAlignmentReason\"/> for more details and help. One way to fix "
"alignment issues is to use <xref linkend=\"RT_ST_Resample\"/> and use the "
"same reference raster for alignment."
msgstr ""

#. Tag: para
#: reference_raster.xml:8566
#, no-c-format
msgid "Enhanced: 2.1.0 Improved Speed (fully C-Based)."
msgstr ""

#. Tag: para
#: reference_raster.xml:8567
#, no-c-format
msgid "Availability: 2.1.0 ST_Union(rast, unionarg) variant was introduced."
msgstr ""

#. Tag: para
#: reference_raster.xml:8568
#, no-c-format
msgid ""
"Enhanced: 2.1.0 ST_Union(rast) (variant 1) unions all bands of all input "
"rasters. Prior versions of PostGIS assumed the first band."
msgstr ""

#. Tag: para
#: reference_raster.xml:8569
#, no-c-format
msgid ""
"Enhanced: 2.1.0 ST_Union(rast, uniontype) (variant 4) unions all bands of "
"all input rasters."
msgstr ""

#. Tag: title
#: reference_raster.xml:8572
#, no-c-format
msgid "Examples: Reconstitute a single band chunked raster tile"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8573
#, no-c-format
msgid ""
"-- this creates a single band from first band of raster tiles\n"
"-- that form the original file system tile\n"
"SELECT filename, ST_Union(rast,1) As file_rast\n"
"FROM sometable WHERE filename IN('dem01', 'dem02') GROUP BY filename;"
msgstr ""

#. Tag: title
#: reference_raster.xml:8577 reference_raster.xml:8581
#, no-c-format
msgid ""
"Examples: Return a multi-band raster that is the union of tiles intersecting "
"geometry"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8578
#, no-c-format
msgid ""
"-- this creates a multi band raster collecting all the tiles that intersect "
"a line\n"
"-- Note: In 2.0, this would have just returned a single band raster\n"
"-- , new union works on all bands by default\n"
"-- this is equivalent to unionarg: ARRAY[ROW(1, 'LAST'), ROW(2, 'LAST'), "
"ROW(3, 'LAST')]::unionarg[]\n"
"SELECT ST_Union(rast)\n"
"FROM aerials.boston\n"
"WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 "
"88772)',26986) );"
msgstr ""

#. Tag: para
#: reference_raster.xml:8582
#, no-c-format
msgid ""
"Here we use the longer syntax if we only wanted a subset of bands or we want "
"to change order of bands"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8583
#, no-c-format
msgid ""
"-- this creates a multi band raster collecting all the tiles that intersect "
"a line\n"
"SELECT ST_Union(rast,ARRAY[ROW(2, 'LAST'), ROW(1, 'LAST'), ROW(3, 'LAST')]::"
"unionarg[])\n"
"FROM aerials.boston\n"
"WHERE ST_Intersects(rast,  ST_GeomFromText('LINESTRING(230486 887771, 230500 "
"88772)',26986) );"
msgstr ""

#. Tag: para
#: reference_raster.xml:8589
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Envelope\"/>, <xref linkend=\"RT_ST_ConvexHull\"/>, "
"<xref linkend=\"RT_ST_Clip\"/>, <xref linkend=\"ST_Union\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:8602
#, no-c-format
msgid "Built-in Map Algebra Callback Functions"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8606
#, no-c-format
msgid "ST_Distinct4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8607
#, no-c-format
msgid ""
"Raster processing function that calculates the number of unique pixel values "
"in a neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8611
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Distinct4ma</function></"
"funcdef> <paramdef><type>float8[][]</type> <parameter>matrix</parameter></"
"paramdef> <paramdef><type>text</type> <parameter>nodatamode</parameter></"
"paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC args</"
"parameter></paramdef> </funcprototype> <funcprototype> <funcdef>double "
"precision <function>ST_Distinct4ma</function></funcdef> "
"<paramdef><type>double precision[][][]</type> <parameter>value</parameter></"
"paramdef> <paramdef><type>integer[][] </type> <parameter>pos</parameter></"
"paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC userargs</"
"parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8631
#, no-c-format
msgid ""
"Calculate the number of unique pixel values in a neighborhood of pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:8634 reference_raster.xml:8773
#: reference_raster.xml:8848 reference_raster.xml:8933
#: reference_raster.xml:9058 reference_raster.xml:9129
#: reference_raster.xml:9204
#, no-c-format
msgid ""
"Variant 1 is a specialized callback function for use as a callback parameter "
"to <xref linkend=\"RT_ST_MapAlgebraFctNgb\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8638 reference_raster.xml:8777
#: reference_raster.xml:8852 reference_raster.xml:8939
#: reference_raster.xml:9062 reference_raster.xml:9133
#: reference_raster.xml:9208
#, no-c-format
msgid ""
"Variant 2 is a specialized callback function for use as a callback parameter "
"to <xref linkend=\"RT_ST_MapAlgebra\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:8644 reference_raster.xml:8783
#: reference_raster.xml:8858 reference_raster.xml:8945
#: reference_raster.xml:9068 reference_raster.xml:9139
#: reference_raster.xml:9214
#, no-c-format
msgid ""
"Use of Variant 1 is discouraged since <xref linkend=\"RT_ST_MapAlgebraFctNgb"
"\"/> has been deprecated as of 2.1.0."
msgstr ""

#. Tag: para
#: reference_raster.xml:8650 reference_raster.xml:8789
#: reference_raster.xml:8864 reference_raster.xml:8951
#: reference_raster.xml:9074 reference_raster.xml:9145
#: reference_raster.xml:9220
#, no-c-format
msgid "Enhanced: 2.1.0 Addition of Variant 2"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8656
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_distinct4ma(float[][],"
"text,text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid | st_value\n"
"-----+----------\n"
"   2 |        3\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:8662 reference_raster.xml:9086
#: reference_raster.xml:9157
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Min4ma\"/>, "
"<xref linkend=\"RT_ST_Max4ma\"/>, <xref linkend=\"RT_ST_Sum4ma\"/>, <xref "
"linkend=\"RT_ST_Mean4ma\"/>, <xref linkend=\"RT_ST_Distinct4ma\"/>, <xref "
"linkend=\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8677
#, no-c-format
msgid "ST_InvDistWeight4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8678
#, no-c-format
msgid ""
"Raster processing function that interpolates a pixel's value from the "
"pixel's neighborhood."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:8683
#, no-c-format
msgid ""
"<funcdef>double precision <function>ST_InvDistWeight4ma</function></funcdef> "
"<paramdef><type>double precision[][][]</type> <parameter>value</parameter></"
"paramdef> <paramdef><type>integer[][]</type> <parameter>pos</parameter></"
"paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC userargs</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8695
#, no-c-format
msgid ""
"Calculate an interpolated value for a pixel using the Inverse Distance "
"Weighted method."
msgstr ""

#. Tag: para
#: reference_raster.xml:8697
#, no-c-format
msgid ""
"There are two optional parameters that can be passed through "
"<varname>userargs</varname>. The first parameter is the power factor "
"(variable k in the equation below) between 0 and 1 used in the Inverse "
"Distance Weighted equation. If not specified, default value is 1. The second "
"parameter is the weight percentage applied only when the value of the pixel "
"of interest is included with the interpolated value from the neighborhood. "
"If not specified and the pixel of interest has a value, that value is "
"returned."
msgstr ""

#. Tag: para
#: reference_raster.xml:8701
#, no-c-format
msgid "The basic inverse distance weight equation is:"
msgstr ""

#. Tag: para
#: reference_raster.xml:8710
#, no-c-format
msgid "k = power factor, a real number between 0 and 1"
msgstr ""

#. Tag: para
#: reference_raster.xml:8719 reference_raster.xml:9004
#, no-c-format
msgid ""
"This function is a specialized callback function for use as a callback "
"parameter to <xref linkend=\"RT_ST_MapAlgebra\"/>."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8727 reference_raster.xml:9012
#, no-c-format
msgid "-- NEEDS EXAMPLE"
msgstr ""

#. Tag: para
#: reference_raster.xml:8732
#, no-c-format
msgid ", <xref linkend=\"RT_ST_MinDist4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8741
#, no-c-format
msgid "ST_Max4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8742
#, no-c-format
msgid ""
"Raster processing function that calculates the maximum pixel value in a "
"neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8746
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Max4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text</type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Max4ma</function></funcdef> <paramdef><type>double precision[][]"
"[]</type> <parameter>value</parameter></paramdef> <paramdef><type>integer[]"
"[] </type> <parameter>pos</parameter></paramdef> <paramdef><type>text[]</"
"type> <parameter>VARIADIC userargs</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8766
#, no-c-format
msgid "Calculate the maximum pixel value in a neighborhood of pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:8768 reference_raster.xml:8843
#: reference_raster.xml:8928 reference_raster.xml:9053
#: reference_raster.xml:9199
#, no-c-format
msgid ""
"For Variant 2, a substitution value for NODATA pixels can be specified by "
"passing that value to userargs."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8795
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_max4ma(float[][],text,"
"text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid | st_value\n"
"-----+----------\n"
"   2 |      254\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:8801
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Min4ma\"/>, "
"<xref linkend=\"RT_ST_Sum4ma\"/>, <xref linkend=\"RT_ST_Mean4ma\"/>, <xref "
"linkend=\"RT_ST_Range4ma\"/>, <xref linkend=\"RT_ST_Distinct4ma\"/>, <xref "
"linkend=\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8816
#, no-c-format
msgid "ST_Mean4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8817
#, no-c-format
msgid ""
"Raster processing function that calculates the mean pixel value in a "
"neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8821
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Mean4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text</type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Mean4ma</function></funcdef> <paramdef><type>double precision[]"
"[][]</type> <parameter>value</parameter></paramdef> <paramdef><type>integer[]"
"[] </type> <parameter>pos</parameter></paramdef> <paramdef><type>text[]</"
"type> <parameter>VARIADIC userargs</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8841
#, no-c-format
msgid "Calculate the mean pixel value in a neighborhood of pixels."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8870
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_mean4ma(float[][],"
"text,text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid |     st_value\n"
"-----+------------------\n"
"   2 | 253.222229003906\n"
"(1 row)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8877
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"              ST_MapAlgebra(rast, 1, 'st_mean4ma(double precision[][][], "
"integer[][], text[])'::regprocedure,'32BF', 'FIRST', NULL, 1, 1)\n"
"       ,  2, 2)\n"
"  FROM dummy_rast\n"
"   WHERE rid = 2;\n"
" rid |     st_value\n"
"-----+------------------\n"
"   2 | 253.222229003906\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:8883
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Min4ma\"/>, "
"<xref linkend=\"RT_ST_Max4ma\"/>, <xref linkend=\"RT_ST_Sum4ma\"/>, <xref "
"linkend=\"RT_ST_Range4ma\"/>, <xref linkend=\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8897
#, no-c-format
msgid "ST_Min4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8898
#, no-c-format
msgid ""
"Raster processing function that calculates the minimum pixel value in a "
"neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:8904
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Min4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Min4ma</function></funcdef> <paramdef><type>double precision[][]"
"[]</type> <parameter>value</parameter></paramdef> <paramdef><type>integer[]"
"[] </type> <parameter>pos</parameter></paramdef> <paramdef><type>text[]</"
"type> <parameter>VARIADIC userargs</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8924
#, no-c-format
msgid "Calculate the minimum pixel value in a neighborhood of pixels."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:8957
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_min4ma(float[][],text,"
"text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid | st_value\n"
"-----+----------\n"
"   2 |      250\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:8962
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Max4ma\"/>, "
"<xref linkend=\"RT_ST_Sum4ma\"/>, <xref linkend=\"RT_ST_Mean4ma\"/>, <xref "
"linkend=\"RT_ST_Range4ma\"/>, <xref linkend=\"RT_ST_Distinct4ma\"/>, <xref "
"linkend=\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:8977
#, no-c-format
msgid "ST_MinDist4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:8978
#, no-c-format
msgid ""
"Raster processing function that returns the minimum distance (in number of "
"pixels) between the pixel of interest and a neighboring pixel with value."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:8983
#, no-c-format
msgid ""
"<funcdef>double precision <function>ST_MinDist4ma</function></funcdef> "
"<paramdef><type>double precision[][][]</type> <parameter>value</parameter></"
"paramdef> <paramdef><type>integer[][]</type> <parameter>pos</parameter></"
"paramdef> <paramdef><type>text[]</type> <parameter>VARIADIC userargs</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:8995
#, no-c-format
msgid ""
"Return the shortest distance (in number of pixels) between the pixel of "
"interest and the closest pixel with value in the neighborhood."
msgstr ""

#. Tag: para
#: reference_raster.xml:8998
#, no-c-format
msgid ""
"The intent of this function is to provide an informative data point that "
"helps infer the usefulness of the pixel of interest's interpolated value "
"from <xref linkend=\"RT_ST_InvDistWeight4ma\"/>. This function is "
"particularly useful when the neighborhood is sparsely populated."
msgstr ""

#. Tag: para
#: reference_raster.xml:9017
#, no-c-format
msgid ", <xref linkend=\"RT_ST_InvDistWeight4ma\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9026
#, no-c-format
msgid "ST_Range4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9027
#, no-c-format
msgid ""
"Raster processing function that calculates the range of pixel values in a "
"neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9031
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Range4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text</type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Range4ma</function></funcdef> <paramdef><type>double precision[]"
"[][]</type> <parameter>value</parameter></paramdef> <paramdef><type>integer[]"
"[] </type> <parameter>pos</parameter></paramdef> <paramdef><type>text[]</"
"type> <parameter>VARIADIC userargs</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9051
#, no-c-format
msgid "Calculate the range of pixel values in a neighborhood of pixels."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9080
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, NULL, 1, 1, 'st_range4ma(float[][],text,"
"text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid | st_value\n"
"-----+----------\n"
"   2 |        4\n"
"(1 row)"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9101
#, no-c-format
msgid "ST_StdDev4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9102
#, no-c-format
msgid ""
"Raster processing function that calculates the standard deviation of pixel "
"values in a neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9106
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_StdDev4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text </type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_StdDev4ma</function></funcdef> <paramdef><type>double "
"precision[][][]</type> <parameter>value</parameter></paramdef> "
"<paramdef><type>integer[][] </type> <parameter>pos</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC userargs</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9126
#, no-c-format
msgid ""
"Calculate the standard deviation of pixel values in a neighborhood of pixels."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9151
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_stddev4ma(float[][],"
"text,text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid |     st_value\n"
"-----+------------------\n"
"   2 | 1.30170822143555\n"
"(1 row)"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9172
#, no-c-format
msgid "ST_Sum4ma"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9173
#, no-c-format
msgid ""
"Raster processing function that calculates the sum of all pixel values in a "
"neighborhood."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9177
#, no-c-format
msgid ""
"<funcprototype> <funcdef>float8 <function>ST_Sum4ma</function></funcdef> "
"<paramdef><type>float8[][]</type> <parameter>matrix</parameter></paramdef> "
"<paramdef><type>text</type> <parameter>nodatamode</parameter></paramdef> "
"<paramdef><type>text[]</type> <parameter>VARIADIC args</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>double precision "
"<function>ST_Sum4ma</function></funcdef> <paramdef><type>double precision[][]"
"[]</type> <parameter>value</parameter></paramdef> <paramdef><type>integer[]"
"[] </type> <parameter>pos</parameter></paramdef> <paramdef><type>text[]</"
"type> <parameter>VARIADIC userargs</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9197
#, no-c-format
msgid "Calculate the sum of all pixel values in a neighborhood of pixels."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9226
#, no-c-format
msgid ""
"SELECT\n"
"    rid,\n"
"    st_value(\n"
"        st_mapalgebrafctngb(rast, 1, '32BF', 1, 1, 'st_sum4ma(float[][],text,"
"text[])'::regprocedure, 'ignore', NULL), 2, 2\n"
"    )\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
" rid | st_value\n"
"-----+----------\n"
"   2 |     2279\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:9232
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MapAlgebra\"/>, <xref linkend=\"RT_ST_Min4ma\"/>, "
"<xref linkend=\"RT_ST_Max4ma\"/>, <xref linkend=\"RT_ST_Mean4ma\"/>, <xref "
"linkend=\"RT_ST_Range4ma\"/>, <xref linkend=\"RT_ST_Distinct4ma\"/>, <xref "
"linkend=\"RT_ST_StdDev4ma\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:9248
#, no-c-format
msgid "Raster Processing: DEM (Elevation)"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9252
#, no-c-format
msgid "ST_Aspect"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9253
#, no-c-format
msgid ""
"Returns the aspect (in degrees by default) of an elevation raster band. "
"Useful for analyzing terrain."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9256
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Aspect</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=32BF</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>units=DEGREES</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>interpolate_nodata=FALSE</parameter></paramdef> </funcprototype> "
"<funcprototype> <funcdef>raster <function>ST_Aspect</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>band</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>customextent</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=32BF</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>units=DEGREES</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>interpolate_nodata=FALSE</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9281
#, no-c-format
msgid ""
"Returns the aspect (in degrees by default) of an elevation raster band. "
"Utilizes map algebra and applies the aspect equation to neighboring pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:9283
#, no-c-format
msgid ""
"<varname>units</varname> indicates the units of the aspect. Possible values "
"are: RADIANS, DEGREES (default)."
msgstr ""

#. Tag: para
#: reference_raster.xml:9287
#, no-c-format
msgid ""
"When <varname>units</varname> = RADIANS, values are between 0 and 2 * pi "
"radians measured clockwise from North."
msgstr ""

#. Tag: para
#: reference_raster.xml:9291
#, no-c-format
msgid ""
"When <varname>units</varname> = DEGREES, values are between 0 and 360 "
"degrees measured clockwise from North."
msgstr ""

#. Tag: para
#: reference_raster.xml:9295
#, no-c-format
msgid "If slope of pixel is zero, aspect of pixel is -1."
msgstr ""

#. Tag: para
#: reference_raster.xml:9300
#, no-c-format
msgid ""
"For more information about Slope, Aspect and Hillshade, please refer to "
"<ulink url=\"http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?"
"TopicName=How%20Hillshade%20works\">ESRI - How hillshade works</ulink> and "
"<ulink url=\"http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/"
"wwhelp.htm?context=FieldGuide&amp;file=Aspect_Images.html\">ERDAS Field "
"Guide - Aspect Images</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:9306 reference_raster.xml:9402
#, no-c-format
msgid ""
"Enhanced: 2.1.0 Uses ST_MapAlgebra() and added optional "
"<varname>interpolate_nodata</varname> function parameter"
msgstr ""

#. Tag: para
#: reference_raster.xml:9307 reference_raster.xml:9531
#, no-c-format
msgid ""
"Changed: 2.1.0 In prior versions, return values were in radians. Now, return "
"values default to degrees"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9312
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_SetValues(\n"
"                ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), "
"1, '32BF', 0, -9999),\n"
"                1, 1, 1, ARRAY[\n"
"                        [1, 1, 1, 1, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 2, 3, 2, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 1, 1, 1, 1]\n"
"                ]::double precision[][]\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        ST_DumpValues(ST_Aspect(rast, 1, '32BF'))\n"
"FROM foo\n"
"\n"
"                                                                                                    st_dumpvalues\n"
"\n"
"------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n"
"----------------------------------\n"
" (1,\"{{315,341.565063476562,0,18.4349479675293,45},"
"{288.434936523438,315,0,45,71.5650482177734},{270,270,-1,90,90},"
"{251.565048217773,225,180,135,108.434951782227},{225,198.43495178\n"
"2227,180,161.565048217773,135}}\")\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:9318 reference_raster.xml:9415
#: reference_raster.xml:9543
#, no-c-format
msgid ""
"Complete example of tiles of a coverage. This query only works with "
"PostgreSQL 9.1 or higher."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9320
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_Tile(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '32BF', 0, -9999\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [1, 1, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 2, 1],\n"
"                                [1, 2, 2, 3, 3, 1],\n"
"                                [1, 1, 3, 2, 1, 1],\n"
"                                [1, 2, 2, 1, 2, 1],\n"
"                                [1, 1, 1, 1, 1, 1]\n"
"                        ]::double precision[]\n"
"                ),\n"
"                2, 2\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        t1.rast,\n"
"        ST_Aspect(ST_Union(t2.rast), 1, t1.rast)\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE ST_Intersects(t1.rast, t2.rast)\n"
"GROUP BY t1.rast;"
msgstr ""

#. Tag: para
#: reference_raster.xml:9325
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_TRI\"/>, <xref linkend=\"RT_ST_TPI\"/>, <xref "
"linkend=\"RT_ST_Roughness\"/>, <xref linkend=\"RT_ST_HillShade\"/>, <xref "
"linkend=\"RT_ST_Slope\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9338
#, no-c-format
msgid "ST_HillShade"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9339
#, no-c-format
msgid ""
"Returns the hypothetical illumination of an elevation raster band using "
"provided azimuth, altitude, brightness and scale inputs."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9342
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_HillShade</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=32BF</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>azimuth=315</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>altitude=45</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>max_bright=255</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>scale=1.0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>interpolate_nodata=FALSE</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_HillShade</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>band</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>customextent</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>pixeltype=32BF</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>azimuth=315</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>altitude=45</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>max_bright=255</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>double precision </type> <parameter>scale=1.0</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>interpolate_nodata=FALSE</parameter></paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9373
#, no-c-format
msgid ""
"Returns the hypothetical illumination of an elevation raster band using the "
"azimuth, altitude, brightness, and scale inputs. Utilizes map algebra and "
"applies the hill shade equation to neighboring pixels. Return pixel values "
"are between 0 and 255."
msgstr ""

#. Tag: para
#: reference_raster.xml:9375
#, no-c-format
msgid ""
"<varname>azimuth</varname> is a value between 0 and 360 degrees measured "
"clockwise from North."
msgstr ""

#. Tag: para
#: reference_raster.xml:9379
#, no-c-format
msgid ""
"<varname>altitude</varname> is a value between 0 and 90 degrees where 0 "
"degrees is at the horizon and 90 degrees is directly overhead."
msgstr ""

#. Tag: para
#: reference_raster.xml:9383
#, no-c-format
msgid ""
"<varname>max_bright</varname> is a value between 0 and 255 with 0 as no "
"brightness and 255 as max brightness."
msgstr ""

#. Tag: para
#: reference_raster.xml:9387 reference_raster.xml:9515
#, no-c-format
msgid ""
"<varname>scale</varname> is the ratio of vertical units to horizontal. For "
"Feet:LatLon use scale=370400, for Meters:LatLon use scale=111120."
msgstr ""

#. Tag: para
#: reference_raster.xml:9391
#, no-c-format
msgid ""
"If <varname>interpolate_nodata</varname> is TRUE, values for NODATA pixels "
"from the input raster will be interpolated using <xref linkend="
"\"RT_ST_InvDistWeight4ma\"/> before computing the hillshade illumination."
msgstr ""

#. Tag: para
#: reference_raster.xml:9396
#, no-c-format
msgid ""
"For more information about Hillshade, please refer to <ulink url=\"http://"
"webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=How%20Hillshade"
"%20works\">How hillshade works</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:9403
#, no-c-format
msgid ""
"Changed: 2.1.0 In prior versions, azimuth and altitude were expressed in "
"radians. Now, azimuth and altitude are expressed in degrees"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9409
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_SetValues(\n"
"                ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), "
"1, '32BF', 0, -9999),\n"
"                1, 1, 1, ARRAY[\n"
"                        [1, 1, 1, 1, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 2, 3, 2, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 1, 1, 1, 1]\n"
"                ]::double precision[][]\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        ST_DumpValues(ST_Hillshade(rast, 1, '32BF'))\n"
"FROM foo\n"
"\n"
"                                                                                                                       st_dumpvalues\n"
"\n"
"------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n"
"-----------------------------------------------------------------------\n"
" (1,\"{{NULL,NULL,NULL,NULL,NULL},"
"{NULL,251.32763671875,220.749786376953,147.224319458008,NULL},"
"{NULL,220.749786376953,180.312225341797,67.7497863769531,NULL},"
"{NULL,147.224319458008\n"
",67.7497863769531,43.1210060119629,NULL},{NULL,NULL,NULL,NULL,NULL}}\")\n"
"(1 row)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9417
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_Tile(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '32BF', 0, -9999\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [1, 1, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 2, 1],\n"
"                                [1, 2, 2, 3, 3, 1],\n"
"                                [1, 1, 3, 2, 1, 1],\n"
"                                [1, 2, 2, 1, 2, 1],\n"
"                                [1, 1, 1, 1, 1, 1]\n"
"                        ]::double precision[]\n"
"                ),\n"
"                2, 2\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        t1.rast,\n"
"        ST_Hillshade(ST_Union(t2.rast), 1, t1.rast)\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE ST_Intersects(t1.rast, t2.rast)\n"
"GROUP BY t1.rast;"
msgstr ""

#. Tag: para
#: reference_raster.xml:9422
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_TRI\"/>, <xref linkend=\"RT_ST_TPI\"/>, <xref "
"linkend=\"RT_ST_Roughness\"/>, <xref linkend=\"RT_ST_Aspect\"/>, <xref "
"linkend=\"RT_ST_Slope\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9435
#, no-c-format
msgid "ST_Roughness"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9436
#, no-c-format
msgid "Returns a raster with the calculated \"roughness\" of a DEM."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9441
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_Roughness</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef><type>integer </type> <parameter>nband</parameter></paramdef> "
"<paramdef><type>raster </type> <parameter>customextent</parameter></"
"paramdef> <paramdef choice=\"opt\"><type>text </type> <parameter>pixeltype="
"\"32BF\"</parameter> </paramdef> <paramdef choice=\"opt\"><type>boolean </"
"type> <parameter> interpolate_nodata=FALSE </parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9454
#, no-c-format
msgid ""
"Calculates the \"roughness\" of a DEM, by subtracting the maximum from the "
"minimum for a given area."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9460 reference_raster.xml:9593
#: reference_raster.xml:9644
#, no-c-format
msgid "-- needs examples"
msgstr ""

#. Tag: para
#: reference_raster.xml:9465
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_TRI\"/>, <xref linkend=\"RT_ST_TPI\"/>, <xref "
"linkend=\"RT_ST_Slope\"/>, <xref linkend=\"RT_ST_HillShade\"/>, <xref "
"linkend=\"RT_ST_Aspect\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9478
#, no-c-format
msgid "ST_Slope"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9479
#, no-c-format
msgid ""
"Returns the slope (in degrees by default) of an elevation raster band. "
"Useful for analyzing terrain."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9482
#, no-c-format
msgid ""
"<funcprototype> <funcdef>raster <function>ST_Slope</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>nband=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>text </type> "
"<parameter>pixeltype=32BF</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>units=DEGREES</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>double precision </type> "
"<parameter>scale=1.0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>interpolate_nodata=FALSE</parameter></"
"paramdef> </funcprototype> <funcprototype> <funcdef>raster "
"<function>ST_Slope</function></funcdef> <paramdef><type>raster </type> "
"<parameter>rast</parameter></paramdef> <paramdef><type>integer </type> "
"<parameter>nband</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>customextent</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>pixeltype=32BF</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>text </type> <parameter>units=DEGREES</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>double precision </"
"type> <parameter>scale=1.0</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>boolean </type> <parameter>interpolate_nodata=FALSE</parameter></"
"paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9509
#, no-c-format
msgid ""
"Returns the slope (in degrees by default) of an elevation raster band. "
"Utilizes map algebra and applies the slope equation to neighboring pixels."
msgstr ""

#. Tag: para
#: reference_raster.xml:9511
#, no-c-format
msgid ""
"<varname>units</varname> indicates the units of the slope. Possible values "
"are: RADIANS, DEGREES (default), PERCENT."
msgstr ""

#. Tag: para
#: reference_raster.xml:9519
#, no-c-format
msgid ""
"If <varname>interpolate_nodata</varname> is TRUE, values for NODATA pixels "
"from the input raster will be interpolated using <xref linkend="
"\"RT_ST_InvDistWeight4ma\"/> before computing the surface slope."
msgstr ""

#. Tag: para
#: reference_raster.xml:9524
#, no-c-format
msgid ""
"For more information about Slope, Aspect and Hillshade, please refer to "
"<ulink url=\"http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?"
"TopicName=How%20Hillshade%20works\">ESRI - How hillshade works</ulink> and "
"<ulink url=\"http://e2b.erdas.com/fieldguide/wwhelp/wwhimpl/common/html/"
"wwhelp.htm?context=FieldGuide&amp;file=Slope_Images.html\">ERDAS Field Guide "
"- Slope Images</ulink>."
msgstr ""

#. Tag: para
#: reference_raster.xml:9530
#, no-c-format
msgid ""
"Enhanced: 2.1.0 Uses ST_MapAlgebra() and added optional <varname>units</"
"varname>, <varname>scale</varname>, <varname>interpolate_nodata</varname> "
"function parameters"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9537
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_SetValues(\n"
"                ST_AddBand(ST_MakeEmptyRaster(5, 5, 0, 0, 1, -1, 0, 0, 0), "
"1, '32BF', 0, -9999),\n"
"                1, 1, 1, ARRAY[\n"
"                        [1, 1, 1, 1, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 2, 3, 2, 1],\n"
"                        [1, 2, 2, 2, 1],\n"
"                        [1, 1, 1, 1, 1]\n"
"                ]::double precision[][]\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        ST_DumpValues(ST_Slope(rast, 1, '32BF'))\n"
"FROM foo\n"
"\n"
"                            st_dumpvalues\n"
"\n"
"------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n"
"------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n"
"---------------------------------------------------------------------\n"
" (1,"
"\"{{10.0249881744385,21.5681285858154,26.5650520324707,21.5681285858154,10.0249881744385},"
"{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},\n"
"{26.5650520324707,36.8698959350586,0,36.8698959350586,26.5650520324707},"
"{21.5681285858154,35.2643890380859,36.8698959350586,35.2643890380859,21.5681285858154},"
"{10.0249881744385,21.\n"
"5681285858154,26.5650520324707,21.5681285858154,10.0249881744385}}\")\n"
"(1 row)"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9545
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT ST_Tile(\n"
"                ST_SetValues(\n"
"                        ST_AddBand(\n"
"                                ST_MakeEmptyRaster(6, 6, 0, 0, 1, -1, 0, 0, "
"0),\n"
"                                1, '32BF', 0, -9999\n"
"                        ),\n"
"                        1, 1, 1, ARRAY[\n"
"                                [1, 1, 1, 1, 1, 1],\n"
"                                [1, 1, 1, 1, 2, 1],\n"
"                                [1, 2, 2, 3, 3, 1],\n"
"                                [1, 1, 3, 2, 1, 1],\n"
"                                [1, 2, 2, 1, 2, 1],\n"
"                                [1, 1, 1, 1, 1, 1]\n"
"                        ]::double precision[]\n"
"                ),\n"
"                2, 2\n"
"        ) AS rast\n"
")\n"
"SELECT\n"
"        t1.rast,\n"
"        ST_Slope(ST_Union(t2.rast), 1, t1.rast)\n"
"FROM foo t1\n"
"CROSS JOIN foo t2\n"
"WHERE ST_Intersects(t1.rast, t2.rast)\n"
"GROUP BY t1.rast;"
msgstr ""

#. Tag: para
#: reference_raster.xml:9550
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_TRI\"/>, <xref linkend=\"RT_ST_TPI\"/>, <xref "
"linkend=\"RT_ST_Roughness\"/>, <xref linkend=\"RT_ST_HillShade\"/>, <xref "
"linkend=\"RT_ST_Aspect\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9563
#, no-c-format
msgid "ST_TPI"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9564
#, no-c-format
msgid "Returns a raster with the calculated Topographic Position Index."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9569
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_TPI</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>nband</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>customextent</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>pixeltype=\"32BF\"</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter> "
"interpolate_nodata=FALSE </parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9583
#, no-c-format
msgid ""
"Calculates the Topographic Position Index, which is defined as the focal "
"mean with radius of one minus the center cell."
msgstr ""

#. Tag: para
#: reference_raster.xml:9586 reference_raster.xml:9636
#, no-c-format
msgid "This function only supports a focalmean radius of one."
msgstr ""

#. Tag: para
#: reference_raster.xml:9598
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_TRI\"/>, <xref linkend=\"RT_ST_Roughness\"/>, <xref "
"linkend=\"RT_ST_Slope\"/>, <xref linkend=\"RT_ST_HillShade\"/>, <xref "
"linkend=\"RT_ST_Aspect\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9611
#, no-c-format
msgid "ST_TRI"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9612
#, no-c-format
msgid "Returns a raster with the calculated Terrain Ruggedness Index."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9617
#, no-c-format
msgid ""
"<funcdef>raster <function>ST_TRI</function></funcdef> <paramdef><type>raster "
"</type> <parameter>rast</parameter></paramdef> <paramdef><type>integer </"
"type> <parameter>nband</parameter></paramdef> <paramdef><type>raster </type> "
"<parameter>customextent</parameter></paramdef> <paramdef choice=\"opt"
"\"><type>text </type> <parameter>pixeltype=\"32BF\"</parameter> </paramdef> "
"<paramdef choice=\"opt\"><type>boolean </type> <parameter> "
"interpolate_nodata=FALSE </parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9631
#, no-c-format
msgid ""
"Terrain Ruggedness Index is calculated by comparing a central pixel with its "
"neighbors, taking the absolute values of the differences, and averaging the "
"result."
msgstr ""

#. Tag: para
#: reference_raster.xml:9649
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Roughness\"/>, <xref linkend=\"RT_ST_TPI\"/>, <xref "
"linkend=\"RT_ST_Slope\"/>, <xref linkend=\"RT_ST_HillShade\"/>, <xref "
"linkend=\"RT_ST_Aspect\"/>"
msgstr ""

#. Tag: title
#: reference_raster.xml:9663
#, no-c-format
msgid "Raster Processing: Raster to Geometry"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9667
#, no-c-format
msgid "Box3D"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9668
#, no-c-format
msgid "Returns the box 3d representation of the enclosing box of the raster."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9673
#, no-c-format
msgid ""
"<funcdef>box3d <function>Box3D</function></funcdef> <paramdef><type>raster </"
"type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9683
#, no-c-format
msgid "Returns the box representing the extent of the raster."
msgstr ""

#. Tag: para
#: reference_raster.xml:9684
#, no-c-format
msgid ""
"The polygon is defined by the corner points of the bounding box "
"((<varname>MINX</varname>, <varname>MINY</varname>), (<varname>MAXX</"
"varname>, <varname>MAXY</varname>))"
msgstr ""

#. Tag: para
#: reference_raster.xml:9688
#, no-c-format
msgid ""
"Changed: 2.0.0 In pre-2.0 versions, there used to be a box2d instead of "
"box3d. Since box2d is a deprecated type, this was changed to box3d."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9694
#, no-c-format
msgid ""
"SELECT\n"
"        rid,\n"
"        Box3D(rast) AS rastbox\n"
"FROM dummy_rast;\n"
"\n"
"rid |        rastbox\n"
"----+-------------------------------------------------\n"
"1   | BOX3D(0.5 0.5 0,20.5 60.5 0)\n"
"2   | BOX3D(3427927.75 5793243.5 0,3427928 5793244 0)"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9707
#, no-c-format
msgid "ST_ConvexHull"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9708
#, no-c-format
msgid ""
"Return the convex hull geometry of the raster including pixel values equal "
"to BandNoDataValue. For regular shaped and non-skewed rasters, this gives "
"the same result as ST_Envelope so only useful for irregularly shaped or "
"skewed rasters."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9715
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_ConvexHull</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9725
#, no-c-format
msgid ""
"Return the convex hull geometry of the raster including the NoDataBandValue "
"band pixels. For regular shaped and non-skewed rasters, this gives more or "
"less the same result as ST_Envelope so only useful for irregularly shaped or "
"skewed rasters."
msgstr ""

#. Tag: para
#: reference_raster.xml:9729
#, no-c-format
msgid ""
"ST_Envelope floors the coordinates and hence add a little buffer around the "
"raster so the answer is subtly different from ST_ConvexHull which does not "
"floor."
msgstr ""

#. Tag: para
#: reference_raster.xml:9736
#, no-c-format
msgid ""
"Refer to <ulink url=\"http://trac.osgeo.org/postgis/wiki/WKTRaster/"
"SpecificationWorking01\">PostGIS Raster Specification</ulink> for a diagram "
"of this."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9737
#, no-c-format
msgid ""
"-- Note envelope and convexhull are more or less the same\n"
"SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,\n"
"        ST_AsText(ST_Envelope(rast)) As env\n"
"FROM dummy_rast WHERE rid=1;\n"
"\n"
"                        convhull                        |                "
"env\n"
"--------------------------------------------------------"
"+------------------------------------\n"
" POLYGON((0.5 0.5,20.5 0.5,20.5 60.5,0.5 60.5,0.5 0.5)) | POLYGON((0 0,20 "
"0,20 60,0 60,0 0))"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9738
#, no-c-format
msgid ""
"-- now we skew the raster\n"
"-- note how the convex hull and envelope are now different\n"
"SELECT ST_AsText(ST_ConvexHull(rast)) As convhull,\n"
"        ST_AsText(ST_Envelope(rast)) As env\n"
"FROM (SELECT ST_SetRotation(rast, 0.1, 0.1) As rast\n"
"        FROM dummy_rast WHERE rid=1) As foo;\n"
"\n"
"                        convhull                        |                "
"env\n"
"--------------------------------------------------------"
"+------------------------------------\n"
" POLYGON((0.5 0.5,20.5 1.5,22.5 61.5,2.5 60.5,0.5 0.5)) | POLYGON((0 0,22 "
"0,22 61,0 61,0 0))"
msgstr ""

#. Tag: para
#: reference_raster.xml:9744
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_MinConvexHull\"/>, <xref linkend=\"ST_ConvexHull\"/"
">, <xref linkend=\"ST_AsText\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9755
#, no-c-format
msgid "ST_DumpAsPolygons"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9756
#, no-c-format
msgid ""
"Returns a set of geomval (geom,val) rows, from a given raster band. If no "
"band number is specified, band num defaults to 1."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9761
#, no-c-format
msgid ""
"<funcdef>setof geomval <function>ST_DumpAsPolygons</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band_num=1</"
"parameter></paramdef> <paramdef choice=\"opt\"><type>boolean </type> "
"<parameter>exclude_nodata_value=TRUE</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9772
#, no-c-format
msgid ""
"This is a set-returning function (SRF). It returns a set of geomval rows, "
"formed by a geometry (geom) and a pixel band value (val). Each polygon is "
"the union of all pixels for that band that have the same pixel value denoted "
"by val."
msgstr ""

#. Tag: para
#: reference_raster.xml:9776
#, no-c-format
msgid ""
"ST_DumpAsPolygon is useful for polygonizing rasters. It is the reverse of a "
"GROUP BY in that it creates new rows. For example it can be used to expand a "
"single raster into multiple POLYGONS/MULTIPOLYGONS."
msgstr ""

#. Tag: para
#: reference_raster.xml:9780
#, no-c-format
msgid "Availability: Requires GDAL 1.7 or higher."
msgstr ""

#. Tag: para
#: reference_raster.xml:9781
#, no-c-format
msgid ""
"If there is a no data value set for a band, pixels with that value will not "
"be returned except in the case of exclude_nodata_value=false."
msgstr ""

#. Tag: para
#: reference_raster.xml:9782
#, no-c-format
msgid ""
"If you only care about count of pixels with a given value in a raster, it is "
"faster to use <xref linkend=\"RT_ST_ValueCount\"/>."
msgstr ""

#. Tag: para
#: reference_raster.xml:9784
#, no-c-format
msgid ""
"This is different than ST_PixelAsPolygons where one geometry is returned for "
"each pixel regardless of pixel value."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9792
#, no-c-format
msgid ""
"-- this syntax requires PostgreSQL 9.3+\n"
"SELECT val, ST_AsText(geom) As geomwkt\n"
"FROM (\n"
"SELECT dp.*\n"
"FROM dummy_rast, LATERAL ST_DumpAsPolygons(rast) AS dp\n"
"WHERE rid = 2\n"
") As foo\n"
"WHERE val BETWEEN 249 and 251\n"
"ORDER BY val;\n"
"\n"
" val |                                                       geomwkt\n"
"-----"
"+--------------------------------------------------------------------------\n"
" 249 | POLYGON((3427927.95 5793243.95,3427927.95 5793243.85,3427928 "
"5793243.85,\n"
"                3427928 5793243.95,3427927.95 5793243.95))\n"
" 250 | POLYGON((3427927.75 5793243.9,3427927.75 5793243.85,3427927.8 "
"5793243.85,\n"
"                3427927.8 5793243.9,3427927.75 5793243.9))\n"
" 250 | POLYGON((3427927.8 5793243.8,3427927.8 5793243.75,3427927.85 "
"5793243.75,\n"
"                3427927.85 5793243.8, 3427927.8 5793243.8))\n"
" 251 | POLYGON((3427927.75 5793243.85,3427927.75 5793243.8,3427927.8 "
"5793243.8,\n"
"                3427927.8 5793243.85,3427927.75 5793243.85))"
msgstr ""

#. Tag: para
#: reference_raster.xml:9797
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Value\"/>, <xref linkend=\"RT_ST_Polygon\"/>, <xref "
"linkend=\"RT_ST_ValueCount\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9808
#, no-c-format
msgid "ST_Envelope"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9809
#, no-c-format
msgid "Returns the polygon representation of the extent of the raster."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9814
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_Envelope</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9824
#, no-c-format
msgid ""
"Returns the polygon representation of the extent of the raster in spatial "
"coordinate units defined by srid. It is a float8 minimum bounding box "
"represented as a polygon."
msgstr ""

#. Tag: para
#: reference_raster.xml:9826
#, no-c-format
msgid ""
"The polygon is defined by the corner points of the bounding box "
"((<varname>MINX</varname>, <varname>MINY</varname>), (<varname>MINX</"
"varname>, <varname>MAXY</varname>), (<varname>MAXX</varname>, <varname>MAXY</"
"varname>), (<varname>MAXX</varname>, <varname>MINY</varname>), "
"(<varname>MINX</varname>, <varname>MINY</varname>))"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9838
#, no-c-format
msgid ""
"SELECT rid, ST_AsText(ST_Envelope(rast)) As envgeomwkt\n"
"FROM dummy_rast;\n"
"\n"
" rid |                                         envgeomwkt\n"
"-----+--------------------------------------------------------------------\n"
"   1 | POLYGON((0 0,20 0,20 60,0 60,0 0))\n"
"   2 | POLYGON((3427927 5793243,3427928 5793243,\n"
"                3427928 5793244,3427927 5793244, 3427927 5793243))"
msgstr ""

#. Tag: para
#: reference_raster.xml:9843
#, no-c-format
msgid ", <xref linkend=\"ST_AsText\"/>, <xref linkend=\"RT_ST_SRID\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9853
#, no-c-format
msgid "ST_MinConvexHull"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:9854
#, no-c-format
msgid "Return the convex hull geometry of the raster excluding NODATA pixels."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9861
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_MinConvexHull</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>nband=NULL</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9872
#, no-c-format
msgid ""
"Return the convex hull geometry of the raster excluding NODATA pixels. If "
"<varname>nband</varname> is NULL, all bands of the raster are considered."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9881
#, no-c-format
msgid ""
"WITH foo AS (\n"
"        SELECT\n"
"                ST_SetValues(\n"
"                        ST_SetValues(\n"
"                                ST_AddBand(ST_AddBand(ST_MakeEmptyRaster(9, "
"9, 0, 0, 1, -1, 0, 0, 0), 1, '8BUI', 0, 0), 2, '8BUI', 1, 0),\n"
"                                1, 1, 1,\n"
"                                ARRAY[\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 1, 0, 0, 0, 0, 1],\n"
"                                        [0, 0, 0, 1, 1, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 1, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                        [0, 0, 0, 0, 0, 0, 0, 0, 0]\n"
"                                ]::double precision[][]\n"
"                        ),\n"
"                        2, 1, 1,\n"
"                        ARRAY[\n"
"                                [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                [1, 0, 0, 0, 0, 1, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 1, 1, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 0, 1, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                [0, 0, 0, 0, 0, 0, 0, 0, 0],\n"
"                                [0, 0, 1, 0, 0, 0, 0, 0, 0]\n"
"                        ]::double precision[][]\n"
"                ) AS rast\n"
")\n"
"SELECT\n"
"        ST_AsText(ST_ConvexHull(rast)) AS hull,\n"
"        ST_AsText(ST_MinConvexHull(rast)) AS mhull,\n"
"        ST_AsText(ST_MinConvexHull(rast, 1)) AS mhull_1,\n"
"        ST_AsText(ST_MinConvexHull(rast, 2)) AS mhull_2\n"
"FROM foo\n"
"\n"
"               hull               |                mhull                "
"|               mhull_1               |               mhull_2\n"
"----------------------------------+-------------------------------------"
"+-------------------------------------"
"+-------------------------------------\n"
" POLYGON((0 0,9 0,9 -9,0 -9,0 0)) | POLYGON((0 -3,9 -3,9 -9,0 -9,0 -3)) | "
"POLYGON((3 -3,9 -3,9 -6,3 -6,3 -3)) | POLYGON((0 -3,6 -3,6 -9,0 -9,0 -3))"
msgstr ""

#. Tag: para
#: reference_raster.xml:9886
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_ConvexHull\"/>, <xref linkend=\"ST_ConvexHull\"/>, "
"<xref linkend=\"ST_AsText\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9897
#, no-c-format
msgid "ST_Polygon"
msgstr "ST_Polygon"

#. Tag: refpurpose
#: reference_raster.xml:9898
#, no-c-format
msgid ""
"Returns a multipolygon geometry formed by the union of pixels that have a "
"pixel value that is not no data value. If no band number is specified, band "
"num defaults to 1."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:9903
#, no-c-format
msgid ""
"<funcdef>geometry <function>ST_Polygon</function></funcdef> "
"<paramdef><type>raster </type> <parameter>rast</parameter></paramdef> "
"<paramdef choice=\"opt\"><type>integer </type> <parameter>band_num=1</"
"parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9913
#, no-c-format
msgid "Availability: 0.1.6 Requires GDAL 1.7 or higher."
msgstr ""

#. Tag: para
#: reference_raster.xml:9914
#, no-c-format
msgid ""
"Enhanced: 2.1.0 Improved Speed (fully C-Based) and the returning "
"multipolygon is ensured to be valid."
msgstr ""

#. Tag: para
#: reference_raster.xml:9915
#, no-c-format
msgid ""
"Changed: 2.1.0 In prior versions would sometimes return a polygon, changed "
"to always return multipolygon."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9920
#, no-c-format
msgid ""
"-- by default no data band value is 0 or not set, so polygon will return a "
"square polygon\n"
"SELECT ST_AsText(ST_Polygon(rast)) As geomwkt\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
"geomwkt\n"
"--------------------------------------------\n"
"MULTIPOLYGON(((3427927.75 5793244,3427928 5793244,3427928 "
"5793243.75,3427927.75 5793243.75,3427927.75 5793244)))\n"
"\n"
"\n"
"-- now we change the no data value of first band\n"
"UPDATE dummy_rast SET rast = ST_SetBandNoDataValue(rast,1,254)\n"
"WHERE rid = 2;\n"
"SELECt rid, ST_BandNoDataValue(rast)\n"
"from dummy_rast where rid = 2;\n"
"\n"
"-- ST_Polygon excludes the pixel value 254 and returns a multipolygon\n"
"SELECT ST_AsText(ST_Polygon(rast)) As geomwkt\n"
"FROM dummy_rast\n"
"WHERE rid = 2;\n"
"\n"
"geomwkt\n"
"---------------------------------------------------------\n"
"MULTIPOLYGON(((3427927.9 5793243.95,3427927.85 5793243.95,3427927.85 "
"5793244,3427927.9 5793244,3427927.9 5793243.95)),((3427928 "
"5793243.85,3427928 5793243.8,3427927.95 5793243.8,3427927.95 "
"5793243.85,3427927.9 5793243.85,3427927.9 5793243.9,3427927.9 "
"5793243.95,3427927.95 5793243.95,3427928 5793243.95,3427928 5793243.85)),"
"((3427927.8 5793243.75,3427927.75 5793243.75,3427927.75 5793243.8,3427927.75 "
"5793243.85,3427927.75 5793243.9,3427927.75 5793244,3427927.8 "
"5793244,3427927.8 5793243.9,3427927.8 5793243.85,3427927.85 "
"5793243.85,3427927.85 5793243.8,3427927.85 5793243.75,3427927.8 "
"5793243.75)))\n"
"\n"
"-- Or if you want the no data value different for just one time\n"
"\n"
"SELECT ST_AsText(\n"
"        ST_Polygon(\n"
"                ST_SetBandNoDataValue(rast,1,252)\n"
"                )\n"
"        ) As geomwkt\n"
"FROM dummy_rast\n"
"WHERE rid =2;\n"
"\n"
"geomwkt\n"
"---------------------------------\n"
"MULTIPOLYGON(((3427928 5793243.85,3427928 5793243.8,3427928 "
"5793243.75,3427927.85 5793243.75,3427927.8 5793243.75,3427927.8 "
"5793243.8,3427927.75 5793243.8,3427927.75 5793243.85,3427927.75 "
"5793243.9,3427927.75 5793244,3427927.8 5793244,3427927.85 5793244,3427927.9 "
"5793244,3427928 5793244,3427928 5793243.95,3427928 5793243.85),(3427927.9 "
"5793243.9,3427927.9 5793243.85,3427927.95 5793243.85,3427927.95 "
"5793243.9,3427927.9 5793243.9)))"
msgstr ""

#. Tag: title
#: reference_raster.xml:9935
#, no-c-format
msgid "Raster Operators"
msgstr ""

#. Tag: refname
#: reference_raster.xml:9938
#, no-c-format
msgid "&amp;&amp;"
msgstr "&amp;&amp;"

#. Tag: refpurpose
#: reference_raster.xml:9940
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box intersects B's bounding "
"box."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:9944
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>&amp;&amp;</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>A</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>B</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>&amp;&amp;</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>A</parameter> "
"</paramdef> <paramdef> <type>geometry </type> <parameter>B</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>boolean <function>&amp;"
"&amp;</function></funcdef> <paramdef> <type>geometry </type> <parameter>B</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>A</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:9986
#, no-c-format
msgid ""
"The <varname>&amp;&amp;</varname> operator returns <varname>TRUE</varname> "
"if the bounding box of raster/geometr A intersects the bounding box of "
"raster/geometr B."
msgstr ""

#. Tag: para
#: reference_raster.xml:9988 reference_raster.xml:10035
#: reference_raster.xml:10239 reference_raster.xml:11249
#: reference_raster.xml:11350 reference_raster.xml:11443
#, no-c-format
msgid ""
"This operand will make use of any indexes that may be available on the "
"rasters."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:9997
#, no-c-format
msgid ""
"SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&amp; B.rast As "
"intersect\n"
" FROM dummy_rast AS A CROSS JOIN dummy_rast AS B LIMIT 3;\n"
"\n"
" a_rid | b_rid | intersect\n"
"-------+-------+---------\n"
"     2 |     2 | t\n"
"     2 |     3 | f\n"
"     2 |     1 | f"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10003
#, no-c-format
msgid "&amp;&lt;"
msgstr "&amp;&lt;"

#. Tag: refpurpose
#: reference_raster.xml:10005
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box is to the left of B's."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:10010
#, no-c-format
msgid ""
"<funcdef>boolean <function>&amp;&lt;</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10031
#, no-c-format
msgid ""
"The <varname>&amp;&lt;</varname> operator returns <varname>TRUE</varname> if "
"the bounding box of raster A overlaps or is to the left of the bounding box "
"of raster B, or more accurately, overlaps or is NOT to the right of the "
"bounding box of raster B."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10041
#, no-c-format
msgid ""
"SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&lt; B.rast As overleft\n"
" FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;\n"
"\n"
"a_rid | b_rid | overleft\n"
"------+-------+----------\n"
"    2 |     2 | t\n"
"    2 |     3 | f\n"
"    2 |     1 | f\n"
"    3 |     2 | t\n"
"    3 |     3 | t\n"
"    3 |     1 | f\n"
"    1 |     2 | t\n"
"    1 |     3 | t\n"
"    1 |     1 | t"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10047
#, no-c-format
msgid "&amp;&gt;"
msgstr "&amp;&gt;"

#. Tag: refpurpose
#: reference_raster.xml:10049
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box is to the right of B's."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:10054
#, no-c-format
msgid ""
"<funcdef>boolean <function>&amp;&gt;</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10075
#, no-c-format
msgid ""
"The <varname>&amp;&gt;</varname> operator returns <varname>TRUE</varname> if "
"the bounding box of raster A overlaps or is to the right of the bounding box "
"of raster B, or more accurately, overlaps or is NOT to the left of the "
"bounding box of raster B."
msgstr ""

#. Tag: para
#: reference_raster.xml:10079
#, no-c-format
msgid ""
"This operand will make use of any indexes that may be available on the "
"geometries."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10086
#, no-c-format
msgid ""
"SELECT A.rid As a_rid, B.rid As b_rid, A.rast &amp;&gt; B.rast As overright\n"
" FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;\n"
"\n"
" a_rid | b_rid | overright\n"
"-------+-------+----------\n"
"     2 |     2 | t\n"
"     2 |     3 | t\n"
"     2 |     1 | t\n"
"     3 |     2 | f\n"
"     3 |     3 | t\n"
"     3 |     1 | f\n"
"     1 |     2 | f\n"
"     1 |     3 | t\n"
"     1 |     1 | t"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10092
#, no-c-format
msgid "&#61;"
msgstr "&#61;"

#. Tag: refpurpose
#: reference_raster.xml:10094
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box is the same as B's. Uses "
"double precision bounding box."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:10099
#, no-c-format
msgid ""
"<funcdef>boolean <function>&#61;</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10120
#, no-c-format
msgid ""
"The <varname>&#61;</varname> operator returns <varname>TRUE</varname> if the "
"bounding box of raster A is the same as the bounding box of raster B. "
"PostgreSQL uses the =, &lt;, and &gt; operators defined for rasters to "
"perform internal orderings and comparison of rasters (ie. in a GROUP BY or "
"ORDER BY clause)."
msgstr ""

#. Tag: para
#: reference_raster.xml:10124
#, no-c-format
msgid ""
"This operand will NOT make use of any indexes that may be available on the "
"rasters. Use <xref linkend=\"RT_Raster_Same\"/> instead. This operator "
"exists mostly so one can group by the raster column."
msgstr ""

#. Tag: refname
#: reference_raster.xml:10140
#, no-c-format
msgid "<refname>@</refname>"
msgstr "<refname>@</refname>"

#. Tag: refpurpose
#: reference_raster.xml:10142
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box is contained by B's. "
"Uses double precision bounding box."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10146
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>@</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>@</function></funcdef> <paramdef> "
"<type>geometry </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>@</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> <paramdef> "
"<type>geometry </type> <parameter>A</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10189
#, no-c-format
msgid ""
"The <varname>@</varname> operator returns <varname>TRUE</varname> if the "
"bounding box of raster/geometry A is contained by bounding box of raster/"
"geometr B."
msgstr ""

#. Tag: para
#: reference_raster.xml:10192 reference_raster.xml:10312
#, no-c-format
msgid "This operand will use spatial indexes on the rasters."
msgstr ""

#. Tag: para
#: reference_raster.xml:10194
#, no-c-format
msgid "Availability: 2.0.0 raster @ raster, raster @ geometry introduced"
msgstr ""

#. Tag: para
#: reference_raster.xml:10195
#, no-c-format
msgid "Availability: 2.0.5 geometry @ raster introduced"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10208
#, no-c-format
msgid "<refname>~=</refname>"
msgstr "<refname>~=</refname>"

#. Tag: refpurpose
#: reference_raster.xml:10210
#, no-c-format
msgid "Returns <varname>TRUE</varname> if A's bounding box is the same as B's."
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:10215
#, no-c-format
msgid ""
"<funcdef>boolean <function>~=</function></funcdef> <paramdef> <type>raster </"
"type> <parameter>A</parameter> </paramdef> <paramdef> <type>raster </type> "
"<parameter>B</parameter> </paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10236
#, no-c-format
msgid ""
"The <varname>~=</varname> operator returns <varname>TRUE</varname> if the "
"bounding box of raster A is the same as the bounding box of raster B."
msgstr ""

#. Tag: para
#: reference_raster.xml:10248
#, no-c-format
msgid ""
"Very useful usecase is for taking two sets of single band rasters that are "
"of the same chunk but represent different themes and creating a multi-band "
"raster"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10249
#, no-c-format
msgid ""
"SELECT ST_AddBand(prec.rast, alt.rast) As new_rast\n"
"    FROM prec INNER JOIN alt ON (prec.rast ~= alt.rast);"
msgstr ""

#. Tag: para
#: reference_raster.xml:10254
#, no-c-format
msgid ", <xref linkend=\"RT_Raster_EQ\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10260
#, no-c-format
msgid "<refname>~</refname>"
msgstr "<refname>~</refname>"

#. Tag: refpurpose
#: reference_raster.xml:10262
#, no-c-format
msgid ""
"Returns <varname>TRUE</varname> if A's bounding box is contains B's. Uses "
"double precision bounding box."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10266
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>~</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>~</function></funcdef> <paramdef> "
"<type>geometry </type> <parameter>A</parameter> </paramdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>~</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>B</parameter> </paramdef> <paramdef> "
"<type>geometry </type> <parameter>A</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10309
#, no-c-format
msgid ""
"The <varname>~</varname> operator returns <varname>TRUE</varname> if the "
"bounding box of raster/geometry A is contains bounding box of raster/geometr "
"B."
msgstr ""

#. Tag: title
#: reference_raster.xml:10327
#, no-c-format
msgid "Raster and Raster Band Spatial Relationships"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10331
#, no-c-format
msgid "ST_Contains"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10332
#, no-c-format
msgid ""
"Return true if no points of raster rastB lie in the exterior of raster rastA "
"and at least one point of the interior of rastB lies in the interior of "
"rastA."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10338
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Contains</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Contains</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10377
#, no-c-format
msgid ""
"Raster rastA contains rastB if and only if no points of rastB lie in the "
"exterior of rastA and at least one point of the interior of rastB lies in "
"the interior of rastA. If the band number is not provided (or set to NULL), "
"only the convex hull of the raster is considered in the test. If the band "
"number is provided, only those pixels with value (not NODATA) are considered "
"in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10382 reference_raster.xml:10475
#: reference_raster.xml:10556 reference_raster.xml:10637
#: reference_raster.xml:10847 reference_raster.xml:10931
#: reference_raster.xml:11011
#, no-c-format
msgid ""
"This function will make use of any indexes that may be available on the "
"rasters."
msgstr ""

#. Tag: para
#: reference_raster.xml:10388
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Contains(ST_Polygon(raster), geometry) or "
"ST_Contains(geometry, ST_Polygon(raster))."
msgstr ""

#. Tag: para
#: reference_raster.xml:10394
#, no-c-format
msgid ""
"ST_Contains() is the inverse of ST_Within(). So, ST_Contains(rastA, rastB) "
"implies ST_Within(rastB, rastA)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10405
#, no-c-format
msgid ""
"-- specified band numbers\n"
"SELECT r1.rid, r2.rid, ST_Contains(r1.rast, 1, r2.rast, 1) FROM dummy_rast "
"r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;\n"
"\n"
"NOTICE:  The first raster provided has no bands\n"
" rid | rid | st_contains\n"
"-----+-----+-------------\n"
"   1 |   1 |\n"
"   1 |   2 | f"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10407
#, no-c-format
msgid ""
"-- no band numbers specified\n"
"SELECT r1.rid, r2.rid, ST_Contains(r1.rast, r2.rast) FROM dummy_rast r1 "
"CROSS JOIN dummy_rast r2 WHERE r1.rid = 1;\n"
" rid | rid | st_contains\n"
"-----+-----+-------------\n"
"   1 |   1 | t\n"
"   1 |   2 | f"
msgstr ""

#. Tag: para
#: reference_raster.xml:10411
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Within\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10420
#, no-c-format
msgid "ST_ContainsProperly"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10421
#, no-c-format
msgid ""
"Return true if rastB intersects the interior of rastA but not the boundary "
"or exterior of rastA."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10427
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_ContainsProperly</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rastA</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandA</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rastB</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandB</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>ST_ContainsProperly</function></funcdef> <paramdef> <type>raster </"
"type> <parameter>rastA</parameter> </paramdef> <paramdef> <type>raster </"
"type> <parameter>rastB</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10466
#, no-c-format
msgid ""
"Raster rastA contains properly rastB if rastB intersects the interior of "
"rastA but not the boundary or exterior of rastA. If the band number is not "
"provided (or set to NULL), only the convex hull of the raster is considered "
"in the test. If the band number is provided, only those pixels with value "
"(not NODATA) are considered in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10470
#, no-c-format
msgid "Raster rastA does not contain properly itself but does contain itself."
msgstr ""

#. Tag: para
#: reference_raster.xml:10481
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_ContainsProperly(ST_Polygon(raster), geometry) or "
"ST_ContainsProperly(geometry, ST_Polygon(raster))."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10492
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_ContainsProperly(r1.rast, 1, r2.rast, 1) FROM "
"dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_containsproperly\n"
"-----+-----+---------------------\n"
"   2 |   1 | f\n"
"   2 |   2 | f"
msgstr ""

#. Tag: para
#: reference_raster.xml:10496
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Contains\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10505
#, no-c-format
msgid "ST_Covers"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10506
#, no-c-format
msgid "Return true if no points of raster rastB lie outside raster rastA."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10512
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Covers</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Covers</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10551
#, no-c-format
msgid ""
"Raster rastA covers rastB if and only if no points of rastB lie in the "
"exterior of rastA. If the band number is not provided (or set to NULL), only "
"the convex hull of the raster is considered in the test. If the band number "
"is provided, only those pixels with value (not NODATA) are considered in the "
"test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10562
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Covers(ST_Polygon(raster), geometry) or "
"ST_Covers(geometry, ST_Polygon(raster))."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10573
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_Covers(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 "
"CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_covers\n"
"-----+-----+-----------\n"
"   2 |   1 | f\n"
"   2 |   2 | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:10577
#, no-c-format
msgid ", <xref linkend=\"RT_ST_CoveredBy\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10586
#, no-c-format
msgid "ST_CoveredBy"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10587
#, no-c-format
msgid "Return true if no points of raster rastA lie outside raster rastB."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10593
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_CoveredBy</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_CoveredBy</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10632
#, no-c-format
msgid ""
"Raster rastA is covered by rastB if and only if no points of rastA lie in "
"the exterior of rastB. If the band number is not provided (or set to NULL), "
"only the convex hull of the raster is considered in the test. If the band "
"number is provided, only those pixels with value (not NODATA) are considered "
"in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10643
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_CoveredBy(ST_Polygon(raster), geometry) or "
"ST_CoveredBy(geometry, ST_Polygon(raster))."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10654
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_CoveredBy(r1.rast, 1, r2.rast, 1) FROM dummy_rast "
"r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_coveredby\n"
"-----+-----+--------------\n"
"   2 |   1 | f\n"
"   2 |   2 | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:10658
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Covers\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10667
#, no-c-format
msgid "ST_Disjoint"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10668
#, no-c-format
msgid "Return true if raster rastA does not spatially intersect rastB."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10674
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Disjoint</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Disjoint</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10713
#, no-c-format
msgid ""
"Raster rastA and rastB are disjointed if they do not share any space "
"together. If the band number is not provided (or set to NULL), only the "
"convex hull of the raster is considered in the test. If the band number is "
"provided, only those pixels with value (not NODATA) are considered in the "
"test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10718
#, no-c-format
msgid "This function does NOT use any indexes."
msgstr ""

#. Tag: para
#: reference_raster.xml:10724
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Disjoint(ST_Polygon(raster), geometry)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10735
#, no-c-format
msgid ""
"-- rid = 1 has no bands, hence the NOTICE and the NULL value for "
"st_disjoint\n"
"SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, 1, r2.rast, 1) FROM dummy_rast "
"r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
"NOTICE:  The second raster provided has no bands\n"
" rid | rid | st_disjoint\n"
"-----+-----+-------------\n"
"   2 |   1 |\n"
"   2 |   2 | f"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10737
#, no-c-format
msgid ""
"-- this time, without specifying band numbers\n"
"SELECT r1.rid, r2.rid, ST_Disjoint(r1.rast, r2.rast) FROM dummy_rast r1 "
"CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_disjoint\n"
"-----+-----+-------------\n"
"   2 |   1 | t\n"
"   2 |   2 | f"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10750
#, no-c-format
msgid "ST_Intersects"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10751
#, no-c-format
msgid "Return true if raster rastA spatially intersects raster rastB."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10755
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Intersects</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rastA</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandA</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rastB</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandB</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>ST_Intersects</function></funcdef> <paramdef> <type>raster </type> "
"<parameter>rastA</parameter> </paramdef> <paramdef> <type>raster </type> "
"<parameter>rastB</parameter> </paramdef> </funcprototype> <funcprototype> "
"<funcdef>boolean <function>ST_Intersects</function></funcdef> <paramdef> "
"<type>raster </type> <parameter>rast</parameter> </paramdef> <paramdef> "
"<type>integer </type> <parameter>nband</parameter> </paramdef> <paramdef> "
"<type>geometry </type> <parameter>geommin</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Intersects</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rast</"
"parameter> </paramdef> <paramdef> <type>geometry </type> <parameter>geommin</"
"parameter> </paramdef> <paramdef choice=\"opt\"> <type>integer </type> "
"<parameter>nband=NULL</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>ST_Intersects</function></"
"funcdef> <paramdef> <type>geometry </type> <parameter>geommin</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rast</parameter> </"
"paramdef> <paramdef choice=\"opt\"> <type>integer </type> "
"<parameter>nband=NULL</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10842
#, no-c-format
msgid ""
"Return true if raster rastA spatially intersects raster rastB. If the band "
"number is not provided (or set to NULL), only the convex hull of the raster "
"is considered in the test. If the band number is provided, only those pixels "
"with value (not NODATA) are considered in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10852
#, no-c-format
msgid "Enhanced: 2.0.0 support raster/raster intersects was introduced."
msgstr ""

#. Tag: para
#: reference_raster.xml:10857
#, no-c-format
msgid ""
"Changed: 2.1.0 The behavior of the ST_Intersects(raster, geometry) variants "
"changed to match that of ST_Intersects(geometry, raster)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10866
#, no-c-format
msgid ""
"-- different bands of same raster\n"
"SELECT ST_Intersects(rast, 2, rast, 3) FROM dummy_rast WHERE rid = 2;\n"
"\n"
" st_intersects\n"
"---------------\n"
" t"
msgstr ""

#. Tag: para
#: reference_raster.xml:10871
#, no-c-format
msgid ", <xref linkend=\"RT_ST_Disjoint\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10880
#, no-c-format
msgid "ST_Overlaps"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10881
#, no-c-format
msgid ""
"Return true if raster rastA and rastB intersect but one does not completely "
"contain the other."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10887
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Overlaps</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Overlaps</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:10926
#, no-c-format
msgid ""
"Return true if raster rastA spatially overlaps raster rastB. This means that "
"rastA and rastB intersect but one does not completely contain the other. If "
"the band number is not provided (or set to NULL), only the convex hull of "
"the raster is considered in the test. If the band number is provided, only "
"those pixels with value (not NODATA) are considered in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:10937
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Overlaps(ST_Polygon(raster), geometry)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:10948
#, no-c-format
msgid ""
"-- comparing different bands of same raster\n"
"SELECT ST_Overlaps(rast, 1, rast, 2) FROM dummy_rast WHERE rid = 2;\n"
"\n"
" st_overlaps\n"
"-------------\n"
" f"
msgstr ""

#. Tag: refname
#: reference_raster.xml:10960
#, no-c-format
msgid "ST_Touches"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:10961
#, no-c-format
msgid ""
"Return true if raster rastA and rastB have at least one point in common but "
"their interiors do not intersect."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:10967
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Touches</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Touches</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11006
#, no-c-format
msgid ""
"Return true if raster rastA spatially touches raster rastB. This means that "
"rastA and rastB have at least one point in common but their interiors do not "
"intersect. If the band number is not provided (or set to NULL), only the "
"convex hull of the raster is considered in the test. If the band number is "
"provided, only those pixels with value (not NODATA) are considered in the "
"test."
msgstr ""

#. Tag: para
#: reference_raster.xml:11017
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Touches(ST_Polygon(raster), geometry)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11028
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_Touches(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 "
"CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_touches\n"
"-----+-----+------------\n"
"   2 |   1 | f\n"
"   2 |   2 | f"
msgstr ""

#. Tag: refname
#: reference_raster.xml:11040
#, no-c-format
msgid "ST_SameAlignment"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:11042
#, no-c-format
msgid ""
"Returns true if rasters have same skew, scale, spatial ref, and offset "
"(pixels can be put on same grid without cutting into pixels) and false if "
"they don't with notice detailing issue."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:11046
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_SameAlignment</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rastA</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rastB</parameter> </"
"paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>ST_SameAlignment</function></funcdef> <paramdef> <type>double "
"precision </type> <parameter>ulx1</parameter> </paramdef> <paramdef> "
"<type>double precision </type> <parameter>uly1</parameter> </paramdef> "
"<paramdef> <type>double precision </type> <parameter>scalex1</parameter> </"
"paramdef> <paramdef> <type>double precision </type> <parameter>scaley1</"
"parameter> </paramdef> <paramdef> <type>double precision </type> "
"<parameter>skewx1</parameter> </paramdef> <paramdef> <type>double precision "
"</type> <parameter>skewy1</parameter> </paramdef> <paramdef> <type>double "
"precision </type> <parameter>ulx2</parameter> </paramdef> <paramdef> "
"<type>double precision </type> <parameter>uly2</parameter> </paramdef> "
"<paramdef> <type>double precision </type> <parameter>scalex2</parameter> </"
"paramdef> <paramdef> <type>double precision </type> <parameter>scaley2</"
"parameter> </paramdef> <paramdef> <type>double precision </type> "
"<parameter>skewx2</parameter> </paramdef> <paramdef> <type>double precision "
"</type> <parameter>skewy2</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>ST_SameAlignment</function></"
"funcdef> <paramdef> <type>raster set </type> <parameter>rastfield</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11125
#, no-c-format
msgid ""
"Non-Aggregate version (Variants 1 and 2): Returns true if the two rasters "
"(either provided directly or made using the values for upperleft, scale, "
"skew and srid) have the same scale, skew, srid and at least one of any of "
"the four corners of any pixel of one raster falls on any corner of the grid "
"of the other raster. Returns false if they don't and a NOTICE detailing the "
"alignment issue."
msgstr ""

#. Tag: para
#: reference_raster.xml:11129
#, no-c-format
msgid ""
"Aggregate version (Variant 3): From a set of rasters, returns true if all "
"rasters in the set are aligned. The ST_SameAlignment() function is an "
"\"aggregate\" function in the terminology of PostgreSQL. That means that it "
"operates on rows of data, in the same way the SUM() and AVG() functions do."
msgstr ""

#. Tag: para
#: reference_raster.xml:11134
#, no-c-format
msgid "Enhanced: 2.1.0 addition of Aggegrate variant"
msgstr ""

#. Tag: title
#: reference_raster.xml:11138
#, no-c-format
msgid "Examples: Rasters"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11140
#, no-c-format
msgid ""
"SELECT ST_SameAlignment(\n"
"        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),\n"
"        ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0)\n"
") as sm;\n"
"\n"
"sm\n"
"----\n"
"t"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11141
#, no-c-format
msgid ""
"SELECT ST_SameAlignment(A.rast,b.rast)\n"
" FROM dummy_rast AS A CROSS JOIN dummy_rast AS B;\n"
"\n"
" NOTICE:  The two rasters provided have different SRIDs\n"
"NOTICE:  The two rasters provided have different SRIDs\n"
" st_samealignment\n"
"------------------\n"
" t\n"
" f\n"
" f\n"
" f"
msgstr ""

#. Tag: para
#: reference_raster.xml:11145
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_NotSameAlignmentReason\"/>, <xref linkend="
"\"RT_ST_MakeEmptyRaster\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:11155
#, no-c-format
msgid "ST_NotSameAlignmentReason"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:11156
#, no-c-format
msgid ""
"<refpurpose>Returns text stating if rasters are aligned and if not aligned, "
"a reason why.</refpurpose>"
msgstr ""

#. Tag: funcprototype
#: reference_raster.xml:11161
#, no-c-format
msgid ""
"<funcdef>text <function>ST_NotSameAlignmentReason</function></funcdef> "
"<paramdef><type>raster </type><parameter>rastA</parameter></paramdef> "
"<paramdef><type>raster </type><parameter>rastB</parameter></paramdef>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11171
#, no-c-format
msgid ""
"<para>Returns text stating if rasters are aligned and if not aligned, a "
"reason why.</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11174
#, no-c-format
msgid ""
"If there are several reasons why the rasters are not aligned, only one "
"reason (the first test to fail) will be returned."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11184
#, no-c-format
msgid ""
"SELECT\n"
"        ST_SameAlignment(\n"
"                ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),\n"
"                ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)\n"
"        ),\n"
"        ST_NotSameAlignmentReason(\n"
"                ST_MakeEmptyRaster(1, 1, 0, 0, 1, 1, 0, 0),\n"
"                ST_MakeEmptyRaster(1, 1, 0, 0, 1.1, 1.1, 0, 0)\n"
"        )\n"
";\n"
"\n"
" st_samealignment |            st_notsamealignmentreason\n"
"------------------+-------------------------------------------------\n"
" f                | The rasters have different scales on the X axis\n"
"(1 row)"
msgstr ""

#. Tag: para
#: reference_raster.xml:11189
#, no-c-format
msgid ", <xref linkend=\"RT_ST_SameAlignment\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:11198
#, no-c-format
msgid "ST_Within"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:11199
#, no-c-format
msgid ""
"Return true if no points of raster rastA lie in the exterior of raster rastB "
"and at least one point of the interior of rastA lies in the interior of "
"rastB."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:11205
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_Within</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> </"
"funcprototype> <funcprototype> <funcdef>boolean <function>ST_Within</"
"function></funcdef> <paramdef> <type>raster </type> <parameter>rastA</"
"parameter> </paramdef> <paramdef> <type>raster </type> <parameter>rastB</"
"parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11244
#, no-c-format
msgid ""
"Raster rastA is within rastB if and only if no points of rastA lie in the "
"exterior of rastB and at least one point of the interior of rastA lies in "
"the interior of rastB. If the band number is not provided (or set to NULL), "
"only the convex hull of the raster is considered in the test. If the band "
"number is provided, only those pixels with value (not NODATA) are considered "
"in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:11255
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_Within(ST_Polygon(raster), geometry) or "
"ST_Within(geometry, ST_Polygon(raster))."
msgstr ""

#. Tag: para
#: reference_raster.xml:11261
#, no-c-format
msgid ""
"ST_Within() is the inverse of ST_Contains(). So, ST_Within(rastA, rastB) "
"implies ST_Contains(rastB, rastA)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11272
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_Within(r1.rast, 1, r2.rast, 1) FROM dummy_rast r1 "
"CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_within\n"
"-----+-----+-----------\n"
"   2 |   1 | f\n"
"   2 |   2 | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:11276
#, no-c-format
msgid ""
", <xref linkend=\"RT_ST_Contains\"/>, <xref linkend=\"RT_ST_DWithin\"/>, "
"<xref linkend=\"RT_ST_DFullyWithin\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:11287
#, no-c-format
msgid "ST_DWithin"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:11288
#, no-c-format
msgid ""
"Return true if rasters rastA and rastB are within the specified distance of "
"each other."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:11294
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_DWithin</function></funcdef> "
"<paramdef> <type>raster </type> <parameter>rastA</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandA</parameter> </paramdef> "
"<paramdef> <type>raster </type> <parameter>rastB</parameter> </paramdef> "
"<paramdef> <type>integer </type> <parameter>nbandB</parameter> </paramdef> "
"<paramdef> <type>double precision </type> <parameter>distance_of_srid</"
"parameter> </paramdef> </funcprototype> <funcprototype> <funcdef>boolean "
"<function>ST_DWithin</function></funcdef> <paramdef> <type>raster </type> "
"<parameter>rastA</parameter> </paramdef> <paramdef> <type>raster </type> "
"<parameter>rastB</parameter> </paramdef> <paramdef> <type>double precision </"
"type> <parameter>distance_of_srid</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11341
#, no-c-format
msgid ""
"Return true if rasters rastA and rastB are within the specified distance of "
"each other. If the band number is not provided (or set to NULL), only the "
"convex hull of the raster is considered in the test. If the band number is "
"provided, only those pixels with value (not NODATA) are considered in the "
"test."
msgstr ""

#. Tag: para
#: reference_raster.xml:11345 reference_raster.xml:11438
#, no-c-format
msgid ""
"The distance is specified in units defined by the spatial reference system "
"of the rasters. For this function to make sense, the source rasters must "
"both be of the same coordinate projection, having the same SRID."
msgstr ""

#. Tag: para
#: reference_raster.xml:11356
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_DWithin(ST_Polygon(raster), geometry)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11367
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_DWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM "
"dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_dwithin\n"
"-----+-----+------------\n"
"   2 |   1 | f\n"
"   2 |   2 | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:11371
#, no-c-format
msgid ", <xref linkend=\"RT_ST_DFullyWithin\"/>"
msgstr ""

#. Tag: refname
#: reference_raster.xml:11380
#, no-c-format
msgid "ST_DFullyWithin"
msgstr ""

#. Tag: refpurpose
#: reference_raster.xml:11381
#, no-c-format
msgid ""
"Return true if rasters rastA and rastB are fully within the specified "
"distance of each other."
msgstr ""

#. Tag: funcsynopsis
#: reference_raster.xml:11387
#, no-c-format
msgid ""
"<funcprototype> <funcdef>boolean <function>ST_DFullyWithin</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rastA</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandA</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rastB</parameter> </"
"paramdef> <paramdef> <type>integer </type> <parameter>nbandB</parameter> </"
"paramdef> <paramdef> <type>double precision </type> "
"<parameter>distance_of_srid</parameter> </paramdef> </funcprototype> "
"<funcprototype> <funcdef>boolean <function>ST_DFullyWithin</function></"
"funcdef> <paramdef> <type>raster </type> <parameter>rastA</parameter> </"
"paramdef> <paramdef> <type>raster </type> <parameter>rastB</parameter> </"
"paramdef> <paramdef> <type>double precision </type> "
"<parameter>distance_of_srid</parameter> </paramdef> </funcprototype>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11434
#, no-c-format
msgid ""
"Return true if rasters rastA and rastB are fully within the specified "
"distance of each other. If the band number is not provided (or set to NULL), "
"only the convex hull of the raster is considered in the test. If the band "
"number is provided, only those pixels with value (not NODATA) are considered "
"in the test."
msgstr ""

#. Tag: para
#: reference_raster.xml:11449
#, no-c-format
msgid ""
"To test the spatial relationship of a raster and a geometry, use ST_Polygon "
"on the raster, e.g. ST_DFullyWithin(ST_Polygon(raster), geometry)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11460
#, no-c-format
msgid ""
"SELECT r1.rid, r2.rid, ST_DFullyWithin(r1.rast, 1, r2.rast, 1, 3.14) FROM "
"dummy_rast r1 CROSS JOIN dummy_rast r2 WHERE r1.rid = 2;\n"
"\n"
" rid | rid | st_dfullywithin\n"
"-----+-----+-----------------\n"
"   2 |   1 | f\n"
"   2 |   2 | t"
msgstr ""

#. Tag: para
#: reference_raster.xml:11464
#, no-c-format
msgid ", <xref linkend=\"RT_ST_DWithin\"/>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11476
#, no-c-format
msgid ""
"This section documents various gotchas and tips related to PostGIS Raster."
msgstr ""

#. Tag: title
#: reference_raster.xml:11479
#, no-c-format
msgid "Raster Tips"
msgstr ""

#. Tag: title
#: reference_raster.xml:11482
#, no-c-format
msgid "Out-DB Rasters"
msgstr ""

#. Tag: title
#: reference_raster.xml:11485
#, no-c-format
msgid "Directory containing many files"
msgstr ""

#. Tag: para
#: reference_raster.xml:11486
#, no-c-format
msgid ""
"When GDAL opens a file, GDAL eagerly scans the directory of that file to "
"build a catalog of other files. If this directory contains many files (e.g. "
"thousands, millions), opening that file becomes extremely slow (especially "
"if that file happens to be on a network drive such as NFS)."
msgstr ""

#. Tag: para
#: reference_raster.xml:11489
#, no-c-format
msgid ""
"To control this behavior, GDAL provides the following environment variable: "
"<ulink url=\"https://trac.osgeo.org/gdal/wiki/"
"ConfigOptions#GDAL_DISABLE_READDIR_ON_OPEN\">GDAL_DISABLE_READDIR_ON_OPEN</"
"ulink>. Set <varname>GDAL_DISABLE_READDIR_ON_OPEN</varname> to "
"<varname>TRUE</varname> to disable directory scanning."
msgstr ""

#. Tag: para
#: reference_raster.xml:11493
#, no-c-format
msgid ""
"In Ubuntu (and assuming you are using PostgreSQL's packages for Ubuntu), "
"<varname>GDAL_DISABLE_READDIR_ON_OPEN</varname> can be set in <emphasis>/etc/"
"postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/environment</emphasis> (where "
"POSTGRESQL_VERSION is the version of PostgreSQL, e.g. 9.6 and CLUSTER_NAME "
"is the name of the cluster, e.g. maindb). You can also set PostGIS "
"environment variables here as well."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11496
#, no-c-format
msgid ""
"# environment variables for postmaster process\n"
"# This file has the same syntax as postgresql.conf:\n"
"#  VARIABLE = simple_value\n"
"#  VARIABLE2 = 'any value!'\n"
"# I. e. you need to enclose any value which does not only consist of "
"letters,\n"
"# numbers, and '-', '_', '.' in single quotes. Shell commands are not\n"
"# evaluated.\n"
"POSTGIS_GDAL_ENABLED_DRIVERS = 'ENABLE_ALL'\n"
"\n"
"POSTGIS_ENABLE_OUTDB_RASTERS = 1\n"
"\n"
"<emphasis role=\"strong\">GDAL_DISABLE_READDIR_ON_OPEN = 'TRUE'</emphasis>"
msgstr ""

#. Tag: title
#: reference_raster.xml:11502
#, no-c-format
msgid "Maximum Number of Open Files"
msgstr ""

#. Tag: para
#: reference_raster.xml:11504
#, no-c-format
msgid ""
"The maximum number of open files permitted by Linux and PostgreSQL are "
"typically conservative (typically 1024 open files per process) given the "
"assumption that the system is consumed by human users. For Out-DB Rasters, a "
"single valid query can easily exceed this limit (e.g. a dataset of 10 year's "
"worth of rasters with one raster for each day containing minimum and maximum "
"temperatures and we want to know the absolute min and max value for a pixel "
"in that dataset)."
msgstr ""

#. Tag: para
#: reference_raster.xml:11508
#, no-c-format
msgid ""
"The easiest change to make is the following PostgreSQL setting: <ulink url="
"\"https://www.postgresql.org/docs/current/static/runtime-config-resource."
"html#GUC-MAX-FILES-PER-PROCESS\">max_files_per_process</ulink>. The default "
"is set to 1000, which is far too low for Out-DB Rasters. A safe starting "
"value could be 65536 but this really depends on your datasets and the "
"queries run against those datasets. This setting can only be made on server "
"start and probably only in the PostgreSQL configuration file (e.g. "
"<emphasis>/etc/postgresql/POSTGRESQL_VERSION/CLUSTER_NAME/postgresql.conf</"
"emphasis> in Ubuntu environments)."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11511
#, no-c-format
msgid ""
"...\n"
"# - Kernel Resource Usage -\n"
"\n"
"<emphasis role=\"strong\">max_files_per_process = 65536</emphasis>           "
"# min 25\n"
"                                        # (change requires restart)\n"
"..."
msgstr ""

#. Tag: para
#: reference_raster.xml:11514
#, no-c-format
msgid ""
"The major change to make is the Linux kernel's open files limits. There are "
"two parts to this:"
msgstr ""

#. Tag: para
#: reference_raster.xml:11518
#, no-c-format
msgid "<para>Maximum number of open files for the entire system</para>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11521
#, no-c-format
msgid "<para>Maximum number of open files per process</para>"
msgstr ""

#. Tag: title
#: reference_raster.xml:11527
#, no-c-format
msgid "<title>Maximum number of open files for the entire system</title>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11529
#, no-c-format
msgid ""
"You can inspect the current maximum number of open files for the entire "
"system with the following example:"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11533
#, no-c-format
msgid ""
"$ sysctl -a | grep fs.file-max\n"
"fs.file-max = 131072"
msgstr ""

#. Tag: para
#: reference_raster.xml:11535
#, no-c-format
msgid ""
"If the value returned is not large enough, add a file to <emphasis>/etc/"
"sysctl.d/</emphasis> as per the following example:"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11539
#, no-c-format
msgid ""
"$ echo \"fs.file-max = 6145324\" >> /etc/sysctl.d/fs.conf\n"
"\n"
"$ cat /etc/sysctl.d/fs.conf\n"
"fs.file-max = 6145324\n"
"\n"
"$ sysctl -p --system\n"
"* Applying /etc/sysctl.d/fs.conf ...\n"
"fs.file-max = 2097152\n"
"* Applying /etc/sysctl.conf ...\n"
"\n"
"$ sysctl -a | grep fs.file-max\n"
"fs.file-max = 6145324"
msgstr ""

#. Tag: title
#: reference_raster.xml:11543
#, no-c-format
msgid "<title>Maximum number of open files per process</title>"
msgstr ""

#. Tag: para
#: reference_raster.xml:11545
#, no-c-format
msgid ""
"We need to increase the maximum number of open files per process for the "
"PostgreSQL server processes."
msgstr ""

#. Tag: para
#: reference_raster.xml:11549
#, no-c-format
msgid ""
"To see what the current PostgreSQL service processes are using for maximum "
"number of open files, do as per the following example (make sure to have "
"PostgreSQL running):"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11553
#, no-c-format
msgid ""
"$ ps aux | grep postgres\n"
"postgres 31713  0.0  0.4 179012 17564 pts/0    S    Dec26   0:03 /home/"
"dustymugs/devel/postgresql/sandbox/10/usr/local/bin/postgres -D /home/"
"dustymugs/devel/postgresql/sandbox/10/pgdata\n"
"postgres 31716  0.0  0.8 179776 33632 ?        Ss   Dec26   0:01 postgres: "
"checkpointer process\n"
"postgres 31717  0.0  0.2 179144  9416 ?        Ss   Dec26   0:05 postgres: "
"writer process\n"
"postgres 31718  0.0  0.2 179012  8708 ?        Ss   Dec26   0:06 postgres: "
"wal writer process\n"
"postgres 31719  0.0  0.1 179568  7252 ?        Ss   Dec26   0:03 postgres: "
"autovacuum launcher process\n"
"postgres 31720  0.0  0.1  34228  4124 ?        Ss   Dec26   0:09 postgres: "
"stats collector process\n"
"postgres 31721  0.0  0.1 179308  6052 ?        Ss   Dec26   0:00 postgres: "
"bgworker: logical replication launcher\n"
"\n"
"$ cat /proc/31718/limits\n"
"Limit                     Soft Limit           Hard Limit           Units\n"
"Max cpu time              unlimited            unlimited            seconds\n"
"Max file size             unlimited            unlimited            bytes\n"
"Max data size             unlimited            unlimited            bytes\n"
"Max stack size            8388608              unlimited            bytes\n"
"Max core file size        0                    unlimited            bytes\n"
"Max resident set          unlimited            unlimited            bytes\n"
"Max processes             15738                15738                "
"processes\n"
"<emphasis role=\"strong\">Max open files            1024                 "
"4096                 files</emphasis>\n"
"Max locked memory         65536                65536                bytes\n"
"Max address space         unlimited            unlimited            bytes\n"
"Max file locks            unlimited            unlimited            locks\n"
"Max pending signals       15738                15738                signals\n"
"Max msgqueue size         819200               819200               bytes\n"
"Max nice priority         0                    0\n"
"Max realtime priority     0                    0\n"
"Max realtime timeout      unlimited            unlimited            us"
msgstr ""

#. Tag: para
#: reference_raster.xml:11555
#, no-c-format
msgid ""
"In the example above, we inspected the open files limit for Process 31718. "
"It doesn't matter which PostgreSQL process, any of them will do. The "
"response we are interested in is <emphasis>Max open files</emphasis>."
msgstr ""

#. Tag: para
#: reference_raster.xml:11559
#, no-c-format
msgid ""
"We want to increase <emphasis>Soft Limit</emphasis> and <emphasis>Hard "
"Limit</emphasis> of <emphasis>Max open files</emphasis> to be greater than "
"the value we specified for the PostgreSQL setting "
"<varname>max_files_per_process</varname>. In our example, we set "
"<varname>max_files_per_process</varname> to 65536."
msgstr ""

#. Tag: para
#: reference_raster.xml:11563
#, no-c-format
msgid ""
"In Ubuntu (and assuming you are using PostgreSQL's packages for Ubuntu), the "
"easiest way to change the <emphasis>Soft Limit</emphasis> and <emphasis>Hard "
"Limit</emphasis> is to edit <emphasis role=\"strong\">/etc/init.d/"
"postgresql</emphasis> (SysV) or <emphasis role=\"strong\">/lib/systemd/"
"system/postgresql*.service</emphasis> (systemd)."
msgstr ""

#. Tag: para
#: reference_raster.xml:11567
#, no-c-format
msgid ""
"Let's first address the SysV Ubuntu case where we add <emphasis role=\"strong"
"\">ulimit -H -n 262144</emphasis> and <emphasis role=\"strong\">ulimit -n "
"131072</emphasis> to <emphasis role=\"strong\">/etc/init.d/postgresql</"
"emphasis>."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11571
#, no-c-format
msgid ""
"...\n"
"case \"$1\" in\n"
"    start|stop|restart|reload)\n"
"        if [ \"$1\" = \"start\" ]; then\n"
"            create_socket_directory\n"
"        fi\n"
"        if [ -z \"`pg_lsclusters -h`\" ]; then\n"
"            log_warning_msg 'No PostgreSQL clusters exist; see \"man "
"pg_createcluster\"'\n"
"            exit 0\n"
"        fi\n"
"<emphasis role=\"strong\">\n"
"        ulimit -H -n 262144\n"
"        ulimit -n 131072\n"
"</emphasis>\n"
"        for v in $versions; do\n"
"            $1 $v || EXIT=$?\n"
"        done\n"
"        exit ${EXIT:-0}\n"
"        ;;\n"
"    status)\n"
"..."
msgstr ""

#. Tag: para
#: reference_raster.xml:11573
#, no-c-format
msgid ""
"Now to address the systemd Ubuntu case. We will add <emphasis role=\"strong"
"\">LimitNOFILE=131072</emphasis> to every <emphasis role=\"strong\">/lib/"
"systemd/system/postgresql*.service</emphasis> file in the <emphasis role="
"\"strong\">[Service]</emphasis> section."
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11577
#, no-c-format
msgid ""
"...\n"
"[Service]\n"
"<emphasis role=\"strong\">\n"
"LimitNOFILE=131072\n"
"</emphasis>\n"
"...\n"
"\n"
"[Install]\n"
"WantedBy=multi-user.target\n"
"..."
msgstr ""

#. Tag: para
#: reference_raster.xml:11579
#, no-c-format
msgid ""
"After making the necessary systemd changes, make sure to reload the daemon"
msgstr ""

#. Tag: programlisting
#: reference_raster.xml:11583
#, no-c-format
msgid "systemctl daemon-reload"
msgstr ""
